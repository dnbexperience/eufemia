"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[99180],{94929:function(n,e,a){a.r(e),a.d(e,{BaseFieldComponents:function(){return h},CreateBasicFieldComponent:function(){return d},CreateComposedFieldComponent:function(){return c},FeatureFields:function(){return m},LayoutComponents:function(){return p},UsingFormHandler:function(){return b},Validation:function(){return g},VisibilityBasedOnData:function(){return v},WithSteps:function(){return F}});a(2784);var t=a(35823),o=a(8160),l=a(16620),i=a(64129),r=a(1357),s=a(10223),u=a(52322);const d=()=>(0,u.jsx)(t.Z,{scope:{useDataValue:o.Z},hideCode:!0,noInline:!0,children:"const MyCustomField = (props) => {\n  const preparedProps = {\n    ...props,\n    validator: (value) => {\n      return value === 'secret'\n        ? new Error('Do not reveal the secret!')\n        : undefined\n    },\n  }\n  const {\n    info,\n    warning,\n    error,\n    value,\n    handleChange,\n    handleFocus,\n    handleBlur,\n  } = useDataValue(preparedProps)\n  return (\n    <FieldBlock\n      label=\"What is the secret of the custom field?\"\n      info={info}\n      warning={warning}\n      error={error}\n    >\n      <Input\n        value={value}\n        on_change={({ value }) => handleChange(value)}\n        on_focus={handleFocus}\n        on_blur={handleBlur}\n      />\n    </FieldBlock>\n  )\n}\nrender(\n  <MyCustomField\n    value=\"Nothing to see here\"\n    onChange={(value) => console.log('onChange', value)}\n  />,\n)\n"}),c=()=>(0,u.jsx)(t.Z,{scope:{DataContext:l,useDataValue:o.Z},hideCode:!0,noInline:!0,children:'const MyComposedField = (props) => {\n  const birthYear = useDataValue({\n    path: \'/birthYear\',\n  })\n  const handleBirthYearChange = React.useCallback(\n    (sliderData) => {\n      birthYear.handleChange(sliderData.value)\n    },\n    [birthYear],\n  )\n  return (\n    <FieldBlock label={props.label ?? \'Name and age\'}>\n      <Flex.Horizontal>\n        <Field.String\n          path="/firstName"\n          label="First name"\n          width="medium"\n          minLength={2}\n        />\n        <Field.String\n          path="/lastName"\n          label="Last name"\n          width="medium"\n          required\n        />\n        <FieldBlock width="large">\n          <Slider\n            min={1900}\n            max={new Date().getFullYear()}\n            step={1}\n            label="Birth year"\n            label_direction="vertical"\n            value={parseFloat(String(birthYear.value))}\n            on_change={handleBirthYearChange}\n            on_drag_start={birthYear.handleFocus}\n            on_drag_end={birthYear.handleBlur}\n            status={birthYear.error?.message}\n            tooltip\n          />\n        </FieldBlock>\n      </Flex.Horizontal>\n    </FieldBlock>\n  )\n}\nconst data = {\n  firstName: \'John\',\n  birthYear: 2000,\n}\nrender(\n  <DataContext.Provider\n    data={data}\n    onChange={(data) => console.log(\'onChange\', data)}\n  >\n    <MyComposedField label="My custom label" />\n  </DataContext.Provider>,\n)\n'}),h=()=>(0,u.jsx)(t.Z,{scope:{StepsLayout:i.Z,Value:r,Visibility:s.Z},children:'<Card stack>\n  <Field.String\n    label="Text field"\n    value="Lorem Ipsum"\n    onChange={(value) => console.log(\'onChange\', value)}\n  />\n  <Field.Number\n    label="Number Field"\n    value={789}\n    onChange={(value) => console.log(\'onChange\', value)}\n  />\n  <Field.Boolean\n    label="Boolean Field"\n    value={true}\n    onChange={(value) => console.log(\'onChange\', value)}\n  />\n</Card>\n'}),m=()=>(0,u.jsx)(t.Z,{scope:{StepsLayout:i.Z,Value:r,Visibility:s.Z},children:'<Card stack>\n  <Field.String label="Fornavn" value="John" />\n  <Field.String label="Etternavn" value="Smith" />\n  <Field.NationalIdentityNumber value="20058512345" />\n  <Field.Email value="john@smith.email" />\n  <Field.PhoneNumber value="+47 98765432" />\n</Card>\n'}),p=()=>(0,u.jsx)(t.Z,{scope:{StepsLayout:i.Z,Value:r,Visibility:s.Z},children:'<Flex.Stack>\n  <Form.MainHeading>Profile</Form.MainHeading>\n\n  <Card stack>\n    <Form.SubHeading>Name</Form.SubHeading>\n\n    <Field.String label="Fornavn" value="John" />\n    <Field.String label="Etternavn" value="Smith" />\n  </Card>\n\n  <Card stack>\n    <Form.SubHeading>More information</Form.SubHeading>\n\n    <Field.NationalIdentityNumber value="20058512345" />\n    <Field.Email value="john@smith.email" />\n    <Field.PhoneNumber value="+47 98765432" />\n  </Card>\n</Flex.Stack>\n'}),v=()=>(0,u.jsx)(t.Z,{scope:{StepsLayout:i.Z,Value:r,Visibility:s.Z},children:'<Form.Handler\n  data={{\n    firstName: undefined,\n    lastName: \'Smith\',\n    advanced: false,\n    ssn: \'123\',\n    email: \'@smith.email\',\n    phone: \'+47 98765432\',\n  }}\n  onChange={(data) => console.log(\'onChange\', data)}\n  onPathChange={(path, value) => console.log(\'onPathChange\', path, value)}\n  onSubmit={(data) => console.log(\'onSubmit\', data)}\n>\n  <Flex.Stack>\n    <Form.MainHeading>Profile</Form.MainHeading>\n\n    <Card stack>\n      <Form.SubHeading>Name</Form.SubHeading>\n\n      <Field.String path="/firstName" label="Fornavn" />\n      <Field.String path="/lastName" label="Etternavn" />\n    </Card>\n  </Flex.Stack>\n  <Field.Boolean\n    path="/advanced"\n    variant="checkbox-button"\n    label="More fields"\n  />\n  <Visibility pathTrue="/advanced">\n    <Flex.Stack>\n      <Card stack>\n        <Form.SubHeading>More information</Form.SubHeading>\n\n        <Field.NationalIdentityNumber value="20058512345" />\n        <Field.Email value="john@smith.email" />\n        <Field.PhoneNumber value="+47 98765432" />\n      </Card>\n    </Flex.Stack>\n  </Visibility>\n</Form.Handler>\n'}),b=()=>(0,u.jsx)(t.Z,{scope:{StepsLayout:i.Z,Value:r,Visibility:s.Z},children:"<Form.Handler\n  data={{\n    firstName: 'John',\n    lastName: 'Smith',\n    ssn: '20058512345',\n    email: 'john@smith.email',\n    phone: '+47 98765432',\n  }}\n  onChange={(data) => console.log('onChange', data)}\n  onPathChange={(path, value) => console.log('onPathChange', path, value)}\n  onSubmit={(data) => console.log('onSubmit', data)}\n>\n  <Form.MainHeading>Profile</Form.MainHeading>\n\n  <Card stack>\n    <Field.String path=\"/firstName\" label=\"Fornavn\" />\n    <Field.String path=\"/lastName\" label=\"Etternavn\" />\n    <Field.NationalIdentityNumber path=\"/ssn\" />\n    <Field.Email path=\"/email\" />\n    <Field.PhoneNumber path=\"/phone\" />\n\n    <Form.ButtonRow>\n      <Form.SubmitButton />\n    </Form.ButtonRow>\n  </Card>\n</Form.Handler>\n"}),g=()=>(0,u.jsx)(t.Z,{scope:{StepsLayout:i.Z,Value:r,Visibility:s.Z},children:"<Form.Handler\n  data={{\n    firstName: undefined,\n    lastName: 'Smith',\n    ssn: '123',\n    email: '@smith.email',\n    phone: '+47 98765432',\n  }}\n  onChange={(data) => console.log('onChange', data)}\n  onPathChange={(path, value) => console.log('onPathChange', path, value)}\n  onSubmit={(data) => console.log('onSubmit', data)}\n>\n  <Form.MainHeading>Profile</Form.MainHeading>\n\n  <Card stack>\n    <Field.String path=\"/firstName\" label=\"Fornavn\" required />\n    <Field.String path=\"/lastName\" label=\"Etternavn\" required />\n    <Field.NationalIdentityNumber path=\"/ssn\" validateInitially />\n    <Field.Email path=\"/email\" validateInitially />\n    <Field.PhoneNumber path=\"/phone\" validateInitially />\n  </Card>\n</Form.Handler>\n"}),F=()=>(0,u.jsx)(t.Z,{scope:{StepsLayout:i.Z,Value:r,Visibility:s.Z},children:'<Form.Handler\n  data={{\n    firstName: undefined,\n    lastName: \'Smith\',\n    advanced: false,\n    ssn: \'123\',\n    email: \'@smith.email\',\n    phone: \'+47 98765432\',\n  }}\n  onChange={(data) => console.log(\'onChange\', data)}\n  onPathChange={(path, value) => console.log(\'onPathChange\', path, value)}\n  onSubmit={(data) => console.log(\'onSubmit\', data)}\n>\n  <StepsLayout mode="loose">\n    <StepsLayout.Step title="Name">\n      <Form.MainHeading>Profile</Form.MainHeading>\n\n      <Card stack>\n        <Form.SubHeading>Name</Form.SubHeading>\n\n        <Field.String path="/firstName" label="Fornavn" required />\n        <Field.String path="/lastName" label="Etternavn" required />\n      </Card>\n\n      <Form.ButtonRow>\n        <StepsLayout.NextButton />\n      </Form.ButtonRow>\n    </StepsLayout.Step>\n\n    <StepsLayout.Step title="More information">\n      <Form.MainHeading>Profile</Form.MainHeading>\n\n      <Card stack>\n        <Form.SubHeading>More information</Form.SubHeading>\n\n        <Field.NationalIdentityNumber path="/ssn" />\n        <Field.Email path="/email" />\n        <Field.PhoneNumber path="/phone" />\n      </Card>\n\n      <Form.ButtonRow>\n        <StepsLayout.PreviousButton />\n        <StepsLayout.NextButton />\n      </Form.ButtonRow>\n    </StepsLayout.Step>\n\n    <StepsLayout.Step title="Summary">\n      <Form.MainHeading>Profile</Form.MainHeading>\n\n      <Card stack>\n        <Flex.Container>\n          <Value.String path="/firstName" label="Fornavn" />\n          <Value.String path="/lastName" label="Etternavn" />\n        </Flex.Container>\n\n        <Value.NationalIdentityNumber path="/ssn" />\n        <Value.Email path="/email" />\n        <Value.PhoneNumber path="/phone" />\n      </Card>\n\n      <Form.ButtonRow>\n        <StepsLayout.PreviousButton />\n        <Form.SubmitButton />\n      </Form.ButtonRow>\n    </StepsLayout.Step>\n  </StepsLayout>\n</Form.Handler>\n'})},16620:function(n,e,a){a.r(e),a.d(e,{At:function(){return d},Context:function(){return t.Z},Provider:function(){return o.Z},defaultContextState:function(){return t.E}});var t=a(21068),o=a(80370),l=a(2784),i=a(95955),r=a.n(i),s=a(52322);function u(n){const{path:e="/",iterate:a,children:o}=n,i=(0,l.useContext)(t.Z),{data:u,handlePathChange:d}=i,c=u&&r().has(u,e)?r().get(u,e):void 0,h=(0,l.useMemo)((()=>d?(n,a)=>{d(`${e}${n}`,a)}:void 0),[d,e]);return a?Array.isArray(c)?(0,s.jsx)(s.Fragment,{children:c.map(((n,a)=>{const l=d?(n,t)=>{d(`${e}/${a}${n}`,t)}:void 0;return(0,s.jsx)(t.Z.Provider,{value:{...i,data:n,handlePathChange:l},children:o},`element${a}`)}))}):null:(0,s.jsx)(t.Z.Provider,{value:{...i,data:c,handlePathChange:h},children:o})}u._supportsSpacingProps=!0;var d=u},59626:function(n,e,a){const t=a(2784).createContext(void 0);e.Z=t},64129:function(n,e,a){a.d(e,{Z:function(){return Z}});var t=a(2784),o=a(72779),l=a.n(o),i=a(80215),r=a(76603),s=a(66485),u=a(21068),d=a(30392),c=a(59626),h=a(52322);function m(n){const{className:e,index:a,children:o}=n,i=(0,t.useContext)(c.Z);return(null==i?void 0:i.activeIndex)!==a?null:(0,h.jsx)(d.Z,{className:l()("dnb-forms-step",e),direction:"vertical",...(0,d.W)(n),children:o})}m._supportsSpacingProps=!0;var p=m,v=a(96844),b=a(32831);function g(n){const e=(0,t.useContext)(b.Z),{className:a,variant:o="primary",icon_position:i="right",icon:r="chevron_right",children:s=(null==e?void 0:e.translation.Forms.stepNext)}=n,u=(0,t.useContext)(c.Z);return(0,h.jsx)(v.Z,{...n,className:l()("dnb-forms-next-button",a),onClick:null==u?void 0:u.handleNext,variant:o,icon_position:i,icon:r,children:s})}g._supportsSpacingProps=!0;var F=g;function S(n){const e=(0,t.useContext)(b.Z),{className:a,variant:o="tertiary",icon_position:i="left",icon:r="chevron_left",children:s=(null==e?void 0:e.translation.Forms.stepPrevious)}=n,u=(0,t.useContext)(c.Z);return(0,h.jsx)(v.Z,{...n,className:l()("dnb-forms-previous-button",a),onClick:null==u?void 0:u.handlePrevious,variant:o,icon_position:i,icon:r,children:s})}S._supportsSpacingProps=!0;var f=S,C=a(65927);function x(n){const{className:e}=n;return(0,h.jsxs)(C.Z,{className:l()("dnb-forms-buttons",e),...n,children:[(0,h.jsx)(f,{}),(0,h.jsx)(F,{})]})}x._supportsSpacingProps=!0;var N=x;function y(n){const{className:e,id:a=(0,s.Xo)(),mode:o="loose",scrollTopOnStepChange:d,initialActiveIndex:m=0,onStepChange:v,children:b,...g}=n,F=(0,t.useContext)(u.Z),{0:S,1:f}=(0,t.useState)(m),C=(0,t.useCallback)((()=>{var n;(f((n=>(null==v||v(n-1),n-1))),d)&&(null===(n=window)||void 0===n||n.scrollTo({top:0,behavior:"smooth"}))}),[d,v]),x=(0,t.useCallback)((()=>{var n;F.hasErrors()?F.setShowAllErrors(!0):(f((n=>(null==v||v(n+1),n+1))),d&&(null===(n=window)||void 0===n||n.scrollTo({top:0,behavior:"smooth"})))}),[F,d,v]),N=t.Children.map(b,(n=>{var e;if(!t.isValidElement(n)||n.type!==p)throw new Error("Only Step can be children of StepsLayout");return null!==(e=n.props.title)&&void 0!==e?e:"Title missing"})),y=(0,t.useCallback)((n=>{let{current_step:e}=n;f(e)}),[]);return(0,h.jsx)(c.Z.Provider,{value:{activeIndex:S,handlePrevious:C,handleNext:x},children:(0,h.jsxs)(i.Z,{className:l()("dnb-forms-steps-layout",e),...g,children:[(0,h.jsxs)("aside",{className:"dnb-forms-steps-layout__sidebar",children:[(0,h.jsx)(r.Z.Sidebar,{sidebar_id:a}),(0,h.jsx)(r.Z,{bottom:!0,current_step:S,data:N,mode:o,no_animation:!0,on_change:y,sidebar_id:a,title:""})]}),(0,h.jsx)("div",{className:"dnb-forms-steps-layout__contents",children:t.Children.map(b,((n,e)=>t.isValidElement(n)&&n.type===p?t.cloneElement(n,{index:e}):n))})]})})}y._supportsSpacingProps=!0,y.Step=p,y.NextButton=F,y.PreviousButton=f,y.Buttons=N;var Z=y},1357:function(n,e,a){a.r(e),a.d(e,{BankAccountNumber:function(){return j},Boolean:function(){return v},Currency:function(){return g},Date:function(){return S},Email:function(){return C},NationalIdentityNumber:function(){return y},Number:function(){return c},PhoneNumber:function(){return P},String:function(){return s}});var t=a(49406),o=a(8160),l=a(55590),i=a(52322);function r(n){const{className:e,label:a,placeholder:r,value:s,inline:u,showEmpty:d,prepare:c=(n=>n)}=(0,o.Z)(n);return(0,i.jsx)(t.Z,{className:e,label:a,showEmpty:d,placeholder:r,inline:u,...(0,l.SR)(n),children:c(s)})}r._supportsSpacingProps=!0;var s=r;function u(n,e){const{thousandSeparator:a,decimalLimit:t,fixedDecimals:o,decimalSymbol:l=",",magnitude:i,prefix:r,suffix:s}=null!=e?e:{},u=void 0!==i?n/Math.pow(10,i):n,d=void 0!==o?u.toFixed(o):t?(Math.round(u*Math.pow(10,t))/Math.pow(10,t)).toString():u.toString(),c=void 0!==l?d.replace(".",l):d,h=void 0!==a?c.replace(/\B(?=(\d{3})+(?!\d))/g,a):c,m=void 0!==r?r+h:h;return void 0!==s?m+s:m}function d(n){const{className:e,label:a,placeholder:r,value:s,inline:d,showEmpty:c,thousandSeparator:h,decimalSymbol:m,decimalLimit:p,prefix:v,suffix:b}=(0,o.Z)(n);return(0,i.jsx)(t.Z,{className:e,label:a,showEmpty:c,placeholder:r,inline:d,...(0,l.SR)(n),children:void 0!==s?u(s,{thousandSeparator:!0===h?" ":h,decimalSymbol:m,decimalLimit:p,prefix:v,suffix:b}):null})}d._supportsSpacingProps=!0;var c=d,h=a(2784),m=a(32831);function p(n){const e=(0,h.useContext)(m.Z),{className:a,label:r,placeholder:s,showEmpty:u,value:d,inline:c}=(0,o.Z)(n);return(0,i.jsx)(t.Z,{className:a,label:r,showEmpty:u,placeholder:s,inline:c,...(0,l.SR)(n),children:!0===d||!1===d?!0===d?null==e?void 0:e.translation.Forms.booleanYes:null==e?void 0:e.translation.Forms.booleanNo:null})}p._supportsSpacingProps=!0;var v=p;function b(n){var e,a;const t={...n,label:n.label,thousandSeparator:null!==(e=n.thousandSeparator)&&void 0!==e?e:" ",suffix:null!==(a=n.suffix)&&void 0!==a?a:" kr"};return(0,i.jsx)(c,{...t})}b._supportsSpacingProps=!0;var g=b;function F(n){var e;const a=(0,h.useContext)(m.Z),t={...n,label:null!==(e=n.label)&&void 0!==e?e:null==a?void 0:a.translation.Forms.dateLabel};return(0,i.jsx)(s,{...t})}F._supportsSpacingProps=!0;var S=F;function f(n){var e;const a=(0,h.useContext)(m.Z),t={...n,label:null!==(e=n.label)&&void 0!==e?e:null==a?void 0:a.translation.Forms.emailLabel};return(0,i.jsx)(s,{...t})}f._supportsSpacingProps=!0;var C=f,x=a(41672);function N(n){var e;const a=(0,h.useContext)(m.Z),t={...n,label:null!==(e=n.label)&&void 0!==e?e:n.inline||null==a?void 0:a.translation.Forms.nationalIdentityNumberLabel,prepare:n=>(0,x.WU)((0,x.bR)(n),{nin:!0}).toString()};return(0,i.jsx)(s,{...t})}N._supportsSpacingProps=!0;var y=N;function Z(n){var e;const a=(0,h.useContext)(m.Z),t={...n,label:null!==(e=n.label)&&void 0!==e?e:n.inline||null==a?void 0:a.translation.Forms.phoneNumberLabel,prepare:n=>(0,x.WU)((0,x.bR)(n),{phone:!0}).toString()};return(0,i.jsx)(s,{...t})}Z._supportsSpacingProps=!0;var P=Z;function _(n){var e;const a=(0,h.useContext)(m.Z),t={...n,label:null!==(e=n.label)&&void 0!==e?e:n.inline||null==a?void 0:a.translation.Forms.bankAccountNumberLabel,prepare:n=>(0,x.WU)((0,x.bR)(n),{ban:!0}).toString()};return(0,i.jsx)(s,{...t})}_._supportsSpacingProps=!0;var j=_},49406:function(n,e,a){var t=a(65731),o=a(94799),l=a(72779),i=a.n(l),r=a(55590),s=a(52322);function u(n){const{className:e,label:a,inline:l,placeholder:u,showEmpty:d,children:c}=n;return null!=c&&!1!==c||d||u?(0,s.jsxs)(t.Z,{className:i()("dnb-forms-value",l&&"dnb-forms-value-block--inline",e),...(0,r.SR)(n),children:[a&&(0,s.jsx)(o.Z,{className:"dnb-forms-value-block__label",label_direction:l?"horizontal":"vertical",children:a}),null!=c?c:(0,s.jsx)("span",{className:"dnb-forms-value-block__placeholder",children:u})]}):null}u._supportsSpacingProps=!0,e.Z=u},10223:function(n,e,a){var t=a(2784),o=a(95955),l=a.n(o),i=a(21068),r=a(52322);function s(n){let{visible:e,pathDefined:a,pathUndefined:o,pathTruthy:s,pathFalsy:u,pathTrue:d,pathFalse:c,inferData:h,children:m}=n;const p=(0,t.useContext)(i.Z);return!1===e||a&&!l().has(p.data,a)||o&&l().has(p.data,o)?null:!s||l().has(p.data,s)&&l().get(p.data,s)?u&&l().has(p.data,u)&&Boolean(l().get(p.data,u))?null:(!d||l().has(p.data,d)&&!0===l().get(p.data,d))&&(!c||l().has(p.data,c)&&!1===l().get(p.data,c))?h&&!h(p.data)?null:(0,r.jsx)(r.Fragment,{children:m}):null:null}s._supportsSpacingProps=!0,e.Z=s}}]);
//# sourceMappingURL=560353e96ef4970dcd2c662c33ce6240ba0ae9f7-ef91f21b82af6cb86716.js.map