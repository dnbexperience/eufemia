(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[947],{41389:function(e,t,n){"use strict";n.d(t,{D:function(){return T},wL:function(){return j},RU:function(){return C},Rh:function(){return S},yU:function(){return k},c0:function(){return E}});var a=n(17362),r=(n(57560),n(7240),n(63038),n(51006),n(58326),n(69260),n(40638),n(31339),n(87634),n(98484),n(80064),n(58759),n(58918),n(73531),n(6814),n(47944),n(2765),n(58649),n(46154),n(8319),n(54916),n(2784)),o=n(13980),i=n.n(o),c=n(64736),l=n(8683),u=n(2927),s=n(73349),g=n(72768),d=n(85368),m=n(64686),p=n(882),f=n(68973),h=n(78571),b=n(18804);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(l){r=!0,o=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function P(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var L=(0,a.Z)("div",{target:"eqsxff5"})("height:",(function(e){return e.height||"20rem"}),";overflow-y:scroll;background-color:var(--color-white);border:0.25rem dotted var(--color-black);"),O=(0,a.Z)("div",{target:"eqsxff4"})("display:flex;justify-content:center;align-items:center;height:15vw;background-color:",(function(e){return e.color||"tomato"}),";font-size:15vw;font-weight:var(--font-weight-bold);font-feature-settings:'pnum' on,'lnum' on;color:var(--color-white);"),T=function(){return(0,b.tZ)(c.Z,{"data-visual-test":"pagination-default",scope:{HeightLimit:L,LargePage:O}},"\n<Pagination\n  page_count={30}\n  startup_page={15}\n  on_change={({ page }) => {\n    console.log('on_change:', page)\n  }}\n>\n  {({ pageNo }) => <P>Page {pageNo}</P>}\n</Pagination>\n          ")},j=function(){return(0,b.tZ)(c.Z,{scope:{HeightLimit:L,LargePage:O}},'\n<Pagination\n  align="center"\n  page_count={30}\n>\n  {({ page, setContent }) => {\n    // simulate server communication delay\n    const timeout = setTimeout(() => {\n      setContent(page, <LargePage>{page}</LargePage>)\n    }, Math.ceil(Math.random() * 500))\n\n    return () => clearTimeout(timeout)\n  }}\n</Pagination>\n          ')},C=function(){return(0,b.tZ)(c.Z,{scope:{HeightLimit:L,LargePage:O}},'\n<HeightLimit>\n  <Pagination\n    mode="infinity"\n    use_load_button\n    startup_page={5}\n    min_wait_time={0}\n    on_load={({ page, setContent }) => {\n      // simulate server communication delay\n      const timeout = setTimeout(() => {\n        setContent(page, (\n          <LargePage>\n            {page}\n          </LargePage>)\n        )\n      }, Math.ceil(Math.random() * 500))\n      \n      return () => clearTimeout(timeout)\n    }}\n  />\n</HeightLimit>\n          ')},S=function(){return(0,b.tZ)(c.Z,{scope:{HeightLimit:L,LargePage:O}},'\n<HeightLimit>\n  <Pagination\n    mode="infinity"\n    indicator_element={() => (\n      <LargePage color="lightgreen">Loading ...</LargePage>\n    )}\n    startup_page={3}\n    page_count={10}\n    min_wait_time={0}\n    on_load={({ page, setContent }) => {\n      // simulate server communication delay\n      const timeout = setTimeout(() => {\n        setContent(page, (\n          <LargePage>\n            {page}\n          </LargePage>)\n        )\n      }, Math.ceil(Math.random() * 500))\n\n      return () => clearTimeout(timeout)\n    }}\n    on_end={({ page, setContent }) => {\n      setContent(page, <LargePage color="lightgreen">End</LargePage>)\n    }}\n  />\n</HeightLimit>\n          ')},k=function(){return(0,b.tZ)(c.Z,{scope:{HeightLimit:L,LargePage:O}},'\n<HeightLimit>\n  <Pagination\n    mode="infinity"\n    parallel_load_count={2}\n    min_wait_time={0}\n    on_load={({ page, setContent, endInfinity }) => {\n      // simulate server communication delay\n      const timeout = setTimeout(() => {\n        if(page > 10){\n          endInfinity()\n        }\n        else {\n          setContent(page, (\n            <LargePage>\n              {page}\n            </LargePage>)\n          )\n        }\n      }, Math.ceil(Math.random() * 1e3))\n\n      return () => clearTimeout(timeout)\n    }}\n    on_end={({ page, setContent }) => {\n      setContent(page,\n        <LargePage color="lightgreen">\n          End\n        </LargePage>\n      )\n    }}\n  />\n</HeightLimit>\n          ')},E=function(){return(0,b.tZ)(c.Z,{scope:{HeightLimit:L,PaginationTableExample:I}},'\n<HeightLimit height="60rem">\n  <PaginationTableExample />\n</HeightLimit>\n          ')};function I(){return(0,b.tZ)(U,{className:"dnb-core-style",spacing:!0},(0,b.tZ)(l.Z,{left:!0},(0,b.tZ)(g.Z,{size:"small"},"Infinity Table"),(0,b.tZ)(d.Z,{bottom:!0},"This is a semantic correct table using infinity scrolling. It also has a sticky header."),(0,b.tZ)(m.Z,{bottom:!0},(0,b.tZ)("li",null,"The startup page number is set to 3."),(0,b.tZ)("li",null,"And per page we show 10 items."),(0,b.tZ)("li",null,"A random delay is added to simulate asynchronous interaction."))),(0,b.tZ)(N,{tableItems:H}))}for(var H=[],M=1;M<=300;M++)H.push({ssn:M,text:String(M),expanded:!1});var N=function(e){var t=e.tableItems,n=P(e,["tableItems"]),a=x(r.useState(h.FV),1)[0],o=a.Pagination,i=a.setContent,c=a.resetContent,l=a.resetInfinity,s=a.endInfinity,g=x(r.useState("asc"),2),d=g[0],m=g[1],f=x(r.useState(null),2),v=f[0],_=f[1],w=x(r.useState(null),2),L=(w[0],w[1]);t=R(t,d);var O;return i(v,(0,b.tZ)(q,{items:t,perPageCount:10,currentPage:v,onToggleExpanded:function(e){var n=e.ssn,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.pageNo,o=a.element,i=void 0===o?null:o,c=a.onExpanded,l=void 0===c?null:c,u=t.findIndex((function(e){return e.ssn===n}));if(u>-1){var s=t[u];t[u]=Z(Z({},s),{},{expanded:!s.expanded}),_(r),L((new Date).getTime()),i&&z({element:i,expanded:!s.expanded}),setTimeout(l,10)}},onMounted:function(e){e.forEach((function(e){var t=e.element.current,n=e.expanded;return z({element:t,expanded:n,animation:!1})}))},endInfinity:s})),r.useEffect((function(){return function(){return clearTimeout(O)}})),(0,b.tZ)(A,{sticky:!0},(0,b.tZ)("thead",null,(0,b.tZ)("tr",null,(0,b.tZ)("th",{scope:"col"},(0,b.tZ)(u.ZP,{size:"small",icon:"reset",icon_position:"left",variant:"secondary",on_click:function(){clearTimeout(O),l(),c(),m("asc"),L((new Date).getTime())}},"Reset everything")),(0,b.tZ)("th",{scope:"col",className:"dnb-table--sortable dnb-table--active ".concat("desc"===d?" dnb-table--reversed":"")},(0,b.tZ)(u.ZP,{variant:"tertiary",icon:"arrow-down",text:"Sortable",title:"Sort table row",on_click:function(){c(),m((function(e){return"asc"===e?"desc":"asc"}))}})))),(0,b.tZ)("tbody",null,(0,b.tZ)(p.v,null),(0,b.tZ)(o,y({mode:"infinity",marker_element:"tr",fallback_element:function(e){var t=e.className,n=P(e,["className"]);return(0,b.tZ)(D,{className:t},(0,b.tZ)(F,y({colSpan:"2"},n)))},startup_count:1,parallel_load_count:1,startup_page:3},n,{on_startup:function(e){var t=e.page;console.log("on_startup: with page",t),clearTimeout(O),O=setTimeout((function(){_(t),clearTimeout(O),L((new Date).getTime())}),Math.ceil(1e3*Math.random()))},on_change:function(e){var t=e.page;console.log("on_change: with page",t),clearTimeout(O),O=setTimeout((function(){_(t)}),Math.ceil(1e3*Math.random()))}}))))};N.propTypes={tableItems:i().array.isRequired};var q=function(e){var t=e.children,n=e.items,a=e.currentPage,o=e.perPageCount,i=e.onToggleExpanded,c=e.onMounted,l=e.endInfinity,s=P(e,["children","items","currentPage","perPageCount","onToggleExpanded","onMounted","endInfinity"]),g=[];return c&&r.useEffect((function(){return c&&c(g)}),[]),0===(n=n.filter((function(e,t){var n=(a-1)*o;return t>=n&&t<n+o}))).length?(l(),null):n.map((function(e,n){var o={onClick:function(t){if(!(0,f.qF)(t.currentTarget)||/button/.test(document.activeElement.type)){var n=t.currentTarget;i(e,{pageNo:a,onExpanded:function(){try{n=n.nextElementSibling,z({element:n,expanded:!e.expanded}),n.focus()}catch(t){}}})}}},c=r.createRef(null);return g.push(Z(Z({},e),{},{element:c})),(0,b.tZ)(r.Fragment,{key:e.ssn},(0,b.tZ)(D,y({},s,o,{className:"dnb-table--".concat(n%2?"even":"odd"," ").concat(e.expanded?"expanded":""),ref:c}),(0,b.tZ)(F,null,(0,b.tZ)(u.ZP,{title:e.expanded?"Hide details":"Show more details",icon:"chevron_down",size:"small",right:"large"})),(0,b.tZ)(F,null,(0,b.tZ)(d.Z,null,e.text," ",t))),(0,b.tZ)(D,{className:"expanded-content dnb-no-focus ".concat(e.expanded?"expanded":""),tabIndex:"-1"},(0,b.tZ)(F,{colSpan:"2"},e.expanded&&(0,b.tZ)("div",{className:"expanded-content__outer"},(0,b.tZ)("div",{className:"expanded-content__inner"},(0,b.tZ)(d.Z,null,"What ever content ..."),(0,b.tZ)(u.ZP,{variant:"secondary",top:!0},"ðŸ”¥"))))))}))},A=(0,a.Z)(p.Z,{target:"eqsxff3"})({name:"wgb42e",styles:"table-layout:fixed"}),D=(0,a.Z)("tr",{target:"eqsxff2"})({name:"14oarkp",styles:"&:not(.expanded-content):hover{cursor:pointer;opacity:0.8;}.dnb-icon{transition:transform 300ms ease-out;}&.expanded{.dnb-icon{transform:rotate(-180deg);}}&.expanded-content{max-height:10rem;transform:translateY(-10px);opacity:0;transition:height 400ms ease-out,opacity 600ms ease-out,transform 400ms ease-out;td{height:inherit;padding:0;background-color:var(--color-white);.expanded-content__outer{height:inherit;}.expanded-content__inner{height:inherit;padding:2rem 0 2rem 3rem;background-color:tomato;}}}&.expanded.expanded-content{opacity:1;transform:translateY(0);}"}),F=(0,a.Z)("td",{target:"eqsxff1"})({name:"16lnd8y",styles:".dnb-pagination__loadbar{justify-content:flex-start;}.dnb-pagination__indicator,.dnb-pagination__loadbar{height:6rem;}.dnb-p{cursor:text;font-feature-settings:'pnum' on,'lnum' on;font-weight:var(--font-weight-bold);font-size:var(--font-size-large);.dnb-spacing &.dnb-h--large:not([class*='space__bottom']),.dnb-core-style .dnb-spacing &.dnb-h--large:not([class*='space__bottom']){margin:0;}}"}),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.expanded,a=void 0!==n&&n,r=e.animation,o=void 0===r||r;if(t&&"undefined"!=typeof window&&window.requestAnimationFrame){"td"===String(t.nodeName).toLowerCase()&&(t=t.parentElement);var i=a?window.getComputedStyle(t)["max-height"]:t.scrollHeight;window.requestAnimationFrame((function(){o&&(t.style.height="1px"),window.requestAnimationFrame((function(){return t.style.height=i}))}))}},R=function(e,t){return e.sort((function(e,n){var a=e.text,r=n.text,o=parseFloat(a),i=parseFloat(r);return("asc"===t?o>i:o<i)?1:-1}))},U=(0,a.Z)(s.Z,{target:"eqsxff0"})({name:"2o4w0b",styles:"width:100%;background:var(--color-white)"})}}]);
//# sourceMappingURL=5df312fc-8c0ca566504b0c52f549.js.map