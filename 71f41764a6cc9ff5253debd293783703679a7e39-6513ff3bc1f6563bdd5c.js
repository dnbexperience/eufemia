"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[63035],{6381:function(n,e,t){t.d(e,{Mq:function(){return v},Il:function(){return x},YT:function(){return j},o1:function(){return z},Q8:function(){return g},wj:function(){return w},ob:function(){return V},nI:function(){return y},Ed:function(){return P},lB:function(){return Z},HO:function(){return C},C5:function(){return E},u4:function(){return I},EM:function(){return R}});var a=t(70894),r=t(2784),l=t(35823),i=t(75511).ZP,u=t(6514);function s(n){return n.map((n=>n.current)).filter(Boolean)}function o(n){return{start:0,end:Number(n.size)}}function c(n,e,t){const a=t.indexOf(e),r=t["next"===n?a+1:"previous"===n?a-1:0],{start:l,end:i}=o(r);return r.focus(),"next"===n?r.setSelectionRange(l,l):"previous"===n?r.setSelectionRange(i,i):void 0}var d=function(n,e){const t=(0,r.useRef)(s(n));return(0,r.useEffect)((()=>{t.current=s(n)}),[n]),{onKeyDown:function(n){var a;const r=t.current,l=n.target,i=n.key,u=(null===(a=function(n){let{keysToHandle:e,input:t}=n;if(!e)return;if(e instanceof RegExp)return e;const a=e[t.id],r=t.selectionStart===t.selectionEnd?t.selectionStart:void 0;if(!r)return;const l=r===t.size?a.length-1:r;return a[l]}({keysToHandle:e,input:l}))||void 0===a?void 0:a.test(i))||/(ArrowRight|ArrowLeft|Backspace)/.test(i),s=l.selectionStart,d=function(n,e){const t=e[0],a=e[e.length-1];if(n===t)return"first";if(n===a)return"last";return"non-initial"}(l,r);window.requestAnimationFrame((()=>{const n=function(n){const{start:e,end:t}=o(n),a=n.selectionStart,r=n.selectionEnd;if(a===e&&r===e)return"first";if(a===t&&r===t)return"last";return"non-initial"}(l);if(u)return"last"!==n||"last"===d||1===s&&"ArrowRight"===i?"first"===n&&"first"!==d&&(1!==s||"ArrowLeft"!==i&&"Backspace"!==i)?c("previous",l,r):void 0:c("next",l,r)}))}}},m=t(72779),h=t.n(m),f=t(67129),p=t(2045);var b=t(52322);function k(n){let{id:e,label:t,value:a,mask:r,placeholderCharacter:l,delimiter:i,disabled:s,inputRef:o,onKeyDown:c,onChange:d}=n;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Z,{id:`${e}__input`,className:h()("dnb-input__input","dnb-multi-input-mask__input",a&&"dnb-multi-input-mask__input--highlight"),disabled:s,size:r.length,mask:r,value:null!=a?a:"",placeholderChar:l,guide:!0,showMask:!0,keepCharPositions:!1,"aria-labelledby":`${e}__label`,ref:o,onKeyDown:c,onFocus:function(n){let{target:e}=n;e.focus(),e.select()},onChange:n=>{d(e,function(n,e){return n.replace(RegExp(e,"gm"),"")}(n.target.value,l))}}),(0,b.jsx)("label",{id:`${e}__label`,htmlFor:`${e}__input`,hidden:!0,children:t}),i&&(0,b.jsx)("span",{"aria-hidden":!0,className:h()("dnb-multi-input-mask__delimiter",a&&"dnb-multi-input-mask__delimiter--highlight"),children:i})]})}var _=function(n){let{label:e,labelDirection:t="horizontal",inputs:a,delimiter:l,onChange:u,disabled:s,status:o,statusState:c,values:m,className:_,...g}=n;const[v,x]=function(n){let{inputs:e,defaultValues:t,callback:a}=n;const{0:l,1:i}=(0,r.useState)(t||e.reduce(((n,e)=>(n[e.id]="",n)),{}));return[l,function(n,e){const t={...l,[n]:e};i(t),a&&a(t)}]}({inputs:a,defaultValues:m,callback:u}),j=(0,r.useRef)([]),{onKeyDown:w}=d(j.current,function(){const n=function(){const n=new Set;return a.forEach((e=>{e.mask.forEach((e=>n.add(String(e))))})),n}();if(1===n.size){const e=n.values().next().value.replace(/\//g,"");return new RegExp(e)}return a.reduce(((n,e)=>{let{id:t,mask:a}=e;return n[`${t}__input`]=a,n}),{})}()),y=e?"fieldset":"div";return(0,b.jsxs)(y,{className:h()("dnb-multi-input-mask__fieldset","horizontal"===t&&"dnb-multi-input-mask__fieldset--horizontal",(0,p.HU)(g)),children:[e&&(0,b.jsx)(f.Z,{className:h()("dnb-multi-input-mask__legend","horizontal"===t&&"dnb-multi-input-mask__legend--horizontal"),element:"legend",onClick:function(){if(s)return;const n=j.current[0].current;n.focus(),n.setSelectionRange(0,0)},disabled:s,vertical:"vertical"===t,children:(0,b.jsx)("span",{children:e})}),(0,b.jsx)(i,{...g,className:h()("dnb-multi-input-mask",_),disabled:s,status:o,status_state:c,input_element:a.map(((n,e)=>(0,b.jsx)(r.Fragment,{children:(0,b.jsx)(k,{...n,value:v[n.id],delimiter:e!==a.length-1?l:void 0,onKeyDown:w,onChange:x,disabled:s,inputRef:V})},n.id)))})]});function V(n){const e=null==n?void 0:n.inputRef;e&&!j.current.includes(e)&&j.current.push(e)}};const g=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{"data-visual-test":"input-masked-number",children:'<Provider\n  formElement={{\n    label_direction: \'vertical\',\n  }}\n>\n  <Flex.Vertical>\n    <InputMasked\n      label="Number:"\n      as_number\n      mask_options={{\n        allowNegative: false,\n      }}\n      value="1234.50"\n      on_change={({ numberValue }) => {\n        console.log(numberValue)\n      }}\n    />\n    <InputMasked\n      label="Number (decimal limit):"\n      as_number\n      number_mask={{\n        decimalLimit: 2,\n      }}\n      value="1234.016"\n      on_change={({ numberValue }) => {\n        console.log(numberValue)\n      }}\n    />\n    <InputMasked\n      label="Percentage:"\n      as_percent\n      number_mask={{\n        decimalLimit: 1,\n      }}\n      value="1234.016"\n      on_change={({ numberValue }) => {\n        console.log(numberValue)\n      }}\n    />\n  </Flex.Vertical>\n</Provider>\n'})}),v=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{"data-visual-test":"input-masked-currency",children:'<Provider\n  formElement={{\n    label_direction: \'vertical\',\n  }}\n>\n  <Flex.Vertical>\n    <InputMasked\n      label="Currency:"\n      as_currency="EUR"\n      value="1234.50"\n      on_change={({ numberValue }) => {\n        console.log(numberValue)\n      }}\n    />\n    <Provider\n      locale="en-GB"\n      InputMasked={{\n        currency_mask: {\n          decimalLimit: 3,\n        },\n      }}\n    >\n      <InputMasked\n        label="Currency:"\n        as_currency="USD"\n        value="1234.567"\n        on_change={({ numberValue }) => {\n          console.log(numberValue)\n        }}\n      />\n    </Provider>\n  </Flex.Vertical>\n</Provider>\n'})}),x=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{"data-visual-test":"input-masked-currency_mask",children:'<Provider\n  formElement={{\n    label_direction: \'vertical\',\n  }}\n>\n  <Flex.Vertical>\n    <InputMasked\n      label="Left aligned (default):"\n      show_mask\n      currency_mask="kr"\n      on_change={({ numberValue }) => {\n        console.log(numberValue)\n      }}\n    />\n    <InputMasked\n      label="Right aligned:"\n      show_mask\n      currency_mask={{\n        currency: \'NOK\',\n      }}\n      align="right"\n      on_change={({ numberValue }) => {\n        console.log(numberValue)\n      }}\n    />\n  </Flex.Vertical>\n</Provider>\n'})}),j=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{children:"<InputMasked\n  label=\"Masked amount:\"\n  show_mask\n  number_mask={{\n    suffix: ' kr',\n    allowDecimal: true,\n  }}\n  placeholder_char={null}\n  on_change={({ numberValue }) => {\n    console.log(numberValue)\n  }}\n/>\n"})}),w=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{"data-visual-test":"input-masked-number_mask",children:'<InputMasked\n  label="Masked input:"\n  value="1000000"\n  number_mask={{\n    suffix: \',-\',\n    allowDecimal: false,\n  }}\n  suffix="kr"\n  on_change={({ numberValue }) => {\n    console.log(parseInt(numberValue || 0, 10))\n  }}\n/>\n'})}),y=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{children:'<InputMasked\n  label="Masked input:"\n  number_mask={{\n    prefix: \'NOK \',\n  }}\n  stretch={true}\n  placeholder="Enter a number"\n  on_change={({ numberValue }) => {\n    console.log(numberValue)\n  }}\n/>\n'})}),V=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{"data-visual-test":"input-masked-phone",children:"<InputMasked\n  label=\"Masked input:\"\n  mask={[\n    '0',\n    '0',\n    /[4]/,\n    // have to start with 4\n    /[5-7]/,\n    // can be 5,6 or 7\n    ' ',\n    /[49]/,\n    // have to start with 4 or 9\n    /\\d/,\n    ' ',\n    /\\d/,\n    /\\d/,\n    ' ',\n    /\\d/,\n    /\\d/,\n    ' ',\n    /\\d/,\n    /\\d/,\n  ]}\n  show_mask\n  placeholder_char=\"_\"\n  keep_char_positions\n  on_change={({ numberValue }) => {\n    console.log(numberValue)\n  }}\n/>\n"})}),M=(0,a.Z)("div",{target:"e8zk24e0"})({name:"ed8mmh",styles:"display:block;width:100%;.dnb-masked-input{margin:1rem 0;}.dnb-form-label+.dnb-masked-input{margin-top:0;}"}),I=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{hidePreview:!0,hideToolbar:!0,children:"<InputMasked\n  mask_options={{\n    allowNegative: false,\n  }}\n/>\n"})}),P=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{hidePreview:!0,children:'<InputMasked as_currency="EUR" value="1234.50" />\n'})}),Z=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{hidePreview:!0,children:'<InputMasked\n  as_currency="EUR"\n  value="1234.50"\n  on_change={({ numberValue }) => {\n    console.log(numberValue) // type of float\n  }}\n/>\n'})}),C=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{hidePreview:!0,children:'<Provider\n  locale="en-GB"\n  InputMasked={{\n    currency_mask: {\n      decimalLimit: 1, // defaults to 2\n    },\n  }}\n>\n  <InputMasked as_currency="USD" value="1234.567" />\n</Provider>\n'})}),E=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{hidePreview:!0,children:'<Provider\n  locale="en-GB"\n  InputMasked={{\n    number_mask: {\n      decimalLimit: 2, // defaults to no decimals\n    },\n  }}\n>\n  <InputMasked as_number value="1234.567" />\n</Provider>\n'})}),R=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{hidePreview:!0,children:'<InputMasked\n  as_number\n  mask_options={{\n    allowDecimal: true,\n    decimalLimit: null,\n  }}\n  value="1234.567"\n/>\n'})}),z=()=>(0,b.jsx)(M,{children:(0,b.jsx)(l.Z,{scope:{MultiInputMask:_},children:"<MultiInputMask\n  label=\"Date\"\n  delimiter=\"/\"\n  onChange={({ month, year, suffix }) =>\n    console.log({\n      month,\n      year,\n      suffix,\n    })\n  }\n  inputs={[\n    {\n      id: 'month',\n      label: 'the month',\n      placeholderCharacter: 'd',\n      mask: [/[0-9]/, /[0-9]/],\n    },\n    {\n      id: 'year',\n      label: 'the year',\n      placeholderCharacter: 'm',\n      mask: [/[0-9]/, /[0-9]/],\n    },\n    {\n      id: 'suffix',\n      label: 'suffix text',\n      placeholderCharacter: '-',\n      mask: [/[a-zA-Z]/, /[a-zA-Z]/, /[a-zA-Z]/],\n    },\n  ]}\n/>\n"})})}}]);
//# sourceMappingURL=71f41764a6cc9ff5253debd293783703679a7e39-6513ff3bc1f6563bdd5c.js.map