"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[48382],{59568:function(e,n,i){i.d(n,{A:function(){return L}});var t=i(14041),o=i(60906),d=i.n(o),r=i(93796),a=i(21669),c=i(78296),s=i(51177);var l=t.createContext({expandBehavior:"single"});const u={variant:"outlined",icon_size:"medium"};var p=i(31085);const _=e=>{const n=(0,t.useContext)(s.Ay),i=e.id||(0,r.vL)(),o={_id:i,props:e,context:n,onChangeHandler:_};function _(e){(0,r.OW)(o,"on_change",{id:e.id,expanded:e.expanded,event:e})}const h=(0,a.ym)(e,u,n.Accordion,n.getTranslation(e).Accordion),{expanded:f,expanded_id:x,prerender:v,prevent_rerender:g,single_container:m,contentRef:b,allow_close_all:w,remember_state:y,flush_remembered_state:C,disabled:A,group:j,onInit:S,className:I,id:N,children:k,collapseAllHandleRef:E,expandBehavior:O,...R}=h,z=(0,t.useRef)([]);(0,t.useEffect)((()=>{E&&(E.current=()=>{z.current.forEach((e=>e()))})}),[E]);const D=d()("dnb-accordion-group",(0,r.Hn)(m)&&"dnb-accordion-group--single-container",(0,c.CL)(h),I),H={...R};(0,r.CQ)(e,H),null!=h&&h.group||!(0,r.Hn)(e.single_container)||(h.group=(0,r.vL)());const L={...h,id:i,onChange:_,collapseAllHandleRef:E,collapseAccordionCallbacks:z,expandBehavior:O};return(0,p.jsx)(l.Provider,{value:L,children:(0,p.jsx)("div",{className:D,children:(0,p.jsx)("span",{id:i,className:"dnb-accordion-group__shell",role:"group",...H,children:(0,p.jsx)("span",{className:"dnb-accordion-group__children",children:k})})})})};_._supportsSpacingProps=!0;var h=_,f=i(41783);var x=t.createContext({}),v=i(60618);function g(e){let{children:n=null,...i}=e;return(0,p.jsx)("span",{className:d()("dnb-accordion__header__title",(0,c.CL)(i)),children:n})}function m(e){let{children:n=null,...i}=e;return n?(0,p.jsx)("span",{className:d()("dnb-accordion__header__description",(0,c.CL)(i)),children:n}):null}function b(e){let{children:n=null,...i}=e;return n?(0,p.jsx)("span",{className:d()("dnb-accordion__header__container",(0,c.CL)(i)),children:n}):null}function w(e){let{icon:n,expanded:i,size:t="medium",icon_position:o}=e;const r=n&&"object"==typeof n&&"expanded"in n&&void 0!==(null==n?void 0:n.expanded)?n[i?"expanded":"closed"]:n||"chevron-down";return(0,p.jsx)("span",{className:d()("dnb-accordion__header__icon",o&&`dnb-accordion__header__icon--${o}`),children:(0,p.jsx)(f.Ay,{size:t,icon:r,"aria-hidden":!0})})}const y={icon_size:"medium"},C=e=>{let{icon_size:n="medium",...i}=e;const o={icon_size:n,...i},{0:s,1:l}=(0,t.useState)(!1),{0:u,1:_}=(0,t.useState)(!1),h=(0,t.useContext)(x);function f(e){const{id:n,group:i}=h;if(C()){const t=!h.expanded;h.callOnChange({id:n,group:i,expanded:t,event:e}),_(!0)}}function C(){const{expanded:e,allow_close_all:n,group:i}=h;return!i||i&&!e||n}const A=(0,a.ym)(o,y,h),{id:j,left_component:S,expanded:I,title:N,description:k,element:E,heading:O,heading_level:R,icon:z,icon_size:D,disabled:H,skeleton:L,no_animation:$,variant:B}=A;let{icon_position:P}=A;const{children:Q,className:M,left_component:T,expanded:V,title:J,description:K,icon:W,icon_size:Y,disabled:F,...G}=o,Z=[(0,p.jsx)(w,{icon:z,size:D,expanded:h.expanded,icon_position:P},"icon"),(0,p.jsx)(b,{children:S},"container"),(0,p.jsx)(g,{children:N||(Array.isArray(Q)?Q.filter((e=>!t.isValidElement(e))):Q)},"title"),(0,p.jsx)(m,{children:k},"description")];if(Array.isArray(Q)){const e=[];Q.forEach((n=>{if(t.isValidElement(n)){const i=Z.find((e=>e.type===n.type));i&&e.push(i),Z.push(n)}})),e.forEach((e=>{const n=Z.findIndex((n=>n===e));n>-1&&Z.splice(n,1)}))}const q=[],U=[],X=(0,p.jsx)("span",{className:"dnb-accordion__header__wrapper",children:U},"wrapper");if(Z.forEach((e=>{!t.isValidElement(e)||e.type!==g&&e.type!==m?q.push(e):(U.push(e),-1===q.findIndex((e=>e===X))&&q.push(X))})),void 0===P){q.findIndex((e=>e.type===w))>1&&(P="right"),S&&(P="right")}const ee={id:`${j}-header`,"aria-controls":`${j}-content`,"aria-expanded":h.expanded,role:"button",tabIndex:0,className:d()("dnb-accordion__header",B&&`dnb-accordion__header--${B}`,h.expanded&&"dnb-accordion__header--expanded",P&&`dnb-accordion__header--icon-${P}`,s&&u&&h.expanded&&"dnb-accordion__header--after-click",!C()&&"dnb-accordion__header--prevent-click",k&&"dnb-accordion__header--description",$&&"dnb-accordion__header--no-animation",(0,v.QK)("font",L,h),(0,c.CL)(G),M),disabled:H,...G};H||L?(ee.tabIndex=-1,ee.disabled=!0,ee["aria-disabled"]=!0):(ee.onClick=f,ee.onKeyDown=function(e){const n=e.key;"Enter"!==n&&" "!==n||(e.preventDefault(),f(e))},ee.onMouseOver=function(){l(!0)},ee.onMouseOut=function(){l(!1),_(!1)}),(0,v.Fn)(ee,L,h),(0,r.CQ)(o,ee);let ne="div";return!O||"true"!==String(O)&&"1"!==String(O)?O?(ee.role=null,ne=O):E&&(ee.role=null,ne=E):(ee.role="heading",ee["aria-level"]=R?Number(R):2),(0,p.jsx)(ne,{...ee,children:q})};C.Container=b,C.Icon=w,C.Title=g,C.Description=m,C._supportsSpacingProps=!0;var A=C,j=i(40359),S=i(64034),I=i(79043),N=i(63109),k=i(94551);function E(e){const n=t.useContext(x),{id:i,expanded:o,prerender:a,prevent_rerender:s,single_container:l,disabled:u,no_animation:_,contentRef:h}=n,{className:f,children:v,instance:g,...m}=e;let b=t.useRef(null);const w=t.useRef(null);h&&(b=h);const y=()=>{const{single_container:e}=n;if(e){const e=b.current;if(e)try{e.style.height="";const n=(0,j.o)("dnb-accordion-group--single-container",e);_&&(n.style.transitionDuration="1ms");const i=(e.offsetHeight+e.offsetTop)/16;n.style.minHeight=`${i}rem`}catch(i){(0,S.R8)(i)}}};t.useEffect((()=>{o&&l&&y()}),[v,o,l,y]),t.useState((()=>{g&&Object.hasOwn(g,"current")&&(g.current={setContainerHeight:y})}));const C=(0,N.A)({when:{max:"small"}}),A=(()=>{const i=(0,I.Zk)(e),{expanded:t,prerender:o,prevent_rerender:d,prevent_rerender_conditional:r}=n;let a=i;return"string"==typeof a&&(a=(0,p.jsx)("p",{className:"dnb-p",children:a})),d&&(t||o||(a=null),r&&w.current!==a&&(w.current=a),w.current?a=w.current:w.current=a),a})(),E={className:d()("dnb-accordion__content",f),...m},O=a||s,R={id:`${i}-content`,"aria-labelledby":`${i}-header`,className:d()("dnb-accordion__content__inner",(0,c.CL)(m))};o&&(R["aria-expanded"]=!0),o&&!u||(R.disabled=!0,R["aria-hidden"]=!0),(0,r.CQ)(e,E),(0,r.CQ)(null,R);const z=!_&&(!l||C);return(0,p.jsx)(k.A,{...E,open:o,animate:z,keepInDOM:O,innerRef:b,children:(0,p.jsx)("section",{...R,children:A})})}E._supportsSpacingProps=!0;let O=function(){function e(e){this._id=e,this._instances=[]}var n=e.prototype;return n.onChange=function(e){let{id:n}=e;this._instances.forEach((e=>{"single"===e.context.expandBehavior&&e._id!==n&&e.close()}))},n.addInstance=function(e){this._instances.push(e)},n.removeInstance=function(e){this._instances=this._instances.filter((n=>n!==e))},e}(),R=function(){function e(e){let{id:n,group:i}=e;return this.id=n,this.group=i,this}var n=e.prototype;return n.storeId=function(e){if(void 0===e&&(e=this.id),this.group){if("#"===this.group[0])return null;e=this.group}return`dnb-accordion-${e}`},n.saveState=function(e,n,i){if(void 0===n&&(n=this.id),void 0===i&&(i={}),n)try{const t=this.getData()||{};this.group?e?t.id=n:i&&i.force&&(t.id=null):t.expanded=e;const o=this.storeId(n);o&&window.localStorage.setItem(o,JSON.stringify(t))}catch(t){}else z()},n.getData=function(e){void 0===e&&(e=this.id);const n=this.storeId(e);if(n)try{if(Object.hasOwn(window.localStorage,n))return JSON.parse(window.localStorage.getItem(n))}catch(i){}return null},n.getState=function(e){void 0===e&&(e=this.id);let n=null;const i=this.getData(e);return i&&(void 0!==i.id?n=e===i.id:void 0!==i.expanded&&(n=i.expanded)),n},n.flush=function(e){if(void 0===e&&(e=this.id),e)try{const n=this.storeId(e);n&&window.localStorage.setItem(n,null)}catch(n){}},e}();function z(e){void 0===e&&(e="accordion"),(0,S.R8)(`Missing "id" prop the ${e}! "remember_state" is enabled.`)}function D(e){let{variant:n="outlined",icon_size:i="medium",...o}=e;const _={variant:n,icon_size:i,...o},h=(0,t.useContext)(l),f=_.group||(null==h?void 0:h.group),v=(0,t.useRef)(_.id||(0,r.vL)()).current,g=new R({id:_.id,group:f}),{0:m,1:b}=(0,t.useState)(_.expanded),{0:w,1:y}=(0,t.useState)(function(){if(_.expanded_ssr||null!=h&&h.expanded_ssr)return"undefined"==typeof window;if(_.remember_state||h.remember_state){const e=g.getState();if(_.expanded&&!1===e)return!1;if(e)return!0}return void 0!==_.expanded?_.expanded:void 0!==(null==h?void 0:h.expanded)&&h.expanded}()),C=(0,t.useRef)(!1);_.expanded!==m&&(y(void 0!==_.expanded&&_.expanded),b(_.expanded));const j={_id:v,context:h,handleDisabledClick:k,callOnChange:D,callOnChangeHandler:z,close:I,setExpandedState:function(e){y(e)},state:{expanded:w,group:f},props:_,store:g};var S;((0,t.useEffect)((()=>(f&&"undefined"!=typeof window&&(window.__dnbAccordion=window.__dnbAccordion||{},window.__dnbAccordion[f]=window.__dnbAccordion[f]||new O(f),window.__dnbAccordion[f].addInstance(j)),h&&"function"==typeof(null==h?void 0:h.onInit)&&h.onInit(j),()=>{var e,n;f&&"undefined"!=typeof window&&(null===(e=window)||void 0===e||null===(n=e.__dnbAccordion[f])||void 0===n||n.removeInstance(j))})),[]),(0,t.useEffect)((()=>{h.flush_remembered_state&&(g.flush(),y(_.expanded)),null!=h&&h.expanded_id&&h.expanded_id===_.id&&y(!0)}),[h.flush_remembered_state,h.expanded_id,_.expanded,_.id,g]),null!=h&&h.collapseAllHandleRef&&!C.current)&&(null==h||null===(S=h.collapseAccordionCallbacks)||void 0===S||S.current.push(I),C.current=!0);function I(){N(!1)}function N(e){y(e),(_.remember_state||h.remember_state)&&g.saveState(e)}function k(e){return e.preventDefault(),!1}function z(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var t,o;(D.apply(void 0,n),null!=h&&h.onChange&&(null==h||h.onChange.apply(h,n)),f&&"undefined"!=typeof window)&&(null===(t=window)||void 0===t||null===(o=t.__dnbAccordion[f])||void 0===o||o.onChange.apply(o,n))}function D(){const{expanded:e,event:n}=arguments.length<=0?void 0:arguments[0];N(e),(0,r.OW)(j,"on_change",{expanded:e,event:n})}return(0,p.jsx)(s.Ay.Consumer,{children:e=>(0,p.jsx)(x.Consumer,{children:n=>{let i=w;const t=(0,a.ym)(_,u,h,n,{skeleton:null==e?void 0:e.skeleton},e.Accordion,e.translation.Accordion);void 0===i&&e.Accordion&&e.Accordion.expanded&&(i=t.expanded);const{variant:o,className:s,prerender:l,prevent_rerender:g,prevent_rerender_conditional:m,single_container:b,remember_state:y,disabled:C,skeleton:j,no_animation:S,expanded_ssr:I,children:N,id:O,group:R,title:D,description:H,left_component:L,icon:$,icon_position:B,icon_size:P,on_change:Q,on_state_update:M,contentRef:T,...V}=t,J={id:v,className:d()("dnb-accordion",i&&"dnb-accordion--expanded",o&&`dnb-accordion__variant--${o}`,l&&"dnb-accordion--prerender",(0,c.CL)(t),s)};C&&(J.onClick=k),(0,r.CQ)(_,V);const K={...(0,a.ym)(_,u,{expanded:w,group:f},h),id:v,expanded:i,prerender:l,prevent_rerender:g,prevent_rerender_conditional:m,single_container:b,remember_state:y,disabled:C,skeleton:j,no_animation:S,callOnChange:z};return(0,p.jsx)(x.Provider,{value:K,children:(0,p.jsxs)("div",{...J,children:[(0,r.Y6)(N,(e=>e.type===A))?null:(0,p.jsx)(A,{}),(0,r.Y6)(N,(e=>e.type===E))?N:(0,p.jsx)(E,{children:N})]})})}})})}const H=e=>{let{expandBehaviour:n,expandBehavior:i="single",...o}=e;o.remember_state&&!o.id&&z("accordion group");const{0:d,1:a}=(0,t.useState)(null),c=(0,t.useRef)([]),s=null!=o&&o.id?o.id:o.group?void 0:"#"+(0,r.vL)(),l=(0,t.useMemo)((()=>new R({group:s})),[s]);return(0,t.useEffect)((()=>{const e=l.getData(),n=null==c?void 0:c.current;if(null==e||!e.id)return;if(n.includes(null==e?void 0:e.id))return;const i=n[0];i&&a(i)}),[l]),(0,t.useEffect)((()=>{d&&(l.saveState(!0,d),a(null))}),[d,l]),(0,p.jsx)(h,{onInit:function(e){e.props.id&&!c.current.includes(e.props.id)&&c.current.push(e.props.id)},...o,group:s,expandBehavior:n||i,expanded_id:d||o.expanded_id})};D.Provider=h,D.Header=A,D.Content=E,D.Group=H,H.Store=function(e,n){return void 0===n&&(n=null),new R({group:e,id:n})},D.Store=e=>new R({id:e}),D._supportsSpacingProps=!0;var L=D}}]);
//# sourceMappingURL=96aaa1a3d46f59c2b6e031d86b3ee86364f7b092-ff994f989792187abba1.js.map