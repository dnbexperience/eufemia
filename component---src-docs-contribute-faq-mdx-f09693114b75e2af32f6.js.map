{"version":3,"file":"component---src-docs-contribute-faq-mdx-f09693114b75e2af32f6.js","mappings":"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","sources":["webpack://dnb-design-system-portal/./src/docs/contribute/faq.mdx"],"sourcesContent":["/*@jsxRuntime automatic @jsxImportSource react*/\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    h2: \"h2\",\n    p: \"p\",\n    code: \"code\",\n    h3: \"h3\",\n    pre: \"pre\",\n    h4: \"h4\",\n    ul: \"ul\",\n    li: \"li\",\n    a: \"a\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"Frequently Asked Questions (FAQ)\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Visual tests and Playwright\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Jest does start several works at the same time. When we simulate states on e.g. ToggleButton and Button – Playwright (v1.31.2) struggles to handle this. Some of the hover or focus tests will fail. To ensure Jest we never execute several workers as the same time, we set \", _jsx(_components.code, {\n        children: \"--maxWorkers=1\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Installing screenshot browser\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For running screenshot tests (visual tests), a headless Firefox browser is needed.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In normal circumstances, the browser will be installed automatically via \", _jsx(_components.code, {\n        children: \"yarn install\"\n      }), \" – but to either upgrade to a newer version, or to wipe out existing versions and run the install manually, you can run these commands, depending on your needs:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"yarn workspace @dnb/eufemia playwright uninstall --all\\nyarn workspace @dnb/eufemia add -D @playwright/test\\nyarn workspace @dnb/eufemia playwright install firefox\\n\\nyarn workspace dnb-design-system-portal playwright uninstall --all\\nyarn workspace dnb-design-system-portal add -D @playwright/test\\nyarn workspace dnb-design-system-portal playwright install firefox\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Alternative install: skip authentication\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"But, since Node.js and corporate proxy do not enjoy each other's company, this might\\nfail with a \", _jsx(_components.code, {\n        children: \"Error: unable to get local issuer certificate\"\n      }), \". In that case, your only\\noption might be to disable all authentication for this command.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"NODE_TLS_REJECT_UNAUTHORIZED=0 yarn workspace @dnb/eufemia playwright install firefox\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h4, {\n      children: \"Alternative install: manually\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Or, in the very worst case, you can manually download the zip file that \", _jsx(_components.code, {\n        children: \"yarn workspace  @dnb/eufemia playwright install firefox\"\n      }), \" attempts to download, and extract the file\\n(\\\"Nightly\\\" for Firefox) to the folder indicated when \", _jsx(_components.code, {\n        children: \"yarn test:screenshots\"\n      }), \" fails.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"How can I make faster builds?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is only meant for \\\"setup testing\\\" purposes! In order to make faster local builds, you can:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Inside \", _jsx(_components.code, {\n          children: \"gatsby-config.js\"\n        }), \" rename all sourcing from \", _jsx(_components.code, {\n          children: \"/docs\"\n        }), \" to \", _jsx(_components.code, {\n          children: \"/docs_dummy\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Run \", _jsx(_components.code, {\n        children: \"yarn workspace dnb-design-system-portal build:visual-test\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can also run \", _jsx(_components.code, {\n        children: \"filter=button,input yarn start\"\n      }), \" (case sensitive) to only run specific pages.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"How to enable lint-staged?\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Create a file called \", _jsx(_components.code, {\n        children: \".env.local\"\n      }), \" in the root of the repo (side-by-side to the .git folder), and put \", _jsx(_components.code, {\n        children: \"LINT_STAGED=1\"\n      }), \" inside:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"# File: .env.local\\nLINT_STAGED=1\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Dependency issues\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Jest\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"jsdom \", _jsx(_components.a, {\n          href: \"https://github.com/jsdom/jsdom/releases/tag/21.0.0\",\n          children: \"v21\"\n        }), \" changed \", _jsx(_components.code, {\n          children: \"window\"\n        }), \", \", _jsx(_components.code, {\n          children: \"document\"\n        }), \", \", _jsx(_components.code, {\n          children: \"location\"\n        }), \", and top properties of Window to be non-configurable. Which made it impossible to mock \", _jsx(_components.code, {\n          children: \"window.location\"\n        }), \" in Jest. While there are workarounds, we decided to use v20 instead of the latest (\", _jsx(_components.code, {\n          children: \"\\\"jest-environment-jsdom/jsdom\\\": \\\"20.0.3\\\",\"\n        }), \").\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Babel\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Due to this bug: \", _jsx(_components.a, {\n          href: \"https://github.com/babel/babel/issues/11394\",\n          children: \"https://github.com/babel/babel/issues/11394\"\n        }), \" we add \", _jsx(_components.code, {\n          children: \".png,.snap\"\n        }), \" so they not get copied: \", _jsx(_components.code, {\n          children: \"--extensions '.js,.ts,.tsx,.png,.snap'\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Yarn PnP\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Eufemia uses yarn with \", _jsx(_components.code, {\n        children: \"node_modules\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When switching over to Yarn PnP, there are some issues:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Storybook:\", \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            children: \"ERROR in eufemia/.yarn/__virtual__/@dnb-eufemia-virtual-761b82657c/1/packages/dnb-eufemia/src/components/slider/style/dnb-range.scss (eufemia/.yarn/__virtual__/css-loader-virtual-37c5c374e4/0/cache/css-loader-npm-5.2.7-e1e8b8d16f-fb0742b30a.zip/node_modules/css-loader/dist/cjs.js!eufemia/.yarn/__virtual__/sass-loader-virtual-577853f541/0/cache/sass-loader-npm-10.2.0-91ed64638b-d53212e5d1.zip/node_modules/sass-loader/dist/cjs.js!eufemia/.yarn/__virtual__/@dnb-eufemia-virtual-761b82657c/1/packages/dnb-eufemia/src/components/slider/style/dnb-range.scss)\\nModule build failed (from eufemia/.yarn/__virtual__/sass-loader-virtual-577853f541/0/cache/sass-loader-npm-10.2.0-91ed64638b-d53212e5d1.zip/node_modules/sass-loader/dist/cjs.js):\\nSassError: File to import not found or unreadable: eufemia/.yarn/__virtual__/@dnb-eufemia-virtual-761b82657c/1/packages/dnb-eufemia/src/style/components/imports.scss.\\n        on line 6 of ../../.yarn/__virtual__/@dnb-eufemia-virtual-761b82657c/1/packages/dnb-eufemia/src/components/slider/style/dnb-range.scss\\n>> @import '../../../style/components/imports.scss';\\n\"\n          })\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Gatsby\", \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-bash\",\n            children: \"gatsby-plugin-mdx tried to access mkdirp, but it isn't declared in its dependencies; this makes the require call ambiguous and unsound.\\n\"\n          })\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"MDX v1 > v2/v3\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In MDX v1 the Portal used an MDX template (\", _jsx(_components.code, {\n        children: \"./templates/mdx.js\"\n      }), \") with the \", _jsx(_components.code, {\n        children: \"createPage\"\n      }), \" API. This is currently not the case anymore.\\nInstead, the \\\"PortalLayout\\\" is used to wrap \", _jsx(_components.code, {\n        children: \".mdx\"\n      }), \" pages inside the \", _jsx(_components.code, {\n        children: \"wrapPageElement\"\n      }), \" API.\\nThis is due to the \", _jsx(_components.code, {\n        children: \"JavaScript heap out of memory\"\n      }), \" error when using templates.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"I get Gatsby 404 Not Found on the pages I work on\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Try cleaning cache: \", _jsx(_components.code, {\n          children: \"yarn workspace dnb-design-system-portal gatsby clean\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Try running \", _jsx(_components.code, {\n          children: \"yarn build\"\n        }), \" again\"]\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","h2","p","code","h3","pre","h4","ul","li","a","_provideComponents","components","_jsxs","_Fragment","children","_jsx","className","href","wrapper","MDXLayout"],"sourceRoot":""}