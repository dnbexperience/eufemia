"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[29083],{41017:function(e,t,n){n.d(t,{A:function(){return b}});var o=n(84996),l=n(14041),i=n(60906),s=n.n(i),r=n(51177),c=n(21436),a=n(79043),u=n(64034),p=n(21669),d=n(78296),m=n(3547),h=n(13951),f=n(15163),_=n(86471),y=n(31085);let b=function(e){function t(t){var n;return(n=e.call(this,t)||this).clearCopyTooltipTimeout=()=>{n._copyTooltipTimeout&&(clearTimeout(n._copyTooltipTimeout),n._copyTooltipTimeout=null)},n.showCopyTooltip=e=>{var t,o,l;const i=null===(t=(o=n.context).getTranslation)||void 0===t||null===(l=t.call(o,n.props))||void 0===l?void 0:l.NumberFormat,s=e||(null==i?void 0:i.clipboard_copy);s&&(n.clearCopyTooltipTimeout(),n.setState({copyTooltipActive:!0,copyTooltipText:s},(()=>{n._copyTooltipTimeout=setTimeout((()=>{n.setState({copyTooltipActive:!1})}),3e3)})))},n.shortcutHandler=()=>{var e;const t=null===(e=n.context.getTranslation(n.props))||void 0===e?void 0:e.NumberFormat.clipboard_copy;n.showCopyTooltip(t)},n.onBlurHandler=()=>{n.setState({selected:!1})},n.onContextMenuHandler=()=>{(0,u.f5)()||n.setFocus()},n.onClickHandler=()=>{!(0,c.Hn)(n.props.selectall)&&!(0,c.Hn)(n.props.always_selectall)||(0,u.f5)()||n.setFocus()},n.onMouseEnter=()=>{n.setState({hover:!0})},n.onMouseLeave=()=>{n.setState({hover:!1})},n._ref=l.createRef(),n._selectionRef=l.createRef(),n._id=t.tooltip?t.id||(0,c.vL)():void 0,n._copyTooltipTimeout=null,n.state={selected:!1,omitCurrencySign:!1,hover:!1,copyTooltipActive:!1,copyTooltipText:null},n}(0,o.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){u.pz&&!v&&(v=!0,(0,_.wG)())},n.componentWillUnmount=function(){var e;null===(e=this.outsideClick)||void 0===e||e.remove(),this.clearCopyTooltipTimeout()},n.setFocus=function(){(0,a.CN)()||this.setState({selected:!0},(()=>{var e;null===(e=this._selectionRef.current)||void 0===e||e.focus({preventScroll:!0}),this.selectAll(),(0,c.Hn)(this.props.copy_selection)||(this.outsideClick=(0,a.Nz)(this._ref.current,this.onBlurHandler))}))},n.selectAll=function(){try{const e=this._selectionRef.current||this._ref.current;if(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}catch(e){(0,u.R8)(e)}},n.runFix=function(e,t){return"function"==typeof e&&(e=e()),l.isValidElement(e)?l.cloneElement(e,{className:s()(e.props.className,t)}):(0,y.jsx)("span",{className:t,children:e})},n.render=function(){const e=this.context.getTranslation(this.props).NumberFormat,n=(0,p.u)(this.props,t.defaultProps,e,this.context.NumberFormat),{id:o,value:l,prefix:i,suffix:r,children:a,currency:u,currency_display:b,currency_position:v,compact:x,ban:T,nin:g,phone:C,org:H,percent:N,link:A,monospace:F,tooltip:k,skeleton:S,options:j,locale:w,decimals:M,omit_rounding:R,rounding:$,clean:E,selectall:L,copy_selection:V,clean_copy_value:P,srLabel:B,element:z,className:D,...G}=n;let Q=G,I=A,K=l;null===K&&null!==a&&(K=a);let O=v;"code"!==b||O||(O="before");const U={locale:w,currency:u,currency_display:b,currency_position:O,omit_currency_sign:this.state.omitCurrencySign,compact:x,ban:T,nin:g,phone:C,org:H,percent:N,decimals:M,omit_rounding:(0,c.Hn)(R),rounding:$,options:j,clean:(0,c.Hn)(E),clean_copy_value:(0,c.Hn)(P),returnAria:!0,invalidAriaText:w&&w!==this.context.locale?null:null==e?void 0:e.not_available},W=(0,c.zu)({locale:null,currency:null},this.context);W&&(W.locale&&!w&&(U.locale=W.locale),W.currency&&(0,c.Hn)(u)&&(U.options=U.options?{...U.options}:{},U.options.currency=W.currency));const X=(0,_.GP)(K,U),{cleanedValue:q,locale:J}=X;let{aria:Y,number:Z}=X;this.cleanedValue=q,i&&(Z=(0,y.jsxs)(y.Fragment,{children:[this.runFix(i,"dnb-number-format__prefix")," ",Z]}),Y=String(`${(0,c.fV)(this.runFix(i,"dnb-number-format__prefix"))} ${Y}`)),r&&(Z=(0,y.jsxs)(y.Fragment,{children:[Z," ",this.runFix(r,"dnb-number-format__suffix")]}),Y=`${Y} ${(0,c.fV)(this.runFix(r,"dnb-number-format__suffix"))}`),k&&(Q=(0,h.X6)(Q));const ee={lang:J,ref:this._ref,className:s()("dnb-number-format",D,((0,c.Hn)(u)||"string"==typeof u)&&"dnb-number-format--currency",(0,c.Hn)(L)&&"dnb-number-format--selectall",this.state.selected&&"dnb-number-format--selected",I&&"dnb-anchor",F&&"dnb-number-format--monospace",(0,d.CL)(this.props)),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,...Q},te={};if(((0,c.Hn)(L)||(0,c.Hn)(V))&&(te.onClick=this.onClickHandler,te.onContextMenu=this.onContextMenuHandler),(0,c.CQ)(this.props,ee),(0,m.Fn)(ee,S,this.context),I)return(0,c.Hn)(I)&&(I="tel"),(0,y.jsx)("a",{href:`${I}:${Z}`,...ee,children:Z});const ne=z;return(0,y.jsxs)(ne,{...ee,children:[(0,y.jsx)("span",{className:s()("dnb-number-format__visible",(0,m.QK)("font",S,this.context)),"aria-hidden":!this.state.hover,...te,children:Z}),(0,y.jsx)("span",{className:"dnb-sr-only","data-text":B?`${(0,c.fV)(B)}Â ${Y}`:Y}),(0,c.Hn)(V)&&(0,y.jsx)("span",{className:"dnb-number-format__selection dnb-no-focus",ref:this._selectionRef,tabIndex:-1,onBlur:this.onBlurHandler,onCopy:this.shortcutHandler,"aria-hidden":!0,children:this.state.selected&&q}),k&&(0,y.jsx)(f.A,{id:this._id+"-tooltip",targetElement:this._ref,tooltip:k}),this.state.copyTooltipActive&&(0,y.jsx)(f.A,{active:this.state.copyTooltipActive,targetElement:this._ref,showDelay:0,hideDelay:0,triggerOffset:8,children:this.state.copyTooltipText})]})},t}(l.PureComponent);b.contextType=r.Ay,b.defaultProps={id:null,value:null,locale:null,prefix:null,suffix:null,currency:null,currency_display:null,currency_position:null,compact:null,ban:null,nin:null,phone:null,org:null,percent:null,link:null,monospace:!1,options:null,decimals:null,selectall:!0,always_selectall:!1,copy_selection:!0,clean_copy_value:!1,omit_rounding:null,rounding:null,clean:null,srLabel:null,element:"span",tooltip:null,skeleton:null,className:null,children:null};let v=!1;b._supportsSpacingProps=!0}}]);
//# sourceMappingURL=component---src-docs-uilib-components-number-format-info-mdx-ee324c06b3345f9a2d2d.js.map