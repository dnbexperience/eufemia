{"version":3,"file":"component---src-docs-uilib-components-tag-visual-tests-clickable-tag-tsx-c727476cda32bf4fa7db.js","mappings":"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","sources":["webpack://dnb-design-system-portal/./src/docs/uilib/components/tag/visual-tests/clickable-tag.tsx","webpack://dnb-design-system-portal/../dnb-eufemia/src/components/tag/TagContext.tsx","webpack://dnb-design-system-portal/../dnb-eufemia/src/components/tag/TagGroup.tsx","webpack://dnb-design-system-portal/../dnb-eufemia/src/components/tag/Tag.tsx"],"sourcesContent":["import React from 'react'\nimport { Tag } from '@dnb/eufemia/src'\n\nexport default function ClickableTag() {\n  return (\n    <div data-visual-test=\"tag-clickable\" style={{ margin: '2rem' }}>\n      <Tag\n        text=\"Some filter\"\n        onClick={() => {\n          console.log('I was sent!')\n        }}\n      />\n    </div>\n  )\n}\n","import React from 'react'\n\nexport const TagGroupContext = React.createContext(null)\n","import React from 'react'\nimport classnames from 'classnames'\n\n// Components\nimport { createSpacingClasses } from '../space/SpacingHelper'\n\n// Shared\nimport {\n  validateDOMAttributes,\n  extendPropsWithContext,\n} from '../../shared/component-helper'\nimport Context from '../../shared/Context'\nimport type { SpacingProps } from '../../shared/types'\nimport { TagGroupContext } from './TagContext'\nimport type { SkeletonShow } from '../skeleton/Skeleton'\n\nexport interface TagGroupProps {\n  /**\n   * Aria label to describe the tag group\n   * Default: null\n   */\n  label: React.ReactNode\n\n  /**\n   * Custom className on the component root\n   * Default: null\n   */\n  className?: string\n\n  /**\n   * The tags to group.\n   * Default: null\n   */\n  children?: React.ReactNode\n\n  /**\n   * Skeleton should be applied when loading content\n   * Default: false\n   */\n  skeleton?: SkeletonShow\n}\n\nexport const defaultProps = {\n  label: null,\n  className: null,\n  children: null,\n  skeleton: false,\n}\n\nconst TagGroup = (localProps: TagGroupProps & SpacingProps) => {\n  // Every component should have a context\n  const context = React.useContext(Context)\n  // Extract additional props from global context\n  const {\n    label,\n    className,\n    children: childrenProp,\n    ...props\n  } = extendPropsWithContext(localProps, defaultProps, context?.TagGroup, {\n    skeleton: context?.skeleton,\n  })\n\n  let children = childrenProp\n\n  if (Array.isArray(childrenProp)) {\n    children = [...childrenProp].map((child) => {\n      return child\n    })\n  }\n\n  const spacingClasses = createSpacingClasses(props)\n  const {\n    skeleton, // eslint-disable-line\n    ...attributes\n  } = validateDOMAttributes({}, props)\n\n  return (\n    <TagGroupContext.Provider value={props}>\n      <span\n        className={classnames('dnb-tag__group', spacingClasses, className)}\n        {...attributes}\n      >\n        <span className=\"dnb-sr-only\">{label}</span>\n        {children}\n      </span>\n    </TagGroupContext.Provider>\n  )\n}\n\nTagGroup._supportsSpacingProps = true\n\nexport default TagGroup\n","import React from 'react'\nimport classnames from 'classnames'\n\n// Components\nimport IconPrimary from '../icon-primary/IconPrimary'\nimport type { IconIcon } from '../icon/Icon'\nimport Button, { ButtonProps } from '../button/Button'\n\n// Shared\nimport Context from '../../shared/Context'\nimport type { SpacingProps } from '../../shared/types'\nimport type { SkeletonShow } from '../skeleton/Skeleton'\nimport {\n  warn,\n  extendPropsWithContext,\n} from '../../shared/component-helper'\n\n// Internal\nimport TagGroup from './TagGroup'\nimport { TagGroupContext } from './TagContext'\nimport { createSpacingClasses } from '../space/SpacingHelper'\n\nexport interface TagProps {\n  /**\n   * The content of the tag element, can be a string or a React Element.\n   * Default: null\n   */\n  text?: string | React.ReactNode\n\n  /**\n   * Icon displaying on the left side\n   * Default: null\n   */\n  icon?: IconIcon\n\n  /**\n   * If a label is given, typical inside a table or dl (definition list), then you can disable Tag.Group as a dependent of Tag. Use `true` to omit the `Tag group required:` warning.\n   * Default: null\n   */\n  hasLabel?: boolean\n\n  /**\n   * Custom className on the component root\n   * Default: null\n   */\n  className?: string\n\n  /**\n   * Skeleton should be applied when loading content\n   * Default: null\n   */\n  skeleton?: SkeletonShow\n\n  /**\n   * The content of the tag element, can be a string or a React Element. Will be overwritten by text prop\n   * Default: null\n   */\n  children?: string | React.ReactNode // ReactNode allows multiple elements, strings, numbers, fragments, portals...\n\n  /**\n   * Handle the click event on 'tag' element\n   * Default: null\n   */\n  onClick?: React.MouseEventHandler<HTMLButtonElement>\n\n  /**\n   * Handle the delete event on 'tag' element\n   * Default: null\n   */\n  onDelete?: React.MouseEventHandler<HTMLButtonElement>\n\n  /**\n   * Handle the delete event on 'tag' element\n   * Default: null\n   */\n  omitOnKeyUpDeleteEvent?: boolean\n\n  /**\n   * Internal property\n   * Has translation in context\n   */\n  removeIconTitle?: string\n}\n\nexport const defaultProps = {\n  skeleton: null,\n  omitOnKeyUpDeleteEvent: false,\n}\n\nconst Tag = (localProps: TagProps & SpacingProps) => {\n  // Every component should have a context\n  const context = React.useContext(Context)\n  const tagGroupContext = React.useContext(TagGroupContext)\n\n  // Extract additional props from global context\n  const allProps = extendPropsWithContext(\n    localProps,\n    defaultProps,\n    context?.translation?.Tag,\n    context?.Tag,\n    tagGroupContext\n  )\n\n  const {\n    className,\n    skeleton,\n    children,\n    text,\n    hasLabel,\n    onClick,\n    onDelete,\n    omitOnKeyUpDeleteEvent,\n    removeIconTitle, // has a translation in context\n    ...props\n  } = allProps\n\n  const content = text || children\n  const isClickable = !!onClick\n  const isRemovable = !!onDelete && !isClickable\n  const isInteractive = isClickable || isRemovable\n  const spacingClasses = createSpacingClasses(props)\n  const tagClassNames = classnames(\n    'dnb-tag',\n    className,\n    spacingClasses,\n    isInteractive && 'dnb-tag--interactive',\n    isRemovable && 'dnb-tag--removable'\n  )\n  const buttonAttr: typeof props & Pick<ButtonProps, 'element' | 'type'> =\n    props\n\n  const isDeleteKeyboardEvent = (keyboardEvent) => {\n    return (\n      keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete'\n    )\n  }\n\n  const handleKeyUp = (event) => {\n    if (onDelete && isDeleteKeyboardEvent(event)) {\n      onDelete(event)\n    }\n  }\n\n  if (!isInteractive) {\n    buttonAttr.element = 'span'\n    buttonAttr.type = ''\n  }\n\n  if (isRemovable) {\n    buttonAttr.icon = getDeleteIcon()\n  }\n\n  if (!tagGroupContext && !hasLabel) {\n    warn(\n      `Tag group required: A Tag requires a Tag.Group with label description as a parent component. This is to ensure correct semantic and accessibility.`\n    )\n  }\n\n  return (\n    <Button\n      variant=\"unstyled\"\n      size=\"small\"\n      icon_position={isRemovable ? 'right' : 'left'}\n      className={tagClassNames}\n      on_click={onClick || onDelete}\n      text={content}\n      skeleton={skeleton}\n      onKeyUp={\n        isRemovable && !omitOnKeyUpDeleteEvent\n          ? (e) => handleKeyUp(e)\n          : undefined\n      }\n      {...buttonAttr}\n    />\n  )\n\n  function getDeleteIcon() {\n    return (\n      <IconPrimary\n        title={removeIconTitle}\n        inherit_color={false}\n        icon={\n          <svg\n            width=\"16\"\n            height=\"16\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M0 8a8 8 0 1 1 16 0A8 8 0 1 1 0 8Z\"\n              className=\"dnb-icon-close-circle-path\"\n            />\n            <path\n              d=\"m5.5 10.5 5-5m0 5-5-5\"\n              className=\"dnb-icon-close-cross-path\"\n              strokeWidth=\"1.5\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            />\n          </svg>\n        }\n      />\n    )\n  }\n}\n\nTag.Group = TagGroup\n\nTag._supportsSpacingProps = true\n\nexport default Tag\n"],"names":["ClickableTag","_jsx","style","margin","children","Tag","text","onClick","console","log","TagGroupContext","React","defaultProps","label","className","skeleton","TagGroup","localProps","context","Context","childrenProp","props","extendPropsWithContext","Array","isArray","_toConsumableArray","map","child","spacingClasses","createSpacingClasses","attributes","validateDOMAttributes","Provider","value","_jsxs","classnames","_supportsSpacingProps","omitOnKeyUpDeleteEvent","_context$translation","tagGroupContext","allProps","translation","hasLabel","onDelete","removeIconTitle","content","isClickable","isRemovable","isInteractive","tagClassNames","buttonAttr","element","type","icon","IconPrimary","title","inherit_color","width","height","fill","xmlns","d","strokeWidth","strokeLinecap","strokeLinejoin","warn","Button","variant","size","icon_position","on_click","onKeyUp","e","handleKeyUp","event","keyboardEvent","key","undefined","Group"],"sourceRoot":""}