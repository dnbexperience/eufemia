"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[19263],{1769:function(e,n,i){i.r(n);var s=i(31085),l=i(71184);function o(e){const n=Object.assign({h2:"h2",pre:"pre",code:"code",p:"p",ul:"ul",li:"li",a:"a",strong:"strong"},(0,l.R)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{children:"Import"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { Upload } from '@dnb/eufemia'\n"})}),"\n",(0,s.jsx)(n.h2,{children:"Description"}),"\n",(0,s.jsx)(n.p,{children:"The Upload component should be used in scenarios where the user has to upload any kind of files."}),"\n",(0,s.jsx)(n.h2,{children:"Relevant links"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.figma.com/design/cdtwQD8IJ7pTeE45U148r1/%F0%9F%92%BB-Eufemia---Web?node-id=23118-25104",children:"Figma"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/dnbexperience/eufemia/tree/main/packages/dnb-eufemia/src/components/upload",children:"Source code"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/dnbexperience/eufemia/tree/main/packages/dnb-design-system-portal/src/docs/uilib/components/upload",children:"Docs code"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{children:"How to use the Upload component"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Files selected by the user should be uploaded immediately to a temporary location."}),"\n",(0,s.jsx)(n.li,{children:"The user should be able to remove files during the session."}),"\n",(0,s.jsxs)(n.li,{children:["The Upload component connects to the ",(0,s.jsx)(n.a,{href:"/uilib/components/global-status",children:"GlobalStatus"})," and displays file error messages there."]}),"\n",(0,s.jsxs)(n.li,{children:["Validation messages from the backend should be displayed for each file via the ",(0,s.jsx)(n.code,{children:"useUpload"})," hook. See the ",(0,s.jsx)(n.a,{href:"/uilib/components/upload/#upload-error-message",children:"example"})," below."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"useUpload"})," hook can be placed in any location in your application, and does not need to be where the ",(0,s.jsx)(n.code,{children:"Upload"})," component is used."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"function YourComponent() {\n  const myUploadId = 'unique-id' // or a function, object or React Context reference\n  const { files, setFiles } = Upload.useUpload(myUploadId)\n\n  React.useEffect(() => {\n    setFiles(\n      files.map((fileItem) => {\n        if (fileItem.file.name === fileNameFromBackend) {\n          fileItem.errorMessage = 'Your message from the backend'\n        }\n        return fileItem\n      }),\n    )\n  }, [fileNameFromBackend])\n\n  return <Upload id={myUploadId} />\n}\n"})}),"\n",(0,s.jsxs)(n.h2,{children:[(0,s.jsx)(n.code,{children:"useUpload"})," hook"]}),"\n",(0,s.jsx)(n.p,{children:"Exposes the following functionality:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"files"}),": The given files of the Upload component."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"setFiles"}),": A function to set the files of the Upload component."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"clearFiles"}),": A function to clear the files of the Upload component. It can be useful when you want to programmatically clear the files of the Upload component at a given time."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{children:"Variant compact"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"compact"})," variant displays less information than the ",(0,s.jsx)(n.code,{children:"normal"})," variant and aims to display only what's necessary for the user to upload a file:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Upload button"}),"\n",(0,s.jsx)(n.li,{children:"List of uploaded files"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"title"})," as label (can be removed by providing the value ",(0,s.jsx)(n.code,{children:"false"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"text"})," as sublabel (can be removed by providing the value ",(0,s.jsx)(n.code,{children:"false"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"It does not display information about:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"filesAmountLimit"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"fileMaxSize"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"acceptedFileTypes"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{children:"JPG vs JPEG"}),"\n",(0,s.jsxs)(n.p,{children:["When ",(0,s.jsx)(n.code,{children:"jpg"})," is defined (most commonly used), the component will also accept ",(0,s.jsx)(n.code,{children:"jpeg"})," files."]}),"\n",(0,s.jsx)(n.h2,{children:"Backend integration"}),"\n",(0,s.jsx)(n.p,{children:"The backend receiving the files is decoupled and can be any existing or new system."}),"\n",(0,s.jsx)(n.h2,{children:"Limit the amount of files"}),"\n",(0,s.jsxs)(n.p,{children:["By default, the Upload component accepts multiple files. You can use the property ",(0,s.jsx)(n.code,{children:"filesAmountLimit={1}"})," to make the component accept only one file."]}),"\n",(0,s.jsx)(n.h2,{children:"Page-wide drop support"}),"\n",(0,s.jsx)(n.p,{children:"Once the Upload component mounts, it also adds support for dropping files to the entire browser body."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"NB:"})," When you have several mounted components, only the first Upload component will receive the dropped files."]}),"\n",(0,s.jsxs)(n.h2,{children:["The ",(0,s.jsx)(n.code,{children:"download"})," property"]}),"\n",(0,s.jsx)(n.p,{children:"Each file item is displayed as a clickable link with its original file name, which opens the file source in a new browser tab."}),"\n",(0,s.jsxs)(n.p,{children:["In some situations, it's more suitable to have each link download the file instead of opening it in a new browser tab. To achieve this, set the ",(0,s.jsx)(n.code,{children:"download={true}"})," property on the Upload component."]}),"\n",(0,s.jsx)(n.h2,{children:"Prevents uploading duplicate files"}),"\n",(0,s.jsxs)(n.p,{children:["By default, the Upload component prevents uploading duplicate files. It determines if a file is a duplicate if the file's ",(0,s.jsx)(n.code,{children:"name"}),", ",(0,s.jsx)(n.code,{children:"size"})," (if existing), and ",(0,s.jsx)(n.code,{children:"lastModified"})," (if existing) values are equal. You can use the property ",(0,s.jsx)(n.code,{children:"allowDuplicates={true}"})," to allow duplicate files."]})]})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.R)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(o,e)})):o(e)}}}]);
//# sourceMappingURL=component---src-docs-uilib-components-upload-info-mdx-34c4d34cbccf97a732f8.js.map