"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[19263,24058],{1769:function(e,n,s){s.r(n);var o=s(31085),i=s(71184);function l(e){const n=Object.assign({h2:"h2",pre:"pre",code:"code",p:"p",ul:"ul",li:"li",a:"a",strong:"strong"},(0,i.R)(),e.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{children:"Import"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import { Upload } from '@dnb/eufemia'\n"})}),"\n",(0,o.jsx)(n.h2,{children:"Description"}),"\n",(0,o.jsx)(n.p,{children:"The Upload component should be used in scenarios where the user has to upload any kind of files."}),"\n",(0,o.jsx)(n.h2,{children:"How to use the Upload component"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Files selected by the user should be uploaded immediately (temporary location)."}),"\n",(0,o.jsx)(n.li,{children:"The user should be able to remove them (files) during the session."}),"\n",(0,o.jsxs)(n.li,{children:["The Upload component connects to the ",(0,o.jsx)(n.a,{href:"/uilib/components/global-status",children:"GlobalStatus"})," and displays file error messages there as well."]}),"\n",(0,o.jsxs)(n.li,{children:['Validation messages coming from the "backend" should be displayed for each file via the ',(0,o.jsx)(n.code,{children:"useUpload"})," hook. See ",(0,o.jsx)(n.a,{href:"/uilib/components/upload/#upload-error-message",children:"example"})," below."]}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"useUpload"})," hook can be placed in any location in your application, and does not need to be where the ",(0,o.jsx)(n.code,{children:"Upload"})," component is used."]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"function YourComponent() {\n  const myUploadId = 'unique-id' // or a function, object or React Context reference\n  const { files, setFiles } = Upload.useUpload(myUploadId)\n\n  React.useEffect(() => {\n    setFiles(\n      files.map((fileItem) => {\n        if (fileItem.file.name === fileNameFromBackend) {\n          fileItem.errorMessage = 'Your message from the backend'\n        }\n        return fileItem\n      }),\n    )\n  }, [fileNameFromBackend])\n\n  return <Upload id={myUploadId} />\n}\n"})}),"\n",(0,o.jsx)(n.h2,{children:"JPG vs JPEG"}),"\n",(0,o.jsxs)(n.p,{children:["When ",(0,o.jsx)(n.code,{children:"jpg"})," is defined (most commonly used), then the component will also accept ",(0,o.jsx)(n.code,{children:"jpeg"})," files."]}),"\n",(0,o.jsx)(n.h2,{children:"Backend integration"}),"\n",(0,o.jsx)(n.p,{children:'The "backend" receiving the files is decoupled and can be any existing or new system.'}),"\n",(0,o.jsx)(n.h2,{children:"Limit the amount of files"}),"\n",(0,o.jsxs)(n.p,{children:["By default, the Upload component accepts multiple files. You can use the property ",(0,o.jsx)(n.code,{children:"filesAmountLimit={1}"})," to make the component accept only one file."]}),"\n",(0,o.jsx)(n.h2,{children:"Page wide drop support"}),"\n",(0,o.jsx)(n.p,{children:"Once the Upload component mounts, it also adds support for dropping files to the entire browser body."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"NB:"})," When you have several mounted components, only the first Upload component will receive the dropped files."]}),"\n",(0,o.jsxs)(n.h2,{children:["The ",(0,o.jsx)(n.code,{children:"download"})," property"]}),"\n",(0,o.jsx)(n.p,{children:"Each file item is displayed as a clickable link with its original file name, which opens the file source in a new browser tab."}),"\n",(0,o.jsxs)(n.p,{children:["In some situations, it's more suitable to have each link download the file instead of opening it in a new browser tab. To achieve this, set the ",(0,o.jsx)(n.code,{children:"download={true}"})," property on the Upload component."]}),"\n",(0,o.jsx)(n.h2,{children:"Prevents uploading duplicate files"}),"\n",(0,o.jsxs)(n.p,{children:["By default, the Upload component prevents uploading duplicate files.\nIt determines if a file is duplicate if the file's ",(0,o.jsx)(n.code,{children:"name"}),", ",(0,o.jsx)(n.code,{children:"size"})," (if existing), and ",(0,o.jsx)(n.code,{children:"lastModified"})," (if existing) values are equal.\nYou can use the property ",(0,o.jsx)(n.code,{children:"allowDuplicates={true}"})," to make the component allow duplicate files."]})]})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,i.R)(),e.components);return n?(0,o.jsx)(n,Object.assign({},e,{children:(0,o.jsx)(l,e)})):l(e)}},90056:function(e,n,s){s.r(n);var o=s(31085),i=s(71184),l=s(1769),t=s(65281);function d(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.default,{}),"\n",(0,o.jsx)(t.default,{})]})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,i.R)(),e.components);return n?(0,o.jsx)(n,Object.assign({},e,{children:(0,o.jsx)(d,e)})):d()}}}]);
//# sourceMappingURL=component---src-docs-uilib-components-upload-mdx-293f67fac94c1dbd4572.js.map