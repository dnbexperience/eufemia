"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[39778],{60879:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(52322),s=t(45392),o=t(2784),i=t(54109),l=t(89751),a=t(58984),c=t(33658),d=t(95955),u=t.n(d),h=t(21068);function f(e){const{log:n,generateRef:t,filterData:r,children:s}=e||{},{fieldPropsRef:i,valuePropsRef:l,data:a,hasContext:c}=(0,o.useContext)(h.Z);(0,o.useRef)({}).current=a;const d=(0,o.useCallback)((()=>{const e=Object.entries((null==i?void 0:i.current)||{}).reduce(((e,n)=>{let[t,s]=n;if(t.startsWith("/")){const n={};for(const e in s)void 0!==s[e]&&"function"!=typeof s[e]&&(n[e]=s[e]);!1!==(null==r?void 0:r[t])&&u().set(e,t,n)}return e}),{}),n=Object.entries((null==l?void 0:l.current)||{}).reduce(((e,n)=>{let[t,s]=n;if(t.startsWith("/")){const n={};for(const e in s)void 0!==s[e]&&"function"!=typeof s[e]&&(n[e]=s[e]);!1!==(null==r?void 0:r[t])&&u().set(e,t,n)}return e}),{});return{propsOfFields:e,propsOfValues:n}}),[i,r,l]);return c&&(n&&console.log(d()),t&&(t.current=d)),s}var p=t(84616);const x=["minLength","maxLength","pattern","description","min","max","multipleOf","exclusiveMinimum","exclusiveMaximum"];function m(e){const{generateRef:n,filterData:t,log:r,children:s}=e||{},{fieldPropsRef:i,valuePropsRef:l,data:a,hasContext:c}=(0,o.useContext)(h.Z),d=(0,o.useRef)({});d.current=a;const f=(0,o.useCallback)((()=>{const e=Object.entries((null==i?void 0:i.current)||{}).reduce(((e,n)=>{let[r,s]=n;if(r.startsWith("/")){const n=r.substring(1),o=n.split("/"),i=o.length,l={type:s.valueType||"string"};for(const e of x)s[e]&&(l[e]=s[e]);if(i>1){const n=[""];for(const r of o){n.push(r);const i=n.join("/properties/"),a=n.length-1===o.length,c=u().has(e,i)?u().get(e,i):null,d=a?l:c;if(a)!1!==(null==t?void 0:t[i])&&u().set(e,i,d);else{const n={type:"object",...c},r=[];s.required&&r.push(o.at(-1)),null!=c&&c.required&&r.push.apply(r,(0,p.Z)(c.required)),r.length>0&&(n.required=r),!1!==(null==t?void 0:t[i])&&u().set(e,i,n)}}}else!1!==(null==t?void 0:t[r])&&u().set(e.properties,r,l),s.required&&e.required.push(n)}return e}),{type:"object",properties:{},required:[]}),n=Object.entries((null==i?void 0:i.current)||{}).reduce(((e,n)=>{let[t,r]=n;if(t.startsWith("/")){const n={};for(const e in r)void 0!==r[e]&&"function"!=typeof r[e]&&(n[e]=r[e]);u().set(e,t,n)}return e}),{}),r=Object.entries((null==l?void 0:l.current)||{}).reduce(((e,n)=>{let[t,r]=n;if(t.startsWith("/")){const n={};for(const e in r)void 0!==r[e]&&"function"!=typeof r[e]&&(n[e]=r[e]);u().set(e,t,n)}return e}),{});return 0===e.required.length&&delete e.required,{schema:e,data:d.current,propsOfFields:n,propsOfValues:r}}),[i,t,l]);return c&&(r&&console.log(f().schema),n&&(n.current=f)),s}var j=t(71370),b=t(52480),g=t(64627),y=t(10287),k=t(21608),v=t(18379),F=t(87578),C=t(61890);const Z={"nb-NO":{MyBlock:{MyField:{label:"Felt label"}}},"en-GB":{MyBlock:{MyField:{label:"Field label"}}}};function w(e){return(0,r.jsx)(y.Z,{translations:Z,required:!0,...e,children:(0,r.jsx)(O,{})})}function O(){const e=k.Z();return(0,r.jsxs)(C.Z,{children:[(0,r.jsx)(v.Z.First,{path:"/firstName"}),(0,r.jsx)(v.Z.Last,{path:"/lastName"}),(0,r.jsx)(F.Z,{label:e.MyBlock.MyField.label,path:"/myField"})]})}const B=()=>(0,r.jsx)(c.Z,{data:{firstName:"Nora"},translations:{"nb-NO":{MyBlock:{MyField:{label:"Egendefinert"}}},"en-GB":{MyBlock:{MyField:{label:"Custom"}}}},children:(0,r.jsx)(M,{children:(0,r.jsx)(w,{})})}),R={"/showProps":!1,"/showSchema":!1};function M(e){let{children:n}=e;const t=(0,o.useRef)(),s=(0,o.useRef)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{generateRef:t,filterData:R,children:(0,r.jsx)(m,{generateRef:s,filterData:R,children:(0,r.jsx)(i.Z,{innerSpace:!0,backgroundColor:"white",children:n})})}),(0,r.jsx)(i.Z,{backgroundColor:"sand-yellow",innerSpace:!0,children:(0,r.jsxs)(l.Z,{align:"center",children:[(0,r.jsx)(j.Z,{text:"Submit"}),(0,r.jsx)(b.Z,{path:"/showProps",variant:"button",trueText:"Hide Props",falseText:"Show Props"}),(0,r.jsx)(b.Z,{path:"/showSchema",variant:"button",trueText:"Hide Schema",falseText:"Show Schema"})]})}),(0,r.jsx)(g.Z,{pathTrue:"/showProps",animate:!0,children:(0,r.jsx)(S,{title:"Props:",generateRef:t})}),(0,r.jsx)(g.Z,{pathTrue:"/showSchema",animate:!0,children:(0,r.jsx)(S,{title:"Schema:",generateRef:s,transform:e=>e.schema})})]})}function S(e){let{title:n,generateRef:t,transform:s=(e=>e)}=e;const o=s(t.current());return(0,r.jsxs)(i.Z,{element:"output",innerSpace:!0,backgroundColor:"sand-yellow",children:[(0,r.jsx)(a.Z,{children:n}),(0,r.jsx)("pre",{children:JSON.stringify(o,null,2)})]})}function T(e){const n=Object.assign({h1:"h1",p:"p",h2:"h2",a:"a",h3:"h3",pre:"pre",code:"code"},(0,s.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{children:"Blocks"}),"\n",(0,r.jsx)(n.p,{children:"These blocks are in an alpha state and are not yet production ready. Get in touch with us if you are interested in using them."}),"\n",(0,r.jsx)(n.h2,{children:"Usage"}),"\n",(0,r.jsx)(n.p,{children:"Blocks are a collection of reusable fields and values. They can also be 100% cstomized and nested in each other. This makes it easy to reuse the same blocks in different contexts."}),"\n",(0,r.jsxs)(n.p,{children:["Read about how to create a block/section by using a ",(0,r.jsx)(n.a,{href:"/uilib/extensions/forms/Form/Section/",children:"Form.Section"}),"."]}),"\n",(0,r.jsx)(n.h3,{children:"Import a block"}),"\n",(0,r.jsx)(n.p,{children:"You import a block like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"import { Category } from '@dnb/eufemia/src/extensions/forms/blocks'\nrender(<Category.FirstBlock />)\n"})}),"\n",(0,r.jsxs)(n.h3,{children:["Optional ",(0,r.jsx)(n.code,{children:"path"})," support"]}),"\n",(0,r.jsxs)(n.p,{children:["Optionally you can define a ",(0,r.jsx)(n.code,{children:"path"})," to the block component. This makes it possible to reuse the same block component in different contexts."]}),"\n",(0,r.jsx)(n.h3,{children:"Customization"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"overwriteProps"})," prop lets you overwrite all of the field props if needed:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { Category } from '@dnb/eufemia/src/extensions/forms/blocks'\n\nrender(\n  <Category.FirstBlock\n    overwriteProps={{\n      firstName: { label: 'Custom label' },\n      lastName: { required: false, minLength: 0 },\n    }}\n  />,\n)\n"})}),"\n",(0,r.jsx)(n.h3,{children:"Text translations"}),"\n",(0,r.jsxs)(n.p,{children:["You can change the text used inside of blocks via the ",(0,r.jsx)(n.a,{href:"/uilib/extensions/forms/Form/Handler/",children:"Form.Handler"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/src/extensions/forms'\nimport { Category } from '@dnb/eufemia/src/extensions/forms/blocks'\n\nconst myTranslations = {\n  'nb-NO': { FirstBlock: { MyField: { label: 'Egendefinert' } } },\n  'en-GB': { FirstBlock: { MyField: { label: 'Custom label' } } },\n}\n\nexport function MyForm() {\n  return (\n    <Form.Handler translations={myTranslations}>\n      <Category.FirstBlock />\n    </Form.Handler>\n  )\n}\n"})}),"\n",(0,r.jsx)(n.h2,{children:"Category"}),"\n",(0,r.jsx)(n.h3,{children:"FirstBlock"}),"\n",(0,r.jsx)(B,{}),"\n",(0,r.jsx)("br",{})]})}var N=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(T,e)})):T(e)}}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-blocks-all-blocks-mdx-73a24f2293a14767a0d8.js.map