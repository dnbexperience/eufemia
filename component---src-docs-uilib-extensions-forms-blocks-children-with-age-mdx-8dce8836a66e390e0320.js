"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[14160],{95853:function(e,n,r){r.r(n),r.d(n,{default:function(){return U}});var t={};r.r(t),r.d(t,{ChildrenWithAge:function(){return N}});var i=r(52322),l=r(45392),s=r(85179);const a={mode:{doc:"`summary` for a `Value.*` version, `edit` for an editable field version. Defaults to `edit`.",type:"number",status:"optional"},enableAdditionalQuestions:{doc:"[`joint-responsibility`, `daycare`]",type:"array",status:"optional"},toWizardStep:{doc:"If defined, a `Wizard.EditButton` will be shown.",type:"number",status:"optional"}};var o=r(2784),u=r(64368),d=r(61890),c=r(54109),h=r(89751),f=r(76412),p=r(58984),m=r(33658),x=r(95955),j=r.n(x),g=r(21068);function b(e){const{log:n,generateRef:r,filterData:t,children:i}=e||{},{fieldPropsRef:l,valuePropsRef:s,data:a,hasContext:u}=(0,o.useContext)(g.Z);(0,o.useRef)({}).current=a;const d=(0,o.useCallback)((()=>{const e=Object.entries((null==l?void 0:l.current)||{}).reduce(((e,n)=>{let[r,i]=n;if(r.startsWith("/")){const n={};for(const e in i)void 0===i[e]||"function"==typeof i[e]||(0,o.isValidElement)(i[e])||(n[e]=i[e]);!1!==(null==t?void 0:t[r])&&j().set(e,r,n)}return e}),{}),n=Object.entries((null==s?void 0:s.current)||{}).reduce(((e,n)=>{let[r,i]=n;if(r.startsWith("/")){const n={};for(const e in i)void 0===i[e]||"function"==typeof i[e]||(0,o.isValidElement)(i[e])||(n[e]=i[e]);!1!==(null==t?void 0:t[r])&&j().set(e,r,n)}return e}),{});return{propsOfFields:e,propsOfValues:n}}),[l,t,s]);return u&&(n&&console.log(d()),r&&(r.current=d)),i}var y=r(84616);const v=["minLength","maxLength","pattern","description","min","max","multipleOf","exclusiveMinimum","exclusiveMaximum"];function Z(e){const{generateRef:n,filterData:r,log:t,children:i}=e||{},{fieldPropsRef:l,valuePropsRef:s,data:a,hasContext:u}=(0,o.useContext)(g.Z),d=(0,o.useRef)({});d.current=a;const c=(0,o.useCallback)((()=>{const e=Object.entries((null==l?void 0:l.current)||{}).reduce(((e,n)=>{let[t,i]=n;if(t.startsWith("/")){const n=t.substring(1),l=n.split("/"),s=l.length,a={type:i.valueType||"string"};for(const e of v)i[e]&&(a[e]=i[e]);if(s>1){const n=[""];for(const t of l){n.push(t);const s=n.join("/properties/"),o=n.length-1===l.length,u=j().has(e,s)?j().get(e,s):null,d=o?a:u;if(o)!1!==(null==r?void 0:r[s])&&j().set(e,s,d);else{const n={type:"object",...u},t=[];i.required&&t.push(l.at(-1)),null!=u&&u.required&&t.push.apply(t,(0,y.Z)(u.required)),t.length>0&&(n.required=t),!1!==(null==r?void 0:r[s])&&j().set(e,s,n)}}}else!1!==(null==r?void 0:r[t])&&j().set(e.properties,t,a),i.required&&e.required.push(n)}return e}),{type:"object",properties:{},required:[]}),n=Object.entries((null==l?void 0:l.current)||{}).reduce(((e,n)=>{let[r,t]=n;if(r.startsWith("/")){const n={};for(const e in t)void 0!==t[e]&&"function"!=typeof t[e]&&(n[e]=t[e]);j().set(e,r,n)}return e}),{}),t=Object.entries((null==s?void 0:s.current)||{}).reduce(((e,n)=>{let[r,t]=n;if(r.startsWith("/")){const n={};for(const e in t)void 0!==t[e]&&"function"!=typeof t[e]&&(n[e]=t[e]);j().set(e,r,n)}return e}),{});return 0===e.required.length&&delete e.required,{schema:e,data:d.current,propsOfFields:n,propsOfValues:t}}),[l,r,s]);return u&&(t&&console.log(c().schema),n&&(n.current=c)),i}var C=r(71370),A=r(37735),W=r(70470),R=r(64627),S=r(7565),D=r(67863),O=r(52480),P=r(36325),w=r(11850),k=r(80843),F=r(40996),q=r(76222),L=r(48975),T=r(11523),V=r(1062),z=r(58376);const M={"nb-NO":{ChildrenWithAge:{hasChildren:{title:"Antall barn",fieldLabel:"Har du/dere barn under 18 år?",required:"Du må angi om du har barn under 18 år eller ikke."},countChildren:{fieldLabel:"Antall barn under 18 år",required:"Du må skrive inn antall barn.",valueVale:"Antall barn under 18 år",suffix:"barn"},childrenAge:{fieldLabel:"Alder på barn nr. {itemNr}",required:"Du må skrive inn alder på barnet.",suffix:"år"},hasJointResponsibility:{fieldLabel:"Har du delt omsorg for noen av barna?"},confirmJointResponsibility:{fieldLabel:"Delt omsorg"},usesDaycare:{fieldLabel:"Har du/dere SFO/AKS for noen av barna?",required:"Du må angi om du har SFO/AKS for noen av barna."},hasDaycare:{fieldLabel:"Er på SFO/AKS"},jointResponsibilityTrue:"delt omsorg",jointResponsibilityFalse:"ikke delt omsorg",daycareTrue:"SFO/AKS",daycareFalse:"uten SFO/AKS"}},"en-GB":{ChildrenWithAge:{hasChildren:{title:"Number of children",fieldLabel:"Do you have children under the age of 18?",required:"You must state whether you have children under 18 or not."},countChildren:{fieldLabel:"Number of children under the age of 18",required:"You must enter the number of children.",valueVale:"Number of children under the age of 18",suffix:"children"},childrenAge:{fieldLabel:"Age of child no. {itemNr}",required:"You must enter the age of the child.",suffix:"years old"},hasJointResponsibility:{fieldLabel:"Do you have joint parental responsibility for any of the children?"},confirmJointResponsibility:{fieldLabel:"Joint parental responsibility"},usesDaycare:{fieldLabel:"Do you have SFO/AKS for any of the children?",required:"You must state whether you have SFO/AKS for any of the children."},hasDaycare:{fieldLabel:"Has SFO/AKS"},jointResponsibilityTrue:"joint parental responsibility",jointResponsibilityFalse:"not joint parental responsibility",daycareTrue:"SFO/AKS",daycareFalse:"without SFO/AKS"}}};function N(e){let{mode:n,enableAdditionalQuestions:r,toWizardStep:t,...l}=e;return(0,i.jsx)(S.Z,{translations:M,required:!0,...l,children:"summary"===n?(0,i.jsx)(J,{toWizardStep:t}):(0,i.jsx)(B,{enableAdditionalQuestions:r})})}function B(e){let{enableAdditionalQuestions:n}=e;const r=D.Z();return(0,i.jsxs)(z.Z,{stack:!0,children:[(0,i.jsx)(p.Z,{children:r.ChildrenWithAge.hasChildren.title}),(0,i.jsx)(O.Z,{path:"/hasChildren",label:r.ChildrenWithAge.hasChildren.fieldLabel,variant:"buttons",defaultValue:!1,errorMessages:{required:r.ChildrenWithAge.hasChildren.required}}),(0,i.jsxs)(R.Z,{pathTrue:"/hasChildren",animate:!0,children:[(null==n?void 0:n.includes("joint-responsibility"))&&(0,i.jsx)(O.Z,{path:"/hasJointResponsibility",label:r.ChildrenWithAge.hasJointResponsibility.fieldLabel,variant:"buttons",defaultValue:!1,errorMessages:{required:r.ChildrenWithAge.hasChildren.required}}),(null==n?void 0:n.includes("daycare"))&&(0,i.jsx)(O.Z,{path:"/usesDaycare",label:r.ChildrenWithAge.usesDaycare.fieldLabel,variant:"buttons",defaultValue:!1,errorMessages:{required:r.ChildrenWithAge.usesDaycare.required}}),(0,i.jsx)(P.Z,{path:"/countChildren",label:r.ChildrenWithAge.countChildren.fieldLabel,errorMessages:{minimum:r.ChildrenWithAge.countChildren.required},width:"small",defaultValue:1,minimum:1,maximum:20,showStepControls:!0}),(0,i.jsx)(w.Z,{countPath:"/countChildren",countPathTransform:K,countPathLimit:20,path:"/children",children:(0,i.jsxs)(k.Z,{label:r.ChildrenWithAge.childrenAge.fieldLabel,align:"center",children:[(0,i.jsx)(P.Z,{itemPath:"/age",errorMessages:{required:r.ChildrenWithAge.childrenAge.required},placeholder:"0",startWith:-1,width:"small",minimum:0,maximum:100,showStepControls:!0}),(0,i.jsx)(R.Z,{pathTrue:"/hasJointResponsibility",children:(0,i.jsx)(O.Z,{itemPath:"/jointResponsibility",defaultValue:!1,label:r.ChildrenWithAge.confirmJointResponsibility.fieldLabel})}),(0,i.jsx)(R.Z,{pathTrue:"/usesDaycare",children:(0,i.jsx)(O.Z,{itemPath:"/hasDaycare",defaultValue:!1,label:r.ChildrenWithAge.hasDaycare.fieldLabel})})]})})]})]})}function J(e){let{toWizardStep:n}=e;const r=D.Z();return(0,i.jsxs)(z.Z,{stack:!0,children:[(0,i.jsx)(p.Z,{children:r.ChildrenWithAge.hasChildren.title}),(0,i.jsxs)(F.Z,{children:[(0,i.jsx)(q.Z,{path:"/countChildren",label:r.ChildrenWithAge.countChildren.valueVale,defaultValue:0,suffix:r.ChildrenWithAge.countChildren.suffix,maximum:20}),(0,i.jsx)(R.Z,{pathTrue:"/hasChildren",children:(0,i.jsx)(w.Z,{path:"/children",children:(0,i.jsxs)(L.Z,{label:r.ChildrenWithAge.childrenAge.fieldLabel,gap:!1,children:[(0,i.jsx)(q.Z,{itemPath:"/age",suffix:r.ChildrenWithAge.childrenAge.suffix,defaultValue:"–"}),(0,i.jsxs)(R.Z,{pathTrue:"/hasJointResponsibility",children:[", ",(0,i.jsx)(T.Z,{inline:!0,itemPath:"/jointResponsibility",trueText:r.ChildrenWithAge.jointResponsibilityTrue,falseText:r.ChildrenWithAge.jointResponsibilityFalse,defaultValue:!1})]}),(0,i.jsxs)(R.Z,{pathTrue:"/usesDaycare",children:[", ",(0,i.jsx)(T.Z,{inline:!0,itemPath:"/hasDaycare",trueText:r.ChildrenWithAge.daycareTrue,falseText:r.ChildrenWithAge.daycareFalse,defaultValue:!1})]})]})})})]}),"number"==typeof n?(0,i.jsx)(V.Z,{toStep:n}):null]})}const K=e=>{let{value:n}=e;return Object.prototype.hasOwnProperty.call(n||{},"age")?n:{age:void 0}};N._supportsSpacingProps=!0;var _=r(49118);const E=e=>(0,i.jsx)(m.Z,{children:(0,i.jsx)(H,{children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(N,{...e}),(0,i.jsx)(N,{mode:"summary",...e})]})})}),Q=e=>(0,i.jsx)(u.Z,{scope:{Blocks:t,props:e},noInline:!0,children:'const MyForm = () => {\n  const { summaryTitle } = Form.useLocale().Step\n  return (\n    <Form.Handler>\n      <Wizard.Container>\n        <Wizard.Step title="Step 1">\n          <Blocks.ChildrenWithAge {...props} />\n          <Wizard.Buttons />\n        </Wizard.Step>\n\n        <Wizard.Step title={summaryTitle}>\n          <Blocks.ChildrenWithAge\n            mode="summary"\n            toWizardStep={0}\n            {...props}\n          />\n\n          <Form.ButtonRow>\n            <Wizard.Buttons />\n            <Form.SubmitButton variant="send" />\n          </Form.ButtonRow>\n        </Wizard.Step>\n      </Wizard.Container>\n    </Form.Handler>\n  )\n}\nrender(<MyForm />)\n'});function H(e){let{children:n}=e;const{filterData:r}=(0,_.Z)(),t=(0,o.useMemo)((()=>({"/toggleToolOf":!1})),[]),l=(0,o.useMemo)((()=>({current:()=>r(t)})),[r,t]),s=(0,o.useRef)(),a=(0,o.useRef)();return(0,i.jsxs)(d.Z,{top:"large",children:[(0,i.jsx)(b,{generateRef:s,filterData:t,children:(0,i.jsx)(Z,{generateRef:a,filterData:t,children:n})}),(0,i.jsx)(c.Z,{backgroundColor:"sand-yellow",innerSpace:!0,children:(0,i.jsxs)(h.Z,{align:"center",children:[(0,i.jsx)(C.Z,{text:"Submit"}),(0,i.jsxs)(A.ZP,{path:"/toggleToolOf",variant:"button",optionsLayout:"horizontal",children:[(0,i.jsx)(W.Z,{value:"off",title:"Off"}),(0,i.jsx)(W.Z,{value:"data",title:"Data"}),(0,i.jsx)(W.Z,{value:"props",title:"Props"}),(0,i.jsx)(W.Z,{value:"schema",title:"Schema"})]}),(0,i.jsx)(f.Z,{title:"About Data, Props and Schema",children:"Data, Props and Schema will show block relevant information. Schema is an automatically generated Ajv schema, while props shows all used props to define the block functionality."})]})}),(0,i.jsx)(R.Z,{visibleWhen:{path:"/toggleToolOf",hasValue:"data"},children:(0,i.jsx)(I,{title:"Data",generateRef:l})}),(0,i.jsx)(R.Z,{visibleWhen:{path:"/toggleToolOf",hasValue:"props"},children:(0,i.jsx)(I,{title:"Props",generateRef:s})}),(0,i.jsx)(R.Z,{visibleWhen:{path:"/toggleToolOf",hasValue:"schema"},children:(0,i.jsx)(I,{title:"Schema",generateRef:a,transform:e=>e.schema})})]})}function I(e){let{title:n,generateRef:r,transform:t=(e=>e)}=e;const l=t(r.current());return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{children:n}),(0,i.jsx)(c.Z,{element:"output",innerSpace:!0,backgroundColor:"sand-yellow",children:(0,i.jsx)("pre",{children:JSON.stringify(l,null,2)})})]})}function Y(e){const n=Object.assign({h1:"h1",p:"p",code:"code",a:"a",h2:"h2",pre:"pre"},(0,l.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{children:"ChildrenWithAge"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ChildrenWithAge"})," is a block for displaying children with age. Check out the ",(0,i.jsx)(n.a,{href:"https://github.com/dnbexperience/eufemia/tree/main/packages/dnb-eufemia/src/extensions/forms/blocks/ChildrenWithAge",children:"source code"})," for more information."]}),"\n",(0,i.jsx)(n.h2,{children:"Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { ChildrenWithAge } from '@dnb/eufemia/extensions/forms/blocks'\nrender(<ChildrenWithAge />)\n"})}),"\n",(0,i.jsx)(n.h2,{children:"In Wizard"}),"\n",(0,i.jsx)(Q,{}),"\n",(0,i.jsx)(n.h2,{children:"Basic"}),"\n",(0,i.jsx)(E,{}),"\n",(0,i.jsxs)(n.h2,{children:["With ",(0,i.jsx)(n.code,{children:"joint-responsibility"})," question"]}),"\n",(0,i.jsx)(E,{enableAdditionalQuestions:["joint-responsibility"]}),"\n",(0,i.jsxs)(n.h2,{children:["With ",(0,i.jsx)(n.code,{children:"daycare"})," question"]}),"\n",(0,i.jsx)(E,{enableAdditionalQuestions:["daycare"]}),"\n",(0,i.jsx)(n.h2,{children:"Properties"}),"\n",(0,i.jsx)(s.ZP,{props:a})]})}var U=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(Y,e)})):Y(e)}},85179:function(e,n,r){r.d(n,{Kw:function(){return m},ZP:function(){return x}});var t=r(70894),i=r(61185),l=r(55560),s=r(41676),a=r(6210),o=r(64223),u=r(37339),d=r(595),c=r(52322);const h={...d.L,p:e=>(0,c.jsx)("span",{...e})},f=(0,t.Z)(l.ZP,{target:"e13h2c840"})({name:"1qdk5x4",styles:"td{white-space:nowrap;}"}),p="var(--color-fire-red)",m=e=>{let{variant:n,strikethrough:r,children:t,style:i={},...l}=e;if(r&&(i.textDecoration="line-through"),"string"==typeof t)switch(n){case"prop":break;case"type":i.color=t.startsWith("'")?p:"var(--color-violet)";case"value":i.color=t.startsWith("'")?p:"undefined"===t||"null"===t?"var(--color-black-55)":"var(--color-success-green)";default:i.background="none",i.boxShadow="none"}return h.code({children:t,style:i,...l})};function x(e){let{props:n,valueType:r="string",camelCase:t,omit:d,showDefaultValue:p=!1}=e;const x=Object.keys(n||{}),b=Object.entries(n||{}).map((e=>{let[n,l]=e;if(!l)return null;const{type:o,defaultValue:f,doc:b,status:y}=l;return d&&d.includes(n)?null:(0,c.jsxs)(s.Z,{children:[(0,c.jsx)(a.Z,{children:(0,c.jsx)(m,{variant:"prop",strikethrough:"deprecated"===y,children:g(t?(0,u.zW)(n):n)})}),(0,c.jsx)(a.Z,{children:(Array.isArray(o)?o:[o]).map((e=>{if("string"==typeof e){if(String(e).includes("{valueType}")){if(Array.isArray(r))return r.map(((e,n)=>(0,c.jsx)(m,{variant:"type",children:e},e+n))).reduce(((e,n)=>(0,c.jsxs)(c.Fragment,{children:[e," ",(0,c.jsx)("br",{})," ",n]})));e=r}return(0,c.jsx)(m,{variant:"type",children:e},e)}})).reduce(((e,n)=>(0,c.jsxs)(c.Fragment,{children:[e," ",(0,c.jsx)("br",{})," ",n]})))}),p&&(0,c.jsx)(a.Z,{children:f?(0,c.jsx)(m,{variant:"value",children:f}):"required"===y&&"REQUIRED"}),(0,c.jsxs)(a.Z,{children:[(!p||"deprecated"===y)&&(0,c.jsxs)("em",{children:["(",y,") "]}),(0,c.jsx)(i.D,{components:h,children:t?j(b,x):b})]})]},n)}));return(0,c.jsx)(l.ZP.ScrollView,{children:(0,c.jsxs)(f,{children:[(0,c.jsx)("thead",{children:(0,c.jsxs)(s.Z,{children:[(0,c.jsx)(o.Z,{children:"Property"}),(0,c.jsx)(o.Z,{children:"Type"}),p&&(0,c.jsx)(o.Z,{children:"Default value"}),(0,c.jsx)(o.Z,{children:"Description"})]})}),(0,c.jsx)("tbody",{children:b})]})})}function j(e,n){return n.forEach((n=>{e=e.replace(new RegExp(n,"g"),(0,u.zW)(n))})),e}function g(e){return e.includes("/")?(0,c.jsx)(i.D,{components:h,children:e}):e}},11850:function(e,n,r){var t=r(84616),i=r(2784),l=r(72779),s=r.n(l),a=r(95955),o=r.n(a),u=r(26409),d=r(37339),c=r(61890),h=r(82507),f=r(26),p=r(30392),m=r(38875),x=r(51022),j=r(58106),g=r(88069),b=r(57039),y=r(8160),v=r(52322);function Z(e){var n;const{0:r,1:l}=(0,i.useReducer)((()=>({})),{}),a=(0,i.useContext)(x.Z),Z=(0,i.useContext)(j.Z),{getValue:C}=(0,y.Z)(),A=(0,i.useMemo)((()=>{const{path:n,countPath:r,countPathLimit:t=1/0,countPathTransform:i}=e;if(r){const l=C(n);let s=parseFloat(C(r));if(s>=0||(s=0),s>t&&(s=t),(null==l?void 0:l.length)!==s){const n=[];for(let e=0,r=s;e<r;e++){const r=null==l?void 0:l[e];n.push(null==i?void 0:i({value:r,index:e}))}return{...e,value:n}}}return e}),[C,e]),{path:W,value:R,withoutFlex:S,emptyValue:D,placeholder:O,handleChange:P,onChange:w,children:k}=(0,u.Z)(A),F=(0,i.useRef)([]),q=(0,i.useRef)({}),L=(0,i.useRef)({}),T=(0,i.useRef)(),V=(0,i.useRef)(R),z=(0,i.useRef)(),M=(0,i.useRef)(),N=(0,i.useRef)({}),B=null!=S?S:a||Z;(0,i.useEffect)((()=>{V.current=R||[]}),[R]);const J=(0,i.useMemo)((()=>{var e;return(null!==(e=T.current||R)&&void 0!==e?e:[]).map(((e,n)=>{var r;const i=F.current[n]||(0,d.Xo)(),s=R.length>(null===(r=V.current)||void 0===r?void 0:r.length);F.current[n]||(q.current[i]=s,F.current.push(i));const a=q.current[i]||!1;return L.current[i]||(L.current[i]=a?"edit":"view"),{id:i,path:W,value:e,index:n,arrayValue:R,containerRef:z,isNew:a,containerMode:L.current[i],switchContainerMode:e=>{var n;L.current[i]=e,null===(n=q.current)||void 0===n||delete n[i],l()},handleChange:(e,r)=>{const t=(0,b.ZP)(R);t[n]={...t[n]},o().set(t,e,r),P(t)},handlePush:e=>{M.current=!0,P([].concat((0,t.Z)(null!=R?R:[]),[e]))},handleRemove:function(e){let{keepItems:r=!1}=void 0===e?{}:e;r&&(T.current=R);const t=(0,b.ZP)(R);t.splice(n,1),P(t)},fulfillRemove:()=>{var e,n;T.current=null,null===(e=L.current)||void 0===e||delete e[i],null===(n=q.current)||void 0===n||delete n[i];const r=F.current.indexOf(i);F.current.splice(r,1),l()},restoreOriginalValue:e=>{const r=(0,b.ZP)(R);r[n]=e,P(r)}}}))}),[r,R,W,P]);(0,i.useMemo)((()=>{const e=null==J?void 0:J[J.length-1];null!=e&&e.isNew&&!M.current?null==w||w(R):M.current=!1}),[R,J,w]);const K={className:s()("dnb-forms-iterate","dnb-forms-section",null==e?void 0:e.className),...(0,p.W)(e),...(0,f.SR)(e),innerRef:z},_=B?i.Fragment:c.Z;return(0,v.jsx)(_,{...B?null:K,children:R===D||0===(null==e||null===(n=e.value)||void 0===n?void 0:n.length)?O:J.map((e=>{const{id:n,value:r,index:t}=e,l=N.current[n]=N.current[n]||(0,i.createRef)(),s=e=>"function"==typeof e?e(r,t):e,a={...e,elementRef:l},o=Array.isArray(k)?k.map((e=>s(e))):s(k);return B?(0,v.jsx)(m.Z.Provider,{value:a,children:(0,v.jsx)(g.Z,{children:o})},`element-${n}`):(0,v.jsx)(h.Z,{className:"dnb-forms-iterate__element",tabIndex:-1,innerRef:l,children:(0,v.jsx)(m.Z.Provider,{value:a,children:(0,v.jsx)(g.Z,{children:o})})},`element-${n}`)}))})}Z._supportsSpacingProps=!0,n.Z=Z}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-blocks-children-with-age-mdx-8dce8836a66e390e0320.js.map