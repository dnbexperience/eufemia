{"version":3,"file":"component---src-docs-uilib-extensions-forms-blocks-children-with-age-mdx-fc85ca45427f450bb569.js","mappings":"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","sources":["webpack://dnb-design-system-portal/../dnb-eufemia/src/extensions/forms/blocks/ChildrenWithAge/ChildrenWithAgeDocs.ts","webpack://dnb-design-system-portal/../dnb-eufemia/src/extensions/forms/Tools/ListAllProps.tsx","webpack://dnb-design-system-portal/../dnb-eufemia/src/extensions/forms/Tools/GenerateSchema.tsx","webpack://dnb-design-system-portal/../dnb-eufemia/src/extensions/forms/blocks/ChildrenWithAge/ChildrenWithAgeTranslations.ts","webpack://dnb-design-system-portal/../dnb-eufemia/src/extensions/forms/blocks/ChildrenWithAge/ChildrenWithAge.tsx","webpack://dnb-design-system-portal/./src/docs/uilib/extensions/forms/blocks/Examples.tsx","webpack://dnb-design-system-portal/./src/docs/uilib/extensions/forms/blocks/ChildrenWithAge.mdx","webpack://dnb-design-system-portal/./src/shared/parts/PropertiesTable.tsx","webpack://dnb-design-system-portal/../dnb-eufemia/src/extensions/forms/Iterate/Array/Array.tsx"],"sourcesContent":["import { PropertiesTableProps } from '../../../../shared/types'\n\nexport const ChildrenWithAgeProperties: PropertiesTableProps = {\n  mode: {\n    doc: '`summary` for a `Value.*` version, `edit` for an editable field version. Defaults to `edit`.',\n    type: 'number',\n    status: 'optional',\n  },\n  enableAdditionalQuestions: {\n    doc: '[`joint-responsibility`, `daycare`]',\n    type: 'array',\n    status: 'optional',\n  },\n  toWizardStep: {\n    doc: 'If defined, a `Wizard.EditButton` will be shown.',\n    type: 'number',\n    status: 'optional',\n  },\n}\n","import { isValidElement, useCallback, useContext, useRef } from 'react'\nimport pointer, { JsonObject } from 'json-pointer'\nimport DataContext, { FilterData } from '../DataContext/Context'\n\nexport type ListAllPropsReturn = {\n  propsOfFields: JsonObject\n  propsOfValues: JsonObject\n}\nexport type ListAllPropsProps = {\n  log?: boolean\n  generateRef?: React.MutableRefObject<() => ListAllPropsReturn>\n  filterData?: FilterData\n  children: React.ReactNode\n}\nexport type GenerateRef = ListAllPropsProps['generateRef']['current']\n\nexport default function ListAllProps(props: ListAllPropsProps) {\n  const { log, generateRef, filterData, children } = props || {}\n  const { fieldPropsRef, valuePropsRef, data, hasContext } =\n    useContext(DataContext)\n\n  const dataRef = useRef<JsonObject>({})\n  dataRef.current = data\n\n  const generate = useCallback(() => {\n    const propsOfFields = Object.entries(\n      fieldPropsRef?.current || {}\n    ).reduce((acc, [path, props]) => {\n      if (path.startsWith('/')) {\n        const propertyValue = {}\n\n        for (const prop in props) {\n          if (\n            props[prop] !== undefined &&\n            typeof props[prop] !== 'function' &&\n            !isValidElement(props[prop])\n          ) {\n            propertyValue[prop] = props[prop]\n          }\n        }\n\n        if (filterData?.[path] !== false) {\n          pointer.set(acc, path, propertyValue)\n        }\n      }\n\n      return acc\n    }, {})\n\n    const propsOfValues = Object.entries(\n      valuePropsRef?.current || {}\n    ).reduce((acc, [path, props]) => {\n      if (path.startsWith('/')) {\n        const propertyValue = {}\n\n        for (const prop in props) {\n          if (\n            props[prop] !== undefined &&\n            typeof props[prop] !== 'function' &&\n            !isValidElement(props[prop])\n          ) {\n            propertyValue[prop] = props[prop]\n          }\n        }\n\n        if (filterData?.[path] !== false) {\n          pointer.set(acc, path, propertyValue)\n        }\n      }\n\n      return acc\n    }, {})\n\n    return { propsOfFields, propsOfValues } as ListAllPropsReturn\n  }, [fieldPropsRef, filterData, valuePropsRef])\n\n  if (hasContext) {\n    if (log) {\n      console.log(generate())\n    }\n\n    if (generateRef) {\n      generateRef.current = generate\n    }\n  }\n\n  return children\n}\n","import { useCallback, useContext, useRef } from 'react'\nimport pointer, { JsonObject } from 'json-pointer'\nimport DataContext, { FilterData } from '../DataContext/Context'\nimport { JSONSchema } from '../types'\n\nexport type GenerateSchemaReturn = {\n  schema: JSONSchema\n  data: JsonObject\n  propsOfFields: JsonObject\n  propsOfValues: JsonObject\n}\nexport type GenerateSchemaProps = {\n  log?: boolean\n  generateRef?: React.MutableRefObject<() => GenerateSchemaReturn>\n  filterData?: FilterData\n  children: React.ReactNode\n}\nexport type GenerateRef = GenerateSchemaProps['generateRef']['current']\n\nexport const schemaParams = [\n  'minLength',\n  'maxLength',\n  'pattern',\n  'description',\n  'min',\n  'max',\n  'multipleOf',\n  'exclusiveMinimum',\n  'exclusiveMaximum',\n]\n\nexport default function GenerateSchema(props: GenerateSchemaProps) {\n  const { generateRef, filterData, log, children } = props || {}\n  const { fieldPropsRef, valuePropsRef, data, hasContext } =\n    useContext(DataContext)\n\n  const dataRef = useRef<JsonObject>({})\n  dataRef.current = data\n\n  const generate = useCallback(() => {\n    const schema = Object.entries(fieldPropsRef?.current || {}).reduce(\n      (acc, [path, props]) => {\n        if (path.startsWith('/')) {\n          const objectKey = path.substring(1)\n\n          const pathList = objectKey.split('/')\n          const slashCount = pathList.length\n\n          const type = props.valueType || 'string'\n          const propertyValue = {\n            type,\n          }\n\n          for (const prop of schemaParams) {\n            if (props[prop]) {\n              propertyValue[prop] = props[prop]\n            }\n          }\n\n          if (slashCount > 1) {\n            const nestedPath = ['']\n            for (const path of pathList) {\n              nestedPath.push(path)\n              const pathToSet = nestedPath.join('/properties/')\n              const isLast = nestedPath.length - 1 === pathList.length\n\n              const existingValue = pointer.has(acc, pathToSet)\n                ? pointer.get(acc, pathToSet)\n                : null\n\n              const pathValue = isLast ? propertyValue : existingValue\n\n              if (isLast) {\n                if (filterData?.[pathToSet] !== false) {\n                  pointer.set(acc, pathToSet, pathValue)\n                }\n              } else {\n                const pathValue = {\n                  type: 'object',\n                  ...existingValue,\n                }\n\n                // - Add required\n                const required = []\n                if (props.required) {\n                  required.push(pathList.at(-1))\n                }\n                if (existingValue?.required) {\n                  required.push(...existingValue.required)\n                }\n                if (required.length > 0) {\n                  pathValue.required = required\n                }\n\n                if (filterData?.[pathToSet] !== false) {\n                  pointer.set(acc, pathToSet, pathValue)\n                }\n              }\n            }\n          } else {\n            if (filterData?.[path] !== false) {\n              pointer.set(acc.properties, path, propertyValue)\n            }\n            if (props.required) {\n              acc.required.push(objectKey)\n            }\n          }\n        }\n\n        return acc\n      },\n      { type: 'object', properties: {}, required: [] }\n    )\n\n    const propsOfFields = Object.entries(\n      fieldPropsRef?.current || {}\n    ).reduce((acc, [path, props]) => {\n      if (path.startsWith('/')) {\n        const propertyValue = {}\n\n        for (const prop in props) {\n          if (\n            props[prop] !== undefined &&\n            typeof props[prop] !== 'function'\n          ) {\n            propertyValue[prop] = props[prop]\n          }\n        }\n\n        pointer.set(acc, path, propertyValue)\n      }\n\n      return acc\n    }, {})\n\n    const propsOfValues = Object.entries(\n      valuePropsRef?.current || {}\n    ).reduce((acc, [path, props]) => {\n      if (path.startsWith('/')) {\n        const propertyValue = {}\n\n        for (const prop in props) {\n          if (\n            props[prop] !== undefined &&\n            typeof props[prop] !== 'function'\n          ) {\n            propertyValue[prop] = props[prop]\n          }\n        }\n\n        pointer.set(acc, path, propertyValue)\n      }\n\n      return acc\n    }, {})\n\n    if (schema.required.length === 0) {\n      delete schema.required\n    }\n\n    return {\n      schema,\n      data: dataRef.current,\n      propsOfFields,\n      propsOfValues,\n    } as GenerateSchemaReturn\n  }, [fieldPropsRef, filterData, valuePropsRef])\n\n  if (hasContext) {\n    if (log) {\n      console.log(generate().schema)\n    }\n\n    if (generateRef) {\n      generateRef.current = generate\n    }\n  }\n\n  return children\n}\n","export const translations = {\n  'nb-NO': {\n    ChildrenWithAge: {\n      hasChildren: {\n        title: 'Antall barn',\n        fieldLabel: 'Har du/dere barn under 18 år?',\n        required: 'Du må angi om du har barn under 18 år eller ikke.',\n      },\n      countChildren: {\n        fieldLabel: 'Antall barn under 18 år',\n        required: 'Du må skrive inn antall barn.',\n        valueVale: 'Antall barn under 18 år',\n        suffix: 'barn',\n      },\n      childrenAge: {\n        fieldLabel: 'Alder på barn nr. {itemNr}',\n        required: 'Du må skrive inn alder på barnet.',\n        suffix: 'år',\n      },\n      hasJointResponsibility: {\n        fieldLabel: 'Har du delt omsorg for noen av barna?',\n      },\n      confirmJointResponsibility: {\n        fieldLabel: 'Delt omsorg',\n      },\n      usesDaycare: {\n        fieldLabel: 'Har du/dere SFO/AKS for noen av barna?',\n        required: 'Du må angi om du har SFO/AKS for noen av barna.',\n      },\n      hasDaycare: {\n        fieldLabel: 'Er på SFO/AKS',\n      },\n      jointResponsibilityTrue: 'delt omsorg',\n      jointResponsibilityFalse: 'ikke delt omsorg',\n      daycareTrue: 'SFO/AKS',\n      daycareFalse: 'uten SFO/AKS',\n    },\n  },\n  'en-GB': {\n    ChildrenWithAge: {\n      hasChildren: {\n        title: 'Number of children',\n        fieldLabel: 'Do you have children under the age of 18?',\n        required:\n          'You must state whether you have children under 18 or not.',\n      },\n      countChildren: {\n        fieldLabel: 'Number of children under the age of 18',\n        required: 'You must enter the number of children.',\n        valueVale: 'Number of children under the age of 18',\n        suffix: 'children',\n      },\n      childrenAge: {\n        fieldLabel: 'Age of child no. {itemNr}',\n        required: 'You must enter the age of the child.',\n        suffix: 'years old',\n      },\n      hasJointResponsibility: {\n        fieldLabel:\n          'Do you have joint parental responsibility for any of the children?',\n      },\n      confirmJointResponsibility: {\n        fieldLabel: 'Joint parental responsibility',\n      },\n      usesDaycare: {\n        fieldLabel: 'Do you have SFO/AKS for any of the children?',\n        required:\n          'You must state whether you have SFO/AKS for any of the children.',\n      },\n      hasDaycare: {\n        fieldLabel: 'Has SFO/AKS',\n      },\n      jointResponsibilityTrue: 'joint parental responsibility',\n      jointResponsibilityFalse: 'not joint parental responsibility',\n      daycareTrue: 'SFO/AKS',\n      daycareFalse: 'without SFO/AKS',\n    },\n  },\n}\nexport type Translation = (typeof translations)[keyof typeof translations]\n","import React from 'react'\nimport { Field, Form, Iterate, Value, Wizard } from '../..'\nimport { Card } from '../../../../components'\nimport { Lead } from '../../../../elements'\nimport { Translation, translations } from './ChildrenWithAgeTranslations'\nimport type { SectionProps } from '../../Form/Section'\n\ntype Mode = 'edit' | 'summary'\ntype Variant = Array<'joint-responsibility' | 'daycare'>\n\nexport type Props = SectionProps & {\n  mode?: Mode\n  enableAdditionalQuestions?: Variant\n  toWizardStep?: number\n}\n\nexport default function ChildrenWithAge({\n  mode,\n  enableAdditionalQuestions,\n  toWizardStep,\n  ...props\n}: Props) {\n  return (\n    <Form.Section translations={translations} required {...props}>\n      {mode === 'summary' ? (\n        <Summary toWizardStep={toWizardStep} />\n      ) : (\n        <EditContent\n          enableAdditionalQuestions={enableAdditionalQuestions}\n        />\n      )}\n    </Form.Section>\n  )\n}\n\nfunction EditContent({ enableAdditionalQuestions }: Props) {\n  const tr = Form.useTranslation<Translation>()\n\n  return (\n    <Card stack>\n      <Lead>{tr.ChildrenWithAge.hasChildren.title}</Lead>\n\n      <Field.Boolean\n        path=\"/hasChildren\"\n        label={tr.ChildrenWithAge.hasChildren.fieldLabel}\n        variant=\"buttons\"\n        defaultValue={false}\n        errorMessages={{\n          required: tr.ChildrenWithAge.hasChildren.required,\n        }}\n      />\n\n      <Form.Visibility pathTrue=\"/hasChildren\" animate>\n        {enableAdditionalQuestions?.includes('joint-responsibility') && (\n          <Field.Boolean\n            path=\"/hasJointResponsibility\"\n            label={tr.ChildrenWithAge.hasJointResponsibility.fieldLabel}\n            variant=\"buttons\"\n            defaultValue={false}\n            errorMessages={{\n              required: tr.ChildrenWithAge.hasChildren.required,\n            }}\n          />\n        )}\n\n        {enableAdditionalQuestions?.includes('daycare') && (\n          <Field.Boolean\n            path=\"/usesDaycare\"\n            label={tr.ChildrenWithAge.usesDaycare.fieldLabel}\n            variant=\"buttons\"\n            defaultValue={false}\n            errorMessages={{\n              required: tr.ChildrenWithAge.usesDaycare.required,\n            }}\n          />\n        )}\n\n        <Field.Number\n          path=\"/countChildren\"\n          label={tr.ChildrenWithAge.countChildren.fieldLabel}\n          errorMessages={{\n            minimum: tr.ChildrenWithAge.countChildren.required,\n          }}\n          width=\"small\"\n          defaultValue={1}\n          minimum={1}\n          maximum={20}\n          showStepControls\n        />\n\n        <Iterate.Array\n          countPath=\"/countChildren\"\n          countPathTransform={transformAgeItem}\n          countPathLimit={20}\n          path=\"/children\"\n        >\n          <Field.Composition\n            label={tr.ChildrenWithAge.childrenAge.fieldLabel}\n            align=\"center\"\n          >\n            <Field.Number\n              itemPath=\"/age\"\n              errorMessages={{\n                required: tr.ChildrenWithAge.childrenAge.required,\n              }}\n              placeholder=\"0\"\n              startWith={-1}\n              width=\"small\"\n              minimum={0}\n              maximum={100}\n              showStepControls\n            />\n\n            <Form.Visibility pathTrue=\"/hasJointResponsibility\">\n              <Field.Boolean\n                itemPath=\"/jointResponsibility\"\n                defaultValue={false}\n                label={\n                  tr.ChildrenWithAge.confirmJointResponsibility.fieldLabel\n                }\n              />\n            </Form.Visibility>\n\n            <Form.Visibility pathTrue=\"/usesDaycare\">\n              <Field.Boolean\n                itemPath=\"/hasDaycare\"\n                defaultValue={false}\n                label={tr.ChildrenWithAge.hasDaycare.fieldLabel}\n              />\n            </Form.Visibility>\n          </Field.Composition>\n        </Iterate.Array>\n      </Form.Visibility>\n    </Card>\n  )\n}\n\nfunction Summary({ toWizardStep }: Props) {\n  const tr = Form.useTranslation<Translation>()\n  return (\n    <Card stack>\n      <Lead>{tr.ChildrenWithAge.hasChildren.title}</Lead>\n\n      <Value.SummaryList>\n        <Value.Number\n          path=\"/countChildren\"\n          label={tr.ChildrenWithAge.countChildren.valueVale}\n          defaultValue={0}\n          suffix={tr.ChildrenWithAge.countChildren.suffix}\n          maximum={20}\n        />\n\n        <Form.Visibility pathTrue=\"/hasChildren\">\n          <Iterate.Array path=\"/children\">\n            <Value.Composition\n              label={tr.ChildrenWithAge.childrenAge.fieldLabel}\n              gap={false}\n            >\n              <Value.Number\n                itemPath=\"/age\"\n                suffix={tr.ChildrenWithAge.childrenAge.suffix}\n                defaultValue=\"–\"\n              />\n\n              <Form.Visibility pathTrue=\"/hasJointResponsibility\">\n                {', '}\n                <Value.Boolean\n                  inline\n                  itemPath=\"/jointResponsibility\"\n                  trueText={tr.ChildrenWithAge.jointResponsibilityTrue}\n                  falseText={tr.ChildrenWithAge.jointResponsibilityFalse}\n                  defaultValue={false}\n                />\n              </Form.Visibility>\n\n              <Form.Visibility pathTrue=\"/usesDaycare\">\n                {', '}\n                <Value.Boolean\n                  inline\n                  itemPath=\"/hasDaycare\"\n                  trueText={tr.ChildrenWithAge.daycareTrue}\n                  falseText={tr.ChildrenWithAge.daycareFalse}\n                  defaultValue={false}\n                />\n              </Form.Visibility>\n            </Value.Composition>\n          </Iterate.Array>\n        </Form.Visibility>\n      </Value.SummaryList>\n\n      {typeof toWizardStep === 'number' ? (\n        <Wizard.EditButton toStep={toWizardStep} />\n      ) : null}\n    </Card>\n  )\n}\n\nconst transformAgeItem = ({ value }) =>\n  Object.prototype.hasOwnProperty.call(value || {}, 'age')\n    ? value\n    : { age: undefined }\n\nChildrenWithAge._supportsSpacingProps = true\n","import { useMemo, useRef } from 'react'\nimport ComponentBox from '../../../../../shared/tags/ComponentBox'\nimport { Flex, HelpButton, Lead, Section } from '@dnb/eufemia/src'\nimport {\n  Field,\n  Form,\n  Tools,\n  Wizard,\n} from '@dnb/eufemia/src/extensions/forms'\nimport { GenerateRef as GeneratePropsRef } from '@dnb/eufemia/src/extensions/forms/Tools/ListAllProps'\nimport { GenerateRef as GenerateSchemaRef } from '@dnb/eufemia/src/extensions/forms/Tools/GenerateSchema'\nimport * as Blocks from '@dnb/eufemia/src/extensions/forms/blocks'\nimport { useData } from '@dnb/eufemia/src/extensions/forms/Form'\n\nexport const ChildrenWithAge = (props) => {\n  return (\n    <Form.Handler>\n      <WithToolbar>\n        <Flex.Stack>\n          <Blocks.ChildrenWithAge {...props} />\n          <Blocks.ChildrenWithAge mode=\"summary\" {...props} />\n        </Flex.Stack>\n      </WithToolbar>\n    </Form.Handler>\n  )\n}\nexport const ChildrenWithAgeWizard = (props) => {\n  return (\n    <ComponentBox scope={{ Blocks, props }}>\n      {() => {\n        const MyForm = () => {\n          const { summaryTitle } = Form.useLocale().Step\n          return (\n            <Form.Handler>\n              <Wizard.Container>\n                <Wizard.Step title=\"Step 1\">\n                  <Blocks.ChildrenWithAge {...props} />\n                  <Wizard.Buttons />\n                </Wizard.Step>\n\n                <Wizard.Step title={summaryTitle}>\n                  <Blocks.ChildrenWithAge\n                    mode=\"summary\"\n                    toWizardStep={0}\n                    {...props}\n                  />\n\n                  <Form.ButtonRow>\n                    <Wizard.Buttons />\n                    <Form.SubmitButton variant=\"send\" />\n                  </Form.ButtonRow>\n                </Wizard.Step>\n              </Wizard.Container>\n            </Form.Handler>\n          )\n        }\n\n        return <MyForm />\n      }}\n    </ComponentBox>\n  )\n}\n\nexport function WithToolbar({ children }) {\n  const { filterData } = useData()\n\n  const filterDataPaths = useMemo(\n    () => ({\n      '/toggleToolOf': false,\n    }),\n    [],\n  )\n\n  const generateDataRef = useMemo(() => {\n    return {\n      current: () => {\n        return filterData(filterDataPaths)\n      },\n    }\n  }, [filterData, filterDataPaths])\n  const generatePropsRef = useRef<GeneratePropsRef>()\n  const generateSchemaRef = useRef<GenerateSchemaRef>()\n\n  return (\n    <Flex.Stack top=\"large\">\n      <Tools.ListAllProps\n        generateRef={generatePropsRef}\n        filterData={filterDataPaths}\n      >\n        <Tools.GenerateSchema\n          generateRef={generateSchemaRef}\n          filterData={filterDataPaths}\n        >\n          {children}\n        </Tools.GenerateSchema>\n      </Tools.ListAllProps>\n\n      <Section backgroundColor=\"sand-yellow\" innerSpace>\n        <Flex.Horizontal align=\"center\">\n          <Form.SubmitButton text=\"Submit\" />\n          <Field.Selection\n            path=\"/toggleToolOf\"\n            variant=\"button\"\n            optionsLayout=\"horizontal\"\n          >\n            <Field.Option value=\"off\" title=\"Off\" />\n            <Field.Option value=\"data\" title=\"Data\" />\n            <Field.Option value=\"props\" title=\"Props\" />\n            <Field.Option value=\"schema\" title=\"Schema\" />\n          </Field.Selection>\n          <HelpButton title=\"About Data, Props and Schema\">\n            Data, Props and Schema will show block relevant information.\n            Schema is an automatically generated Ajv schema, while props\n            shows all used props to define the block functionality.\n          </HelpButton>\n        </Flex.Horizontal>\n      </Section>\n\n      <Form.Visibility\n        visibleWhen={{ path: '/toggleToolOf', hasValue: 'data' }}\n      >\n        <Output title=\"Data\" generateRef={generateDataRef} />\n      </Form.Visibility>\n\n      <Form.Visibility\n        visibleWhen={{ path: '/toggleToolOf', hasValue: 'props' }}\n      >\n        <Output title=\"Props\" generateRef={generatePropsRef} />\n      </Form.Visibility>\n\n      <Form.Visibility\n        visibleWhen={{ path: '/toggleToolOf', hasValue: 'schema' }}\n      >\n        <Output\n          title=\"Schema\"\n          generateRef={generateSchemaRef}\n          transform={(data) => data.schema}\n        />\n      </Form.Visibility>\n    </Flex.Stack>\n  )\n}\n\nfunction Output({ title, generateRef, transform = (data) => data }) {\n  const data = transform(generateRef.current())\n\n  return (\n    <>\n      <Lead>{title}</Lead>\n      <Section element=\"output\" innerSpace backgroundColor=\"sand-yellow\">\n        <pre>{JSON.stringify(data, null, 2)}</pre>\n      </Section>\n    </>\n  )\n}\n","/*@jsxRuntime automatic @jsxImportSource react*/\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport PropertiesTable from 'dnb-design-system-portal/src/shared/parts/PropertiesTable';\nimport {ChildrenWithAgeProperties} from '@dnb/eufemia/src/extensions/forms/blocks/ChildrenWithAge/ChildrenWithAgeDocs';\nimport {ChildrenWithAge, ChildrenWithAgeWizard} from './Examples';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    code: \"code\",\n    a: \"a\",\n    h2: \"h2\",\n    pre: \"pre\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"ChildrenWithAge\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"ChildrenWithAge\"\n      }), \" is a block for displaying children with age. Check out the \", _jsx(_components.a, {\n        href: \"https://github.com/dnbexperience/eufemia/tree/main/packages/dnb-eufemia/src/extensions/forms/blocks/ChildrenWithAge\",\n        children: \"source code\"\n      }), \" for more information.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Usage\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"import { ChildrenWithAge } from '@dnb/eufemia/src/extensions/forms/blocks'\\nrender(<ChildrenWithAge />)\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"In Wizard\"\n    }), \"\\n\", _jsx(ChildrenWithAgeWizard, {}), \"\\n\", _jsx(_components.h2, {\n      children: \"Basic\"\n    }), \"\\n\", _jsx(ChildrenWithAge, {}), \"\\n\", _jsxs(_components.h2, {\n      children: [\"With \", _jsx(_components.code, {\n        children: \"joint-responsibility\"\n      }), \" question\"]\n    }), \"\\n\", _jsx(ChildrenWithAge, {\n      enableAdditionalQuestions: ['joint-responsibility']\n    }), \"\\n\", _jsxs(_components.h2, {\n      children: [\"With \", _jsx(_components.code, {\n        children: \"daycare\"\n      }), \" question\"]\n    }), \"\\n\", _jsx(ChildrenWithAge, {\n      enableAdditionalQuestions: ['daycare']\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Properties\"\n    }), \"\\n\", _jsx(PropertiesTable, {\n      props: ChildrenWithAgeProperties\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import ReactMarkdown from 'react-markdown'\nimport styled from '@emotion/styled'\nimport { Table, Td, Th, Tr } from '@dnb/eufemia/src'\nimport { PropertiesTableProps } from '@dnb/eufemia/src/shared/types'\nimport { toCamelCase } from '@dnb/eufemia/src/shared/component-helper'\nimport { basicComponents } from '../tags'\n\nconst components = {\n  ...basicComponents,\n  p: (props) => <span {...props} />,\n}\n\nconst StyledTable = styled(Table)`\n  td {\n    white-space: nowrap;\n  }\n`\n\nconst colorValue = 'var(--color-success-green)'\nconst colorString = 'var(--color-fire-red)'\nconst colorType = 'var(--color-violet)'\nconst colorUndefined = 'var(--color-black-55)'\n\nconst FormattedCode = ({\n  variant,\n  strikethrough,\n  children,\n  style = {},\n  ...rest\n}: {\n  variant?: 'prop' | 'type' | 'value'\n  strikethrough?: boolean\n  style?: React.CSSProperties\n  children?: React.ReactNode\n}) => {\n  if (strikethrough) {\n    style.textDecoration = 'line-through'\n  }\n  if (typeof children === 'string') {\n    switch (variant) {\n      case 'prop': {\n        break // add prop name styling at a future date with color 'var(--color-indigo)'\n      }\n      case 'type': {\n        style.color = children.startsWith(`'`) ? colorString : colorType\n        // falls through\n      }\n      case 'value': {\n        style.color = children.startsWith(`'`)\n          ? colorString\n          : children === 'undefined'\n          ? colorUndefined\n          : colorValue\n        // falls through\n      }\n      default: {\n        style.background = 'none'\n        style.boxShadow = 'none'\n      }\n    }\n  }\n  return components.code({ children, style, ...rest })\n}\n\nexport default function PropertiesTable({\n  props,\n  valueType = 'string',\n  camelCase,\n  omit,\n  showDefaultValue = false,\n}: {\n  props: PropertiesTableProps\n  valueType?: unknown\n  camelCase?: boolean\n  omit?: string[]\n  showDefaultValue: boolean\n}) {\n  const keys = Object.keys(props)\n  const tableRows = Object.entries(props).map(([key, props]) => {\n    if (!props) {\n      return null\n    }\n    const { type, defaultValue, doc, status } = props\n    if (omit && omit.includes(key)) {\n      return null\n    }\n\n    return (\n      <Tr key={key}>\n        <Td>\n          <FormattedCode\n            variant=\"prop\"\n            strikethrough={status === 'deprecated'}\n          >\n            {formatName(camelCase ? toCamelCase(key) : key)}\n          </FormattedCode>\n        </Td>\n        <Td>\n          {(Array.isArray(type) ? type : [type])\n            .map((t) => {\n              if (typeof t === 'string') {\n                if (String(t).includes('{valueType}')) {\n                  if (Array.isArray(valueType)) {\n                    return valueType\n                      .map((t, i) => {\n                        return (\n                          <FormattedCode key={t + i} variant=\"type\">\n                            {t}\n                          </FormattedCode>\n                        )\n                      })\n                      .reduce((prev, curr) => (\n                        <>\n                          {prev} <br /> {curr}\n                        </>\n                      ))\n                  }\n\n                  t = valueType as string\n                }\n\n                return (\n                  <FormattedCode key={t} variant=\"type\">\n                    {t}\n                  </FormattedCode>\n                )\n              }\n            })\n            .reduce((prev, curr) => (\n              <>\n                {prev} <br /> {curr}\n              </>\n            ))}\n        </Td>\n        {showDefaultValue && (\n          <Td>\n            {defaultValue ? (\n              <FormattedCode variant=\"value\">{defaultValue}</FormattedCode>\n            ) : (\n              status === 'required' && 'REQUIRED'\n            )}\n          </Td>\n        )}\n        <Td>\n          {(!showDefaultValue || status === 'deprecated') && (\n            <em>({status}) </em>\n          )}\n          <ReactMarkdown components={components}>\n            {camelCase ? convertToCamelCase(doc, keys) : doc}\n          </ReactMarkdown>\n        </Td>\n      </Tr>\n    )\n  })\n\n  return (\n    <Table.ScrollView>\n      <StyledTable>\n        <thead>\n          <Tr>\n            <Th>Property</Th>\n            <Th>Type</Th>\n            {showDefaultValue && <Th>Default value</Th>}\n            <Th>Description</Th>\n          </Tr>\n        </thead>\n        <tbody>{tableRows}</tbody>\n      </StyledTable>\n    </Table.ScrollView>\n  )\n}\n\n// Replace existing properties inside a string. Use the keys from the props object to find and replace the values\nfunction convertToCamelCase(doc: string, keys: string[]) {\n  keys.forEach((key) => {\n    doc = doc.replace(new RegExp(key, 'g'), toCamelCase(key))\n  })\n  return doc\n}\n\nfunction formatName(name: string): React.ReactNode | string {\n  if (name.includes('/')) {\n    return <ReactMarkdown components={components}>{name}</ReactMarkdown>\n  }\n\n  return name\n}\n","import React, {\n  useMemo,\n  useRef,\n  useEffect,\n  useReducer,\n  createRef,\n  useContext,\n  Fragment,\n} from 'react'\nimport classnames from 'classnames'\nimport pointer from 'json-pointer'\nimport { useFieldProps } from '../../hooks'\nimport { makeUniqueId } from '../../../../shared/component-helper'\nimport { Flex } from '../../../../components'\nimport { pickSpacingProps } from '../../../../components/flex/utils'\nimport {\n  BasicProps as FlexContainerProps,\n  Props as FlexContainerAllProps,\n  pickFlexContainerProps,\n} from '../../../../components/flex/Container'\nimport IterateElementContext, {\n  IterateElementContextState,\n} from '../IterateElementContext'\nimport SummaryListContext from '../../Value/SummaryList/SummaryListContext'\nimport ValueBlockContext from '../../ValueBlock/ValueBlockContext'\nimport FieldBoundaryProvider from '../../DataContext/FieldBoundary/FieldBoundaryProvider'\n\nimport type { ContainerMode, ElementChild, Props, Value } from './types'\nimport type { Identifier, Path } from '../../types'\n\n/**\n * Deprecated, as it is supported by all major browsers and Node.js >=v18\n * So its a question of time, when we will remove this polyfill\n */\nimport structuredClone from '@ungap/structured-clone'\nimport useDataValue from '../../hooks/useDataValue'\n\nexport type * from './types'\n\nfunction ArrayComponent(props: Props) {\n  const [salt, forceUpdate] = useReducer(() => ({}), {})\n\n  const summaryListContext = useContext(SummaryListContext)\n  const valueBlockContext = useContext(ValueBlockContext)\n\n  const { getValue } = useDataValue()\n  const preparedProps = useMemo(() => {\n    const {\n      path,\n      countPath,\n      countPathLimit = Infinity,\n      countPathTransform,\n    } = props\n\n    if (countPath) {\n      const arrayValue = getValue(path)\n      let countValue = parseFloat(getValue(countPath))\n      if (!(countValue >= 0)) {\n        countValue = 0\n      }\n      if (countValue > countPathLimit) {\n        countValue = countPathLimit\n      }\n      if (arrayValue?.length !== countValue) {\n        const newValue = []\n        for (let i = 0, l = countValue; i < l; i++) {\n          const value = arrayValue?.[i]\n          newValue.push(countPathTransform?.({ value, index: i }))\n        }\n\n        return {\n          ...props,\n          value: newValue,\n        }\n      }\n    }\n\n    return props\n  }, [getValue, props])\n\n  const {\n    path,\n    value: arrayValue,\n    withoutFlex,\n    emptyValue,\n    placeholder,\n    handleChange,\n    onChange,\n    children,\n  } = useFieldProps<Value, Props>(preparedProps)\n\n  const idsRef = useRef<Array<Identifier>>([])\n  const isNewRef = useRef<Record<string, boolean>>({})\n  const modesRef = useRef<Record<Identifier, ContainerMode>>({})\n  const valueWhileClosingRef = useRef<Array<unknown>>()\n  const valueCountRef = useRef(arrayValue)\n  const containerRef = useRef<HTMLDivElement>()\n  const hadPushRef = useRef<boolean>()\n  const innerRefs = useRef<\n    Record<string, React.RefObject<HTMLDivElement>>\n  >({})\n\n  const omitFlex = withoutFlex ?? (summaryListContext || valueBlockContext)\n\n  useEffect(() => {\n    // Update inside the useEffect, to support React.StrictMode\n    valueCountRef.current = arrayValue || []\n  }, [arrayValue])\n\n  const elementData = useMemo(() => {\n    return ((valueWhileClosingRef.current || arrayValue) ?? []).map(\n      (value, index) => {\n        const id = idsRef.current[index] || makeUniqueId()\n\n        const hasNewItems =\n          arrayValue.length > valueCountRef.current?.length\n\n        if (!idsRef.current[index]) {\n          isNewRef.current[id] = hasNewItems\n          idsRef.current.push(id)\n        }\n\n        const isNew = isNewRef.current[id] || false\n        if (!modesRef.current[id]) {\n          modesRef.current[id] = isNew ? 'edit' : 'view'\n        }\n\n        return {\n          id,\n          path,\n          value,\n          index,\n          arrayValue,\n          containerRef,\n          isNew,\n          containerMode: modesRef.current[id],\n          switchContainerMode: (mode: ContainerMode) => {\n            modesRef.current[id] = mode\n            delete isNewRef.current?.[id]\n            forceUpdate()\n          },\n          handleChange: (path: Path, value: unknown) => {\n            const newArrayValue = structuredClone(arrayValue)\n\n            // Make sure we have a new object reference,\n            // else two new objects will be the same\n            newArrayValue[index] = { ...newArrayValue[index] }\n\n            pointer.set(newArrayValue, path, value)\n            handleChange(newArrayValue)\n          },\n          handlePush: (element: unknown) => {\n            hadPushRef.current = true\n            handleChange([...(arrayValue ?? []), element])\n          },\n          handleRemove: ({ keepItems = false } = {}) => {\n            if (keepItems) {\n              // Add a backup as the array value while animating\n              valueWhileClosingRef.current = arrayValue\n            }\n\n            const newArrayValue = structuredClone(arrayValue)\n            newArrayValue.splice(index, 1)\n            handleChange(newArrayValue)\n          },\n\n          // - Called after animation end\n          fulfillRemove: () => {\n            valueWhileClosingRef.current = null\n            delete modesRef.current?.[id]\n            delete isNewRef.current?.[id]\n            const findIndex = idsRef.current.indexOf(id)\n            idsRef.current.splice(findIndex, 1)\n            forceUpdate()\n          },\n\n          // - Called when cancel button press\n          restoreOriginalValue: (value: unknown) => {\n            const newArrayValue = structuredClone(arrayValue)\n            newArrayValue[index] = value\n            handleChange(newArrayValue)\n          },\n        } as IterateElementContextState\n      }\n    )\n\n    // In order to update \"valueWhileClosingRef\" we need to have \"salt\" in the deps array\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [salt, arrayValue, path, handleChange])\n\n  // - Call the onChange callback when a new element is added without calling \"handlePush\"\n  useMemo(() => {\n    const last = elementData?.[elementData.length - 1]\n    if (last?.isNew && !hadPushRef.current) {\n      onChange?.(arrayValue)\n    } else {\n      hadPushRef.current = false\n    }\n  }, [arrayValue, elementData, onChange])\n\n  const flexProps: FlexContainerProps & {\n    innerRef: FlexContainerAllProps['innerRef']\n  } = {\n    className: classnames(\n      'dnb-forms-iterate',\n      'dnb-forms-section',\n      props?.className\n    ),\n    ...pickFlexContainerProps(props as FlexContainerProps),\n    ...pickSpacingProps(props),\n    innerRef: containerRef,\n  }\n\n  const WrapperElement = omitFlex ? Fragment : Flex.Stack\n\n  return (\n    <WrapperElement {...(omitFlex ? null : flexProps)}>\n      {arrayValue === emptyValue || props?.value?.length === 0\n        ? placeholder\n        : elementData.map((elementProps) => {\n            const { id, value, index } = elementProps\n            const elementRef = (innerRefs.current[id] =\n              innerRefs.current[id] || createRef<HTMLDivElement>())\n\n            const renderChildren = (elementChild: ElementChild) => {\n              return typeof elementChild === 'function'\n                ? elementChild(value, index)\n                : elementChild\n            }\n\n            const contextValue = {\n              ...elementProps,\n              elementRef,\n            }\n\n            const content = Array.isArray(children)\n              ? children.map((child) => renderChildren(child))\n              : renderChildren(children)\n\n            if (omitFlex) {\n              return (\n                <IterateElementContext.Provider\n                  key={`element-${id}`}\n                  value={contextValue}\n                >\n                  <FieldBoundaryProvider>{content}</FieldBoundaryProvider>\n                </IterateElementContext.Provider>\n              )\n            }\n\n            return (\n              <Flex.Item\n                className=\"dnb-forms-iterate__element\"\n                tabIndex={-1}\n                innerRef={elementRef}\n                key={`element-${id}`}\n              >\n                <IterateElementContext.Provider value={contextValue}>\n                  <FieldBoundaryProvider>{content}</FieldBoundaryProvider>\n                </IterateElementContext.Provider>\n              </Flex.Item>\n            )\n          })}\n    </WrapperElement>\n  )\n}\n\nArrayComponent._supportsSpacingProps = true\nexport default ArrayComponent\n"],"names":["ChildrenWithAgeProperties","mode","doc","type","status","enableAdditionalQuestions","toWizardStep","ListAllProps","props","log","generateRef","filterData","children","fieldPropsRef","valuePropsRef","data","hasContext","useContext","DataContext","useRef","current","generate","useCallback","propsOfFields","Object","entries","reduce","acc","_ref","path","startsWith","propertyValue","prop","undefined","isValidElement","pointer","propsOfValues","_ref2","console","schemaParams","GenerateSchema","dataRef","schema","objectKey","substring","pathList","split","slashCount","length","valueType","nestedPath","push","pathToSet","join","isLast","existingValue","pathValue","required","at","apply","_toConsumableArray","properties","_ref3","translations","ChildrenWithAge","hasChildren","title","fieldLabel","countChildren","valueVale","suffix","childrenAge","hasJointResponsibility","confirmJointResponsibility","usesDaycare","hasDaycare","jointResponsibilityTrue","jointResponsibilityFalse","daycareTrue","daycareFalse","_jsx","Form","Summary","EditContent","tr","_jsxs","Card","stack","Lead","Field","label","variant","defaultValue","errorMessages","pathTrue","animate","includes","minimum","width","maximum","showStepControls","Iterate","countPath","countPathTransform","transformAgeItem","countPathLimit","align","itemPath","placeholder","startWith","Value","gap","inline","trueText","falseText","Wizard","toStep","_ref4","value","prototype","hasOwnProperty","call","age","_supportsSpacingProps","WithToolbar","Flex","Blocks","ChildrenWithAgeWizard","_jsx2","ComponentBox","scope","noInline","useData","filterDataPaths","useMemo","generateDataRef","generatePropsRef","generateSchemaRef","top","Tools","Section","backgroundColor","innerSpace","text","optionsLayout","HelpButton","visibleWhen","hasValue","Output","transform","_Fragment","element","JSON","stringify","_createMdxContent","_components","assign","h1","p","code","a","h2","pre","_provideComponents","components","href","className","PropertiesTable","wrapper","MDXLayout","basicComponents","StyledTable","_styled","Table","target","name","styles","colorString","FormattedCode","strikethrough","style","rest","textDecoration","color","background","boxShadow","camelCase","omit","showDefaultValue","keys","tableRows","map","key","Tr","Td","formatName","toCamelCase","Array","isArray","t","String","i","prev","curr","ReactMarkdown","convertToCamelCase","Th","forEach","replace","RegExp","ArrayComponent","_props$value","salt","forceUpdate","useReducer","summaryListContext","SummaryListContext","valueBlockContext","ValueBlockContext","getValue","useDataValue","preparedProps","Infinity","arrayValue","countValue","parseFloat","newValue","l","index","withoutFlex","emptyValue","handleChange","onChange","useFieldProps","idsRef","isNewRef","modesRef","valueWhileClosingRef","valueCountRef","containerRef","hadPushRef","innerRefs","omitFlex","useEffect","elementData","_valueCountRef$curren","id","makeUniqueId","hasNewItems","isNew","containerMode","switchContainerMode","_isNewRef$current","newArrayValue","structuredClone","handlePush","concat","handleRemove","_temp","keepItems","splice","fulfillRemove","_modesRef$current","_isNewRef$current2","findIndex","indexOf","restoreOriginalValue","last","flexProps","classnames","pickFlexContainerProps","pickSpacingProps","innerRef","WrapperElement","Fragment","elementProps","elementRef","createRef","renderChildren","elementChild","contextValue","content","child","IterateElementContext","Provider","FieldBoundaryProvider","tabIndex"],"sourceRoot":""}