"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[33665],{79197:function(n,e,t){t.r(e);var a=t(52322),o=t(45392),r=t(96808);function i(n){const e=Object.assign({h1:"h1",p:"p"},(0,o.ah)(),n.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h1,{children:"Case Demo 2"}),"\n",(0,a.jsx)(e.p,{children:"Below, you can extend the demo code."}),"\n",(0,a.jsx)(r.T,{})]})}e.default=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,o.ah)(),n.components);return e?(0,a.jsx)(e,Object.assign({},n,{children:(0,a.jsx)(i,n)})):i(n)}},96808:function(n,e,t){t.d(e,{T:function(){return s},X:function(){return i}});var a=t(67436),o=t(7325),r=t(52322);const i=()=>(0,r.jsx)(o.Z,{hideCode:!0,scope:{StepsLayout:a.Z},noInline:!0,children:'const Output = () => {\n  const { data } = Form.useData(\'example-form\', {\n    website: \'www.dnb.no\',\n  })\n  return (\n    <Section\n      element="output"\n      innerSpace\n      backgroundColor="sand-yellow"\n      top\n      bottom="large"\n    >\n      JSON Output: <Code>{JSON.stringify(data, null, 4)}</Code>\n    </Section>\n  )\n}\nrender(\n  <>\n    <Form.Handler\n      id="example-form"\n      onSubmit={(data) => console.log(\'onSubmit\', data)}\n    >\n      <StepsLayout top scrollTopOnStepChange>\n        <StepsLayout.Step title="Bedriftsopplysninger">\n          <Form.MainHeading>Bedriftsopplysninger</Form.MainHeading>\n\n          <Card spacing="medium">\n            <Field.OrganizationNumber\n              path="/companyOrganizationNumber"\n              required\n            />\n            <Field.String\n              path="/companyName"\n              label="Bedriftens navn"\n              required\n            />\n            <Field.String\n              path="/companyAddress"\n              label="Forretningsadresse (NB! Ikke postadresse)"\n              required\n            />\n            <Field.PostalCodeAndCity\n              postalCode={{\n                path: \'/companyPostalCode\',\n              }}\n              city={{\n                path: \'/companyCity\',\n              }}\n            />\n            <Field.Selection\n              variant="radio"\n              path="/postalAddressSelect"\n              label="Postadresse (Ã¸nsket sted for tilsendt post)"\n            >\n              <Field.Option\n                value="companyAddress"\n                title="Samme som forretningsadresse"\n              />\n              <Field.Option value="other" title="Annet" />\n            </Field.Selection>\n            <Field.Selection\n              variant="radio"\n              path="/hqAddress"\n              label="Hovedkontoradresse"\n            >\n              <Field.Option\n                value="companyAddress"\n                title="Samme som forretningsadresse"\n              />\n              <Field.Option\n                value="postalAddress"\n                title="Samme som postadresse"\n              />\n              <Field.Option value="other" title="Annet" />\n            </Field.Selection>\n            <Field.SelectCountry\n              path="/countryOfEstablishment"\n              label="Etableringsland"\n              required\n            />\n          </Card>\n\n          <Card spacing="medium">\n            <Field.PhoneNumber\n              path="/phoneNumber"\n              label="Telefon/mobilnummer"\n              required\n            />\n            <Field.Email path="/email" required />\n            <Field.String\n              path="/website"\n              label="Nettstedsadresse (valgfritt)"\n            />\n          </Card>\n\n          <Form.ButtonRow>\n            <StepsLayout.NextButton />\n          </Form.ButtonRow>\n        </StepsLayout.Step>\n\n        <StepsLayout.Step title="Kontaktperson">\n          <Form.MainHeading>Profile</Form.MainHeading>\n\n          <Card stack>\n            <Form.SubHeading>More information</Form.SubHeading>\n\n            <Field.NationalIdentityNumber path="/ssn" />\n            <Field.Email path="/email" />\n            <Field.PhoneNumber path="/phone" />\n          </Card>\n\n          <Form.ButtonRow>\n            <StepsLayout.PreviousButton />\n            <StepsLayout.NextButton />\n          </Form.ButtonRow>\n        </StepsLayout.Step>\n\n        <StepsLayout.Step title="Bedriftens virksomhet">\n          <em>Bedriftens virksomhet</em>\n        </StepsLayout.Step>\n\n        <StepsLayout.Step title="Bruk av DNBs tjenester">\n          <em>Bruk av DNBs tjenester</em>\n        </StepsLayout.Step>\n\n        <StepsLayout.Step title="Inntekt og egenkapital">\n          <em>Inntekt og egenkapital</em>\n        </StepsLayout.Step>\n\n        <StepsLayout.Step title="Skatterapportering">\n          <em>Skatterapportering</em>\n        </StepsLayout.Step>\n\n        <StepsLayout.Step title="Eierskap og kontroll">\n          ...\n        </StepsLayout.Step>\n\n        <StepsLayout.Step title="Roller i bedriften">...</StepsLayout.Step>\n\n        <StepsLayout.Step title="Oppsummering">\n          <Form.MainHeading>Profile</Form.MainHeading>\n\n          <Card stack>\n            <Flex.Container>\n              <Value.String path="/firstName" />\n              <Value.String path="/lastName" />\n            </Flex.Container>\n\n            <Value.NationalIdentityNumber path="/ssn" />\n            <Value.Email path="/email" />\n            <Value.PhoneNumber path="/phone" />\n          </Card>\n\n          <Form.ButtonRow>\n            <StepsLayout.PreviousButton />\n            <Form.SubmitButton />\n          </Form.ButtonRow>\n        </StepsLayout.Step>\n\n        <StepsLayout.Step title="Kvittering">\n          Kvittering...\n        </StepsLayout.Step>\n      </StepsLayout>\n    </Form.Handler>\n\n    <Output />\n  </>,\n)\n'});function s(){return(0,r.jsx)(o.Z,{hideCode:!0,scope:{StepsLayout:a.Z},noInline:!0,children:'const Output = () => {\n  const { data } = Form.useData(\'pizza-demo\', {})\n  return (\n    <Section\n      element="output"\n      innerSpace\n      backgroundColor="sand-yellow"\n      top\n      bottom="large"\n    >\n      JSON Output: <Code>{JSON.stringify(data, null, 4)}</Code>\n    </Section>\n  )\n}\nrender(\n  <Provider locale="en-GB">\n    <Form.Handler\n      onSubmit={(data) => console.log(\'onSubmit\', data)}\n      id="pizza-demo"\n      sessionStorageId="pizza-form"\n    >\n      <StepsLayout scrollTopOnStepChange>\n        <StepsLayout.Step title="Which pizza do you want?">\n          <Form.MainHeading>Which pizza do you want?</Form.MainHeading>\n\n          <Card stack>\n            <Form.SubHeading>Your Pizza</Form.SubHeading>\n            <Field.Selection\n              variant="button"\n              label="Choose a flavour"\n              path="/flavour"\n              required\n            >\n              <Field.Option value="pepperoni" title="Pepperoni" />\n              <Field.Option value="margarita" title="Margarita" />\n              <Field.Option value="parma" title="Parma" />\n            </Field.Selection>\n          </Card>\n\n          <Card stack>\n            <Form.SubHeading>Allergies</Form.SubHeading>\n            <Field.Boolean\n              label="Do you have any allergies?"\n              path="/hasAllergies"\n              variant="buttons"\n              required\n            />\n\n            <Form.Visibility pathTrue="/hasAllergies" animate>\n              <Field.String\n                label="Write down your allergies"\n                path="/allergies"\n                required // only if visible ðŸ‘Œ\n              />\n            </Form.Visibility>\n          </Card>\n\n          <Form.ButtonRow>\n            <StepsLayout.NextButton />\n          </Form.ButtonRow>\n        </StepsLayout.Step>\n\n        <StepsLayout.Step title="Delivery address">\n          <Form.MainHeading>Delivery address</Form.MainHeading>\n\n          <Card stack>\n            <Form.SubHeading>Your name</Form.SubHeading>\n\n            <Field.String label="First name" path="/firstName" required />\n            <Field.String label="Last name" path="/lastName" required />\n          </Card>\n\n          <Card stack>\n            <Form.SubHeading>Your address</Form.SubHeading>\n\n            <FieldBlock width="large" composition>\n              <Field.String\n                label="Street"\n                width="stretch"\n                path="/streetName"\n                required\n              />\n              <Field.Number\n                label="Nr."\n                width="small"\n                path="/streetNr"\n                required\n              />\n            </FieldBlock>\n\n            <Field.PostalCodeAndCity\n              postalCode={{\n                required: true,\n                path: \'/postalCode\',\n              }}\n              city={{\n                required: true,\n                path: \'/city\',\n              }}\n            />\n          </Card>\n\n          <Form.ButtonRow>\n            <StepsLayout.PreviousButton />\n            <StepsLayout.NextButton />\n          </Form.ButtonRow>\n        </StepsLayout.Step>\n\n        <StepsLayout.Step title="Summary">\n          <Form.MainHeading>Summary</Form.MainHeading>\n\n          <Card stack>\n            <Value.String label="My flavour" path="/flavour" />\n            <Value.Boolean label="I have allergies" path="/hasAllergies" />\n            <Value.String label="My allergies" path="/allergies" />\n          </Card>\n\n          <Card stack>\n            <Flex.Horizontal>\n              <Value.String label="First name" path="/firstName" />\n              <Value.String label="Last name" path="/lastName" />\n            </Flex.Horizontal>\n\n            <Flex.Horizontal>\n              <Value.String label="Street" path="/streetName" />\n              <Value.Number label="Nr." path="/streetNr" />\n            </Flex.Horizontal>\n\n            <Flex.Horizontal>\n              <Value.String label="Postal Code" path="/postalCode" />\n              <Value.String label="City" path="/city" />\n            </Flex.Horizontal>\n          </Card>\n\n          <Form.ButtonRow>\n            <StepsLayout.PreviousButton />\n            <Form.SubmitButton />\n          </Form.ButtonRow>\n        </StepsLayout.Step>\n      </StepsLayout>\n    </Form.Handler>\n\n    <Output />\n  </Provider>,\n)\n'})}},59626:function(n,e,t){const a=t(2784).createContext({activeIndex:0,setActiveIndex:()=>null,handlePrevious:()=>null,handleNext:()=>null});e.Z=a},67436:function(n,e,t){t.d(e,{Z:function(){return P}});var a=t(2784),o=t(72779),r=t.n(o),i=t(80215),s=t(76603),l=t(80945),u=t(56239),d=t(67155),p=t(21068),c=t(30392),m=t(59626),S=t(61890),h=t(52322);function b(n){const{className:e,index:t,children:o}=n,i=(0,a.useContext)(m.Z);return(null==i?void 0:i.activeIndex)!==t?null:(0,h.jsx)(S.Z,{className:r()("dnb-forms-step",e),...(0,c.W)(n),children:o})}b._supportsSpacingProps=!0;var y=b,g=t(28952),F=t(65927),v=t(71370);function C(n){const e=(0,a.useContext)(g.Z),{className:t,variant:o="primary",icon_position:i="right",icon:s="chevron_right",children:l=(null==e?void 0:e.translation.Forms.stepNext)}=n,u=(0,a.useContext)(m.Z);return(0,h.jsx)(F.Z,{children:(0,h.jsx)(v.Z,{type:"button",className:r()("dnb-forms-next-button",t),onClick:null==u?void 0:u.handleNext,variant:o,icon_position:i,icon:s,...n,children:l})})}C._supportsSpacingProps=!0;var f=C,x=t(96844);function N(n){const e=(0,a.useContext)(g.Z),{className:t,variant:o="tertiary",icon_position:i="left",icon:s="chevron_left",children:l=(null==e?void 0:e.translation.Forms.stepPrevious)}=n,u=(0,a.useContext)(m.Z),d={};return 0===(null==u?void 0:u.activeIndex)&&(d.disabled=!0),(0,h.jsx)(F.Z,{children:(0,h.jsx)(x.Z,{className:r()("dnb-forms-previous-button",t),onClick:null==u?void 0:u.handlePrevious,variant:o,icon_position:i,icon:s,...d,...n,children:l})})}N._supportsSpacingProps=!0;var k=N;function L(n){const{className:e}=n;return(0,h.jsxs)(F.Z,{className:r()("dnb-forms-buttons",e),...n,children:[(0,h.jsx)(k,{}),(0,h.jsx)(f,{})]})}L._supportsSpacingProps=!0;var B=L,w=t(80370),H=t(43151);function O(n){const{className:e,id:t,mode:o="strict",scrollTopOnStepChange:c,initialActiveIndex:S=0,onStepChange:b,children:g,noAnimation:F=!0,variant:v="sidebar",sidebarId:C,...f}=n,{hasContext:x,setFormState:N,handleSubmitCall:k,setShowAllErrors:L,showAllErrors:B,scrollToTop:P}=(0,a.useContext)(p.Z),j=(0,d.Z)(t),{1:_}=(0,a.useReducer)((()=>({})),{}),Z=(0,a.useRef)(S),A=(0,a.useRef)({});A.current[Z.current]=B;const z=(0,a.useCallback)((async(n,e)=>(0,u.S)(b)?await b(n,e):null==b?void 0:b(n,e)),[b]),V=(0,a.useCallback)((n=>{let{index:e,skipErrorCheck:t,mode:a}=n;k({skipErrorCheck:t,skipFieldValidation:t,enableAsyncBehaviour:(0,u.S)(b),onSubmit:async()=>{const n=await z(e,a);return N("abort"),t||L(A.current[e]),n instanceof Error||(Z.current=e,_()),c&&P(),n}})}),[z,k,b,P,c,N,L]),I=(0,a.useCallback)(((n,e)=>{if(n===Z.current)return;const t=n>Z.current?"next":"previous";V({index:n,skipErrorCheck:"previous"===t,mode:t,...e})}),[V]),M=(0,a.useCallback)((()=>{I(Z.current-1)}),[I]),R=(0,a.useCallback)((()=>{I(Z.current+1)}),[I]),q=(0,a.useCallback)((n=>{let{current_step:e}=n;I(e,{skipErrorCheck:!0})}),[I]),E=(0,a.useMemo)((()=>({activeIndex:Z.current,setActiveIndex:I,handlePrevious:M,handleNext:R})),[Z.current,I,M,R]),T=(0,H.O)(x&&j?j+"-steps":void 0),{extend:D}=T;if((0,a.useEffect)((()=>{x&&j&&D(E)}),[j,D,E]),!x)return(0,l.ZK)("You may wrap StepsLayout in Form.Handler"),(0,h.jsx)(w.Z,{children:(0,h.jsx)(O,{...n,id:j})});const J=[],K=a.Children.map(g,((n,e)=>{if(a.isValidElement(n)){var t,o;let s=n;var r,i;if((null===(t=n)||void 0===t?void 0:t.type)!==y&&"function"==typeof n.type)s=n.type.apply(n.type,[n.props]),(null===(r=s)||void 0===r?void 0:r.type)===y&&(n=s);if((null===(o=n)||void 0===o?void 0:o.type)===y)return J.push(null!==(i=n.props.title)&&void 0!==i?i:"Title missing"),a.cloneElement(n,{index:e})}return n}));return(0,h.jsx)(m.Z.Provider,{value:E,children:(0,h.jsxs)(i.Z,{className:r()("dnb-forms-steps-layout","drawer"===v&&"dnb-forms-steps-layout--drawer",e),...f,children:[(0,h.jsxs)("aside",{className:"dnb-forms-steps-layout__sidebar",children:[(0,h.jsx)(s.Z.Sidebar,{sidebar_id:j}),(0,h.jsx)(s.Z,{bottom:!0,current_step:Z.current,data:J,mode:o,no_animation:F,on_change:q,sidebar_id:"drawer"!==v||C?C||j:""})]}),(0,h.jsx)("div",{className:"dnb-forms-steps-layout__contents",children:K})]})})}O._supportsSpacingProps=!0,O.Step=y,O.NextButton=f,O.PreviousButton=k,O.Buttons=B,O.useStep=function(n){void 0===n&&(n=null);const e=(0,a.useRef)(null);e.current=(0,H.O)(n?n+"-steps":void 0);const t=(0,a.useContext)(m.Z);return e.current.data||t};var P=O}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-demo-cases-casedemo-2-mdx-9bd01926039751f9c5d7.js.map