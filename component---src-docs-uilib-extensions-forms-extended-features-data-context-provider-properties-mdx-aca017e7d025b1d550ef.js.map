{"version":3,"file":"component---src-docs-uilib-extensions-forms-extended-features-data-context-provider-properties-mdx-aca017e7d025b1d550ef.js","mappings":"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","sources":["webpack://dnb-design-system-portal/./src/docs/uilib/extensions/forms/extended-features/DataContext/Provider/properties.mdx","webpack://dnb-design-system-portal/./src/shared/parts/PropertiesTable.tsx","webpack://dnb-design-system-portal/../dnb-eufemia/src/elements/Th.ts","webpack://dnb-design-system-portal/../dnb-eufemia/src/elements/Tr.ts","webpack://dnb-design-system-portal/../dnb-eufemia/src/extensions/forms/DataContext/Provider/ProviderDocs.ts"],"sourcesContent":["/*@jsxRuntime automatic @jsxImportSource react*/\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport PropertiesTable from 'dnb-design-system-portal/src/shared/parts/PropertiesTable';\nimport {ProviderProperties} from '@dnb/eufemia/src/extensions/forms/DataContext/Provider/ProviderDocs';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h2, {\n      children: \"Properties\"\n    }), \"\\n\", _jsx(PropertiesTable, {\n      props: ProviderProperties\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import ReactMarkdown from 'react-markdown'\nimport styled from '@emotion/styled'\nimport { Code, Table, Td, Th, Tr } from '@dnb/eufemia/src'\nimport { PropertiesTableProps } from '@dnb/eufemia/src/shared/types'\nimport { toCamelCase } from '@dnb/eufemia/src/shared/component-helper'\nimport { basicComponents } from '../tags'\nimport Copy from '../tags/Copy'\n\nconst components = {\n  ...basicComponents,\n  p: (props) => <span {...props} />,\n}\nconst StyledTable = styled(Table)`\n  td {\n    white-space: nowrap;\n  }\n`\n\nexport default function PropertiesTable({\n  props,\n  valueType = 'string',\n  camelCase,\n  omit,\n}: {\n  props: PropertiesTableProps\n  valueType?: unknown\n  camelCase?: boolean\n  omit?: string[]\n}) {\n  const keys = Object.keys(props)\n  const tableRows = Object.entries(props).map(\n    ([key, { type, doc, status }]) => {\n      if (omit && omit.includes(key)) {\n        return null\n      }\n\n      if (\n        typeof type === 'string' &&\n        String(type).includes('{valueType}')\n      ) {\n        type = valueType as string\n      }\n\n      return (\n        <Tr key={key}>\n          <Td>\n            <Copy>\n              <Code>{formatName(camelCase ? toCamelCase(key) : key)}</Code>\n            </Copy>\n          </Td>\n          <Td>\n            {Array.isArray(type) ? (\n              type\n                .map((t) => (\n                  <Copy key={t}>\n                    <Code>{t}</Code>\n                  </Copy>\n                ))\n                .reduce((prev, curr) => (\n                  <>\n                    {prev} or {curr}\n                  </>\n                ))\n            ) : (\n              <Copy>\n                <Code>{type}</Code>\n              </Copy>\n            )}\n          </Td>\n          <Td>\n            <em>({status})</em>{' '}\n            <ReactMarkdown components={components}>\n              {camelCase ? convertToCamelCase(doc, keys) : doc}\n            </ReactMarkdown>\n          </Td>\n        </Tr>\n      )\n    },\n  )\n\n  return (\n    <Table.ScrollView>\n      <StyledTable>\n        <thead>\n          <Tr>\n            <Th>Property</Th>\n            <Th>Type</Th>\n            <Th>Description</Th>\n          </Tr>\n        </thead>\n        <tbody>{tableRows}</tbody>\n      </StyledTable>\n    </Table.ScrollView>\n  )\n}\n\n// Replace existing properties inside a string. Use the keys from the props object to find and replace the values\nfunction convertToCamelCase(doc: string, keys: string[]) {\n  keys.forEach((key) => {\n    doc = doc.replace(new RegExp(key, 'g'), toCamelCase(key))\n  })\n  return doc\n}\n\nfunction formatName(name: string): React.ReactNode | string {\n  if (name.includes('/')) {\n    return <ReactMarkdown components={components}>{name}</ReactMarkdown>\n  }\n\n  return name\n}\n","/**\n * HTML Element\n *\n */\n\nimport Th from '../components/table/TableTh'\nexport * from '../components/table/TableTh'\nexport default Th\n","/**\n * HTML Element\n *\n */\n\nimport Tr from '../components/table/TableTr'\nexport * from '../components/table/TableTr'\nexport default Tr\n","import { PropertiesTableProps } from '../../../../shared/types'\n\nexport const ProviderProperties: PropertiesTableProps = {\n  defaultData: {\n    doc: 'Default source data, only used if no other source is available, and not leading to updates if changed after mount.',\n    type: 'object',\n    status: 'required',\n  },\n  data: {\n    doc: 'Dynamic source data used as both initial data, and updates internal data if changed after mount.',\n    type: 'object',\n    status: 'required',\n  },\n  schema: {\n    doc: 'JSON Schema for validation of the data set.',\n    type: 'object',\n    status: 'optional',\n  },\n  errorMessages: {\n    doc: 'Object containing error messages by either type of JSON Pointer path and type.',\n    type: 'object',\n    status: 'optional',\n  },\n  minimumAsyncBehaviorTime: {\n    doc: 'Minimum time to display the submit indicator. Default is 1s.',\n    type: 'boolean',\n    status: 'optional',\n  },\n  asyncSubmitTimeout: {\n    doc: 'The maximum time to display the submit indicator before it changes back to normal. In case something went wrong during submission. Default is 30s.',\n    type: 'boolean',\n    status: 'optional',\n  },\n  scrollTopOnSubmit: {\n    doc: 'True for the UI to scroll to the top of the page when data is submitted.',\n    type: 'boolean',\n    status: 'optional',\n  },\n  sessionStorageId: {\n    doc: 'Key for saving active data to session storage and loading it on mount.',\n    type: 'string',\n    status: 'optional',\n  },\n  ajvInstance: {\n    doc: 'Provide your own custom Ajv instance. More info in the <a href=\"/uilib/extensions/forms/extended-features/Form/schema-validation/#custom-ajv-instance-and-keywords\">Schema validation</a> section.',\n    type: 'ajv',\n    status: 'optional',\n  },\n  filterData: {\n    doc: 'Filter the internal data context based on your criteria: `(path, value, props, internal) => !props?.disabled`. It will iterate on each data entry.',\n    type: 'function',\n    status: 'optional',\n  },\n  children: {\n    doc: 'Contents.',\n    type: 'React.Node',\n    status: 'required',\n  },\n}\n\nexport const ProviderEvents: PropertiesTableProps = {\n  onChange: {\n    doc: \"Will be called when a value of a field was changed by the user, with the data set (including the changed value) as argument. When an async function is provided, it will show an indicator on the current label during a field change. Related props: `minimumAsyncBehaviorTime` and `asyncSubmitTimeout`. You can return an error or an object with these keys `{ info: 'Info message', warning: 'Warning message', error: Error('My error') } as const` in addition to { success: 'saved' } indicate the field was saved. Will emit unvalidated by default and validated when an async function is provided (like `onSubmit`).\",\n    type: 'function',\n    status: 'optional',\n  },\n  onPathChange: {\n    doc: 'Will be called when a value of a field was changed by the user, with the `path` (JSON Pointer) and new `value` as arguments. Can be an async function. Will emit unvalidated by default and validated when `onChange` is an async function.',\n    type: 'function',\n    status: 'optional',\n  },\n  onSubmit: {\n    doc: \"Will be called (on validation success) when the user submit the form (i.e by clicking a [SubmitButton](/uilib/extensions/forms/extended-features/Form/SubmitButton) component inside), with the data set as argument. When an async function is provided, it will show an indicator on the submit button during the form submission. All form elements will be disabled during the submit. The indicator will be shown for minimum 1 second. Related props: `minimumAsyncBehaviorTime` and `asyncSubmitTimeout`. You can return an error or an object with these keys `{ status: 'pending', info: 'Info message', warning: 'Warning message', error: Error('My error') } as const` to be shown in a [FormStatus](/uilib/components/form-status). Will only emit when every validation has passed.\",\n    type: 'function',\n    status: 'optional',\n  },\n  onSubmitRequest: {\n    doc: 'Will be called when the user tries to submit, but errors stop the data from being submitted.',\n    type: 'function',\n    status: 'optional',\n  },\n  onSubmitComplete: {\n    doc: 'Will be called after onSubmit has finished and had not errors. It supports the same return values as `onSubmit` and will be merged together.',\n    type: 'function',\n    status: 'optional',\n  },\n}\n"],"names":["_createMdxContent","props","_components","Object","assign","h2","_provideComponents","components","_jsxs","_Fragment","children","_jsx","PropertiesTable","ProviderProperties","wrapper","MDXLayout","basicComponents","p","StyledTable","_styled","Table","target","name","styles","_ref","valueType","camelCase","omit","keys","tableRows","entries","map","_ref2","key","type","doc","status","includes","String","Tr","Td","Copy","Code","formatName","toCamelCase","Array","isArray","t","reduce","prev","curr","ReactMarkdown","convertToCamelCase","Th","forEach","replace","RegExp","defaultData","data","schema","errorMessages","minimumAsyncBehaviorTime","asyncSubmitTimeout","scrollTopOnSubmit","sessionStorageId","ajvInstance","filterData","ProviderEvents","onChange","onPathChange","onSubmit","onSubmitRequest","onSubmitComplete"],"sourceRoot":""}