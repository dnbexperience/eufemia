"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[90635],{13155:function(n,e,t){t.r(e),t.d(e,{default:function(){return h}});var o={};t.r(o),t.d(o,{Default:function(){return l},WithLayout:function(){return d}});var r=t(52322),s=t(45392),i=t(7325),a=t(67436),u=t(46817),c=t(38311);const l=()=>(0,r.jsx)(i.Z,{scope:{StepsLayout:a.Z,Form:u},children:'<Form.ButtonRow>\n  <StepsLayout.PreviousButton />\n  <StepsLayout.NextButton />\n  <Button variant="secondary">Other button</Button>\n</Form.ButtonRow>\n'}),d=()=>(0,r.jsx)(i.Z,{scope:{sendIcon:c.Z},children:'<Form.Handler onSubmit={(data) => console.log(\'onSubmit\', data)}>\n  <Card spacing="medium">\n    <Field.Email />\n    <Form.ButtonRow>\n      <Form.SubmitButton icon={sendIcon} />\n      <Button variant="secondary">Cancel</Button>\n    </Form.ButtonRow>\n  </Card>\n</Form.Handler>\n'});function p(n){const e=Object.assign({h2:"h2",h3:"h3"},(0,s.ah)(),n.components);return o||m("Examples",!1),l||m("Examples.Default",!0),d||m("Examples.WithLayout",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{children:"Demo"}),"\n",(0,r.jsx)(e.h3,{children:"Without any surrounding layout"}),"\n",(0,r.jsx)(l,{}),"\n",(0,r.jsx)(e.h3,{children:"In combination with a Layout"}),"\n",(0,r.jsx)(d,{})]})}var h=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,s.ah)(),n.components);return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(p,n)})):p(n)};function m(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}},59626:function(n,e,t){const o=t(2784).createContext({activeIndex:0,setActiveIndex:()=>null,handlePrevious:()=>null,handleNext:()=>null});e.Z=o},67436:function(n,e,t){t.d(e,{Z:function(){return F}});var o=t(2784),r=t(72779),s=t.n(r),i=t(80215),a=t(76603),u=t(80945),c=t(56239),l=t(67155),d=t(21068),p=t(30392),h=t(59626),m=t(61890),v=t(52322);function x(n){const{className:e,index:t,children:r}=n,i=(0,o.useContext)(h.Z);return(null==i?void 0:i.activeIndex)!==t?null:(0,v.jsx)(m.Z,{className:s()("dnb-forms-step",e),...(0,p.W)(n),children:r})}x._supportsSpacingProps=!0;var f=x,b=t(28952),j=t(65927),y=t(71370);function C(n){const e=(0,o.useContext)(b.Z),{className:t,variant:r="primary",icon_position:i="right",icon:a="chevron_right",children:u=(null==e?void 0:e.translation.Forms.stepNext)}=n,c=(0,o.useContext)(h.Z);return(0,v.jsx)(j.Z,{children:(0,v.jsx)(y.Z,{type:"button",className:s()("dnb-forms-next-button",t),onClick:null==c?void 0:c.handleNext,variant:r,icon_position:i,icon:a,...n,children:u})})}C._supportsSpacingProps=!0;var Z=C,k=t(96844);function _(n){const e=(0,o.useContext)(b.Z),{className:t,variant:r="tertiary",icon_position:i="left",icon:a="chevron_left",children:u=(null==e?void 0:e.translation.Forms.stepPrevious)}=n,c=(0,o.useContext)(h.Z),l={};return 0===(null==c?void 0:c.activeIndex)&&(l.disabled=!0),(0,v.jsx)(j.Z,{children:(0,v.jsx)(k.Z,{className:s()("dnb-forms-previous-button",t),onClick:null==c?void 0:c.handlePrevious,variant:r,icon_position:i,icon:a,...l,...n,children:u})})}_._supportsSpacingProps=!0;var g=_;function w(n){const{className:e}=n;return(0,v.jsxs)(j.Z,{className:s()("dnb-forms-buttons",e),...n,children:[(0,v.jsx)(g,{}),(0,v.jsx)(Z,{})]})}w._supportsSpacingProps=!0;var S=w,N=t(80370),B=t(43151);function E(n){const{className:e,id:t,mode:r="strict",scrollTopOnStepChange:p,initialActiveIndex:m=0,onStepChange:x,children:b,noAnimation:j=!0,variant:y="sidebar",sidebarId:C,...Z}=n,{hasContext:k,setFormState:_,handleSubmitCall:g,setShowAllErrors:w,showAllErrors:S,scrollToTop:F}=(0,o.useContext)(d.Z),P=(0,l.Z)(t),{1:I}=(0,o.useReducer)((()=>({})),{}),L=(0,o.useRef)(m),R=(0,o.useRef)({});R.current[L.current]=S;const A=(0,o.useCallback)((async(n,e)=>(0,c.S)(x)?await x(n,e):null==x?void 0:x(n,e)),[x]),O=(0,o.useCallback)((n=>{let{index:e,skipErrorCheck:t,mode:o}=n;g({skipErrorCheck:t,skipFieldValidation:t,enableAsyncBehaviour:(0,c.S)(x),onSubmit:async()=>{const n=await A(e,o);return _("abort"),t||w(R.current[e]),n instanceof Error||(L.current=e,I()),p&&F(),n}})}),[A,g,x,F,p,_,w]),W=(0,o.useCallback)(((n,e)=>{if(n===L.current)return;const t=n>L.current?"next":"previous";O({index:n,skipErrorCheck:"previous"===t,mode:t,...e})}),[O]),H=(0,o.useCallback)((()=>{W(L.current-1)}),[W]),T=(0,o.useCallback)((()=>{W(L.current+1)}),[W]),D=(0,o.useCallback)((n=>{let{current_step:e}=n;W(e,{skipErrorCheck:!0})}),[W]),V=(0,o.useMemo)((()=>({activeIndex:L.current,setActiveIndex:W,handlePrevious:H,handleNext:T})),[L.current,W,H,T]),K=(0,B.O)(k&&P?P+"-steps":void 0),{extend:M}=K;(0,o.useEffect)((()=>{k&&P&&M(V)}),[P,M,V]);const Y=(0,o.useRef)([]),q=(0,o.useCallback)((()=>(Y.current=[],o.Children.map(b,((n,e)=>{if(o.isValidElement(n)){var t,r;let a=n;var s,i;if((null===(t=n)||void 0===t?void 0:t.type)!==f&&"function"==typeof n.type)a=n.type.apply(n.type,[n.props]),(null===(s=a)||void 0===s?void 0:s.type)===f&&(n=a);if((null===(r=n)||void 0===r?void 0:r.type)===f)return Y.current.push(null!==(i=n.props.title)&&void 0!==i?i:"Title missing"),o.cloneElement(n,{index:e})}return n})))),[b]);return k?(0,v.jsx)(h.Z.Provider,{value:V,children:(0,v.jsxs)(i.Z,{className:s()("dnb-forms-steps-layout","drawer"===y&&"dnb-forms-steps-layout--drawer",e),...Z,children:[(0,v.jsxs)("aside",{className:"dnb-forms-steps-layout__sidebar",children:[(0,v.jsx)(a.Z.Sidebar,{sidebar_id:P}),(0,v.jsx)(a.Z,{bottom:!0,current_step:L.current,data:Y.current,mode:r,no_animation:j,on_change:D,sidebar_id:"drawer"!==y||C?C||P:""})]}),(0,v.jsx)("div",{className:"dnb-forms-steps-layout__contents",children:(0,v.jsx)(q,{})})]})}):((0,u.ZK)("You may wrap StepsLayout in Form.Handler"),(0,v.jsx)(N.Z,{children:(0,v.jsx)(E,{...n,id:P})}))}E._supportsSpacingProps=!0,E.Step=f,E.NextButton=Z,E.PreviousButton=g,E.Buttons=S,E.useStep=function(n){void 0===n&&(n=null);const e=(0,o.useRef)(null);e.current=(0,B.O)(n?n+"-steps":void 0);const t=(0,o.useContext)(h.Z);return e.current.data||t};var F=E},38311:function(n,e,t){var o=t(52322);e.Z=n=>(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...n,children:(0,o.jsx)("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m7.225 10.26 3.241 4.326a1.035 1.035 0 0 0 1.846-.43l2.24-11.928a1.035 1.035 0 0 0-1.566-1.07l-11.5 7.188a1.035 1.035 0 0 0 .55 1.913h5.189Zm0 0H5.669v3.216a1.035 1.035 0 0 0 1.618.855l1.977-1.348-2.04-2.724Zm0 0 6.893-9.078"})})}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-extended-features-form-button-row-demos-mdx-76487820159594b25859.js.map