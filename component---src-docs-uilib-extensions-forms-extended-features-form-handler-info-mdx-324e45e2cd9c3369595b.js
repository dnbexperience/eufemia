"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[85352,72330,2695],{29647:function(e,n,r){r.r(n);var s=r(52322),t=r(45392),o=r(63054),a=r(87036);function i(e){const n=Object.assign({h2:"h2",p:"p",code:"code",pre:"pre",a:"a",strong:"strong"},(0,t.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{children:"Description"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"Form.Handler"})," component provides a HTML form element."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\nrender(\n  <Form.Handler\n    data={existingData}\n    onChange={...}\n    onSubmit={...}\n  >\n    Your Form\n  </Form.Handler>,\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:"The form data can be handled outside of the form. This is useful if you want to use the form data in other components:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\nfunction Component() {\n  const { data } = Form.useData('unique')\n\n  return <Form.Handler id=\"unique\">...</Form.Handler>\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["More examples can be found in the ",(0,s.jsx)(n.a,{href:"/uilib/extensions/forms/extended-features/Form/useData/",children:"useData"})," hook docs."]}),"\n",(0,s.jsxs)(n.h2,{children:["Async ",(0,s.jsx)(n.code,{children:"onChange"})," and ",(0,s.jsx)(n.code,{children:"onSubmit"})," event handlers"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"NB:"})," When using an async ",(0,s.jsx)(n.code,{children:"onChange"})," event handler, the ",(0,s.jsx)(n.code,{children:"data"})," parameter will only include validated data. This lets you utilize the ",(0,s.jsx)(n.code,{children:"data"})," parameter directly in your request, without having to further process or transform it."]}),"\n",(0,s.jsxs)(n.p,{children:["If you need to use the original data (sync), you can access it via the ",(0,s.jsx)(n.a,{href:"/uilib/extensions/forms/extended-features/Form/useData/",children:"useData"})," hook."]}),"\n",(0,s.jsxs)(n.p,{children:["Depending on your needs, you may want to use e.g. ",(0,s.jsx)(n.code,{children:"debounceAsync"})," (",(0,s.jsx)(n.a,{href:"/uilib/helpers/functions/#debounce",children:"debounce"}),") to prevent multiple requests from being sent."]}),"\n",(0,s.jsxs)(n.p,{children:["You can return parameters from inside the async ",(0,s.jsx)(n.code,{children:"onChange"})," or ",(0,s.jsx)(n.code,{children:"onSubmit"})," event handler. This way you can display more related information, such as an error or an object with these keys:"]}),"\n",(0,s.jsx)(a.default,{}),"\n",(0,s.jsx)(o.default,{}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"info"}),", ",(0,s.jsx)(n.code,{children:"warning"})," and ",(0,s.jsx)(n.code,{children:"error"})," messages will be displayed at the bottom of a form or field (",(0,s.jsx)(n.a,{href:"/uilib/components/form-status",children:"FormStatus"}),"), depending where it is used. While the ",(0,s.jsx)(n.code,{children:"success"})," will be displayed on the label of the field that initiated the ",(0,s.jsx)(n.code,{children:"onChange"})," event."]}),"\n",(0,s.jsx)(n.h2,{children:"Browser autofill"}),"\n",(0,s.jsxs)(n.p,{children:["You can set ",(0,s.jsx)(n.code,{children:"autoComplete"})," on the ",(0,s.jsx)(n.code,{children:"Form.Handler"})," â€“ each ",(0,s.jsx)(n.a,{href:"/uilib/extensions/forms/base-fields/String/",children:"Field.String"}),"-field will then get ",(0,s.jsx)(n.code,{children:'autoComplete="on"'}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'<Form.Handler autoComplete={true}>\n  <Field.String path="/firstName" />\n  <Field.String path="/lastName" />\n</Form.Handler>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"path"})," property will be used to set the ",(0,s.jsx)(n.code,{children:"name"})," attribute, which lets browser know which autocomplete value should be proposed to the user."]}),"\n",(0,s.jsx)(n.h2,{children:"Temporary storage"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"sessionStorageId"})," feature uses the browsers session-storage (temporary storage mechanism) to store data entered by the user."]}),"\n",(0,s.jsx)(n.p,{children:"This lets the user navigate away and come back to the form, without loosing already entered data."}),"\n",(0,s.jsx)(n.p,{children:"Ensure you only use this feature for non-sensitive data."}),"\n",(0,s.jsx)(n.p,{children:"It will flush the storage once the form gets submitted."})]})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(i,e)})):i(e)}},87036:function(e,n,r){r.r(n);var s=r(52322),t=r(45392);function o(e){const n=Object.assign({pre:"pre",code:"code"},(0,t.ah)(),e.components);return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Async event handler\nconst onChange = debounceAsync(async function (data) {\n  try {\n    await makeRequest(data)\n  } catch (error) {\n    return error\n  }\n\n  // Optionally, you can return an object with these keys, depending your needs\n  return {\n    info: 'Info message',\n    warning: 'Warning message',\n\n    // and either an error\n    error: new Error('Error message'),\n\n    // or success (when used for autosave)\n    success: 'saved',\n  } as const\n})\n"})})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(o,e)})):o(e)}},63054:function(e,n,r){r.r(n);var s=r(52322),t=r(45392);function o(e){const n=Object.assign({p:"p",pre:"pre",code:"code"},(0,t.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"In all async operations, you can simply return an error object to display it in the form or influence the form behavior."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\n\n// Async function\nconst onSubmit = async (data) => {\n  try {\n    const response = await fetch('https://api.example.com', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    })\n    const data = await response.json()\n\n    Form.setData('unique-id', data) // Whatever you want to do with the data\n  } catch (error) {\n    return error // Will display the error message in the form\n  }\n\n  // Optionally, you can return an object with these keys, depending your needs\n  return {\n    info: 'Info message',\n    warning: 'Warning message',\n\n    // Force the form to stay in pending state\n    status: 'pending',\n\n    // and either an error\n    error: new Error('Error message'),\n  } as const\n}\n\nfunction Component() {\n  return (\n    <Form.Handler id=\"unique-id\" onSubmit={onSubmit}>\n      ...\n    </Form.Handler>\n  )\n}\n"})})]})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(o,e)})):o(e)}}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-extended-features-form-handler-info-mdx-324e45e2cd9c3369595b.js.map