"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[23648],{51227:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a={};t.r(a),t.d(a,{ArrayFromFormHandler:function(){return p},ObjectElements:function(){return m},PrimitiveElements:function(){return u},RenderPropsObjectElements:function(){return d},RenderPropsPrimitiveElements:function(){return h}});var r=t(52322),l=t(45392),o=t(52394),i=t(10535),s=t(21975),c=t(42277);const u=()=>(0,r.jsx)(o.Z,{scope:{Iterate:i},children:"<Iterate.Array\n  label=\"Array label\"\n  value={['Iron Man', 'Captain America', 'The Hulk']}\n  onChange={(value) => console.log('onChange', value)}\n>\n  <Field.String itemPath=\"/\" />\n</Iterate.Array>\n"}),m=()=>(0,r.jsx)(o.Z,{scope:{Iterate:i,Value:s},children:"<Iterate.Array\n  label=\"Accounts\"\n  value={[\n    {\n      accountName: 'Brukskonto',\n      accountNumber: '90901134567',\n    },\n    {\n      accountName: 'Sparekonto',\n      accountNumber: '90901156789',\n    },\n  ]}\n  onChange={(value) => console.log('onChange', value)}\n>\n  <h3>\n    <Value.String itemPath=\"/nickname\" />\n  </h3>\n  <Flex.Horizontal>\n    <Field.BankAccountNumber itemPath=\"/accountNumber\" />\n    <Field.String label=\"Account name\" itemPath=\"/accountName\" />\n  </Flex.Horizontal>\n</Iterate.Array>\n"}),h=()=>(0,r.jsx)(o.Z,{scope:{Iterate:i},children:"<Iterate.Array\n  label=\"Array label\"\n  value={['foo', 'bar', 'baz']}\n  onChange={(value) => console.log('onChange', value)}\n>\n  {(elementValue) => <Field.String value={elementValue} />}\n</Iterate.Array>\n"}),d=()=>(0,r.jsx)(o.Z,{scope:{Iterate:i},children:"<Iterate.Array\n  label=\"Array label\"\n  value={[\n    {\n      num: 1,\n      txt: 'One',\n    },\n    {\n      num: 2,\n      txt: 'Two',\n    },\n    {\n      num: 3,\n      txt: 'Three',\n    },\n    {\n      num: 4,\n      txt: 'Four',\n    },\n  ]}\n  onChange={(value) => console.log('onChange', value)}\n>\n  {({ num, txt }) => (\n    <FieldBlock width=\"large\">\n      <Field.Number value={num} width=\"small\" />\n      <Field.String value={txt} width={false} />\n    </FieldBlock>\n  )}\n</Iterate.Array>\n"}),p=()=>(0,r.jsx)(o.Z,{scope:{Iterate:i,Value:s,TrashIcon:c.Z},children:'<Form.Handler\n  data={{\n    avengers: [\n      {\n        nickname: \'Iron Man\',\n        firstName: \'Tony\',\n        lastName: \'Stark\',\n        bornYear: 1970,\n      },\n      {\n        nickname: \'Captain America\',\n        firstName: \'Steve\',\n        lastName: \'Rogers\',\n        bornYear: 1918,\n      },\n    ],\n    alwaysThere: \'Nick Fury\',\n  }}\n  onChange={(data) => console.log(\'Source onChange\', data)}\n>\n  <Form.MainHeading>Avengers</Form.MainHeading>\n\n  <Iterate.Array\n    path="/avengers"\n    onChange={(value) => console.log(\'Iterate onChange\', value)}\n  >\n    <Form.SubHeading>\n      <Value.String itemPath="/nickname" />\n    </Form.SubHeading>\n\n    <Flex.Horizontal align="center">\n      <Field.String\n        itemPath="/firstName"\n        width="medium"\n        label="First name"\n      />\n      <Field.String\n        itemPath="/lastName"\n        width="medium"\n        label="Last name"\n      />\n      <Field.Number\n        itemPath="/bornYear"\n        label="Year of birth"\n        width="small"\n      />\n      <Iterate.ArrayRemoveElementButton icon={TrashIcon} />\n    </Flex.Horizontal>\n\n    <Field.String path="/alwaysThere" top="x-small" />\n  </Iterate.Array>\n\n  <Iterate.ArrayPushButton\n    top="small"\n    text="Add another avenger"\n    path="/avengers"\n    pushValue={{}}\n  />\n</Form.Handler>\n'});function g(e){const n=Object.assign({h2:"h2",h3:"h3",p:"p",code:"code"},(0,l.ah)(),e.components);return a||b("Examples",!1),p||b("Examples.ArrayFromFormHandler",!0),m||b("Examples.ObjectElements",!0),u||b("Examples.PrimitiveElements",!0),d||b("Examples.RenderPropsObjectElements",!0),h||b("Examples.RenderPropsPrimitiveElements",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{children:"Demos"}),"\n",(0,r.jsx)(n.h3,{children:"Primitive elements"}),"\n",(0,r.jsx)(u,{}),"\n",(0,r.jsx)(n.h3,{children:"Object elements"}),"\n",(0,r.jsx)(m,{}),"\n",(0,r.jsx)(n.h3,{children:"Render props with primitive elements"}),"\n",(0,r.jsx)(h,{}),"\n",(0,r.jsx)(n.h3,{children:"Render props with object elements"}),"\n",(0,r.jsx)(d,{}),"\n",(0,r.jsx)(n.h3,{children:"With DataContext and add/remove buttons"}),"\n",(0,r.jsx)("em",{children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"itemPath"})," points to the root of each iterated element, while ",(0,r.jsx)(n.code,{children:"path"}),"\npoints to the root of the data source."]})}),"\n",(0,r.jsx)(p,{})]})}var v=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(g,e)})):g(e)};function b(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},10535:function(e,n,t){t.r(n),t.d(n,{Array:function(){return v},ArrayPushButton:function(){return y},ArrayRemoveElementButton:function(){return A},IterateElementContext:function(){return c.Z}});var a=t(84616),r=t(2784),l=t(72779),o=t.n(l),i=t(95955),s=t.n(i),c=t(38875),u=t(96781),m=t(35533),h=t(26),d=t(30392),p=t(52322);function g(e){const{className:n,layout:t="vertical",placeholder:l,label:i,labelDescription:g,path:v,value:b,info:x,warning:f,error:y,emptyValue:j,width:A,handleChange:C,children:F}=(0,m.Z)(e),w=(0,r.useMemo)((()=>(null!=b?b:[]).map(((e,n)=>({elementValue:e,handleElementChange:(e,n)=>{const t=structuredClone(b);s().set(t,e,n),null==C||C(t)},handleRemoveElement:()=>{const e=structuredClone(b);e.splice(n,1),null==C||C(e)}})))),[b,C]),P=(0,r.useCallback)((e=>{C([].concat((0,a.Z)(null!=b?b:[]),[e]))}),[b,C]);return(0,p.jsx)(u.Z,{className:o()("dnb-forms-field-number",n),layout:t,label:i,labelDescription:g,info:x,warning:f,error:y,width:A,contentWidth:!1!==A?A:void 0,...(0,h.SR)(e),children:(0,p.jsx)(d.Z,{...(0,d.W)(e,{spacing:"small"}),children:b===j?(0,p.jsx)("em",{children:l}):w.map(((e,n)=>{let{elementValue:t,handleElementChange:a,handleRemoveElement:r}=e;return(0,p.jsx)(c.Z.Provider,{value:{index:n,value:t,path:v,handleChange:a,handleRemove:r,handlePush:P},children:Array.isArray(F)?F.map((e=>"function"==typeof e?e(t,n):e)):"function"==typeof F?F(t,n):F},`element-${n}`)}))})})}g._supportsSpacingProps=!0;var v=g,b=t(96844),x=t(27439);function f(e){const n=(0,r.useContext)(c.Z),{handlePush:t}=null!=n?n:{},{pushValue:l,...i}=e,s=(0,x.wH)(i),{value:u,handleChange:h,children:d}=(0,m.Z)(i);if(void 0!==u&&!Array.isArray(u))throw new Error("ArrayPushButton received a non-array value.");const g=(0,r.useCallback)((()=>{t?t(l):h([].concat((0,a.Z)(null!=u?u:[]),[l]))}),[u,l,t,h]);return(0,p.jsx)(b.Z,{className:o()("dnb-forms-array-push-button",e.className),on_click:g,...s,children:d})}f._supportsSpacingProps=!0;var y=f;function j(e){const n=(0,r.useContext)(c.Z),{handleRemove:t}=null!=n?n:{};if(!n)throw new Error("ArrayRemoveElementButton must be inside an Iterate.Array component.");const a=(0,x.wH)(e),{children:l}=(0,m.Z)(e),i=(0,r.useCallback)((()=>{t()}),[t]);return(0,p.jsx)(b.Z,{className:o()("dnb-forms-array-remove-element-button",e.className),on_click:i,...a,children:l})}j._supportsSpacingProps=!0;var A=j}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-extended-features-iterate-array-demos-mdx-a944143fc73b902147ae.js.map