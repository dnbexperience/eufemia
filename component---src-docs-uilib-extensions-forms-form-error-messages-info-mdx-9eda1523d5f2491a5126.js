"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[66524],{8048:function(e,n,r){r.r(n);var s=r(31085),i=r(71184);function a(e){const n=Object.assign({h2:"h2",ul:"ul",li:"li",a:"a",code:"code",p:"p",pre:"pre",h3:"h3",h4:"h4",strong:"strong",ol:"ol"},(0,i.R)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{children:"Table of Contents"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#description",children:"Description"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#error-object",children:"Error object"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#reuse-existing-error-messages-in-a-validator-function",children:"Reuse existing error messages in a validator function"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#formerror-object",children:"FormError object"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#overwrite-existing-keys",children:"Overwrite existing keys"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#custom-keys-in-a-field",children:"Custom keys in a field"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#custom-keys-in-formhandler",children:"Custom keys in Form.Handler"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#localization-of-error-messages",children:"Localization of error messages"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#use-translations-to-localize-error-messages",children:"Use translations to localize error messages"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"#error-message-in-a-field-schema",children:["Error message in a field ",(0,s.jsx)(n.code,{children:"schema"})]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"#error-message-in-a-global-schema",children:["Error message in a global ",(0,s.jsx)(n.code,{children:"schema"})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"#levels-of-errormessages",children:["Levels of ",(0,s.jsx)(n.code,{children:"errorMessages"})]})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{children:"Description"}),"\n",(0,s.jsxs)(n.p,{children:["Eufemia Forms comes with built-in error messages. But you can also customize and override these messages by using the ",(0,s.jsx)(n.code,{children:"errorMessages"})," property both on ",(0,s.jsx)(n.a,{href:"/uilib/extensions/forms/all-fields/",children:"fields"})," (field level) and on the ",(0,s.jsx)(n.a,{href:"/uilib/extensions/forms/Form/Handler/",children:"Form.Handler"})," (global level)."]}),"\n",(0,s.jsxs)(n.p,{children:["You may use the ",(0,s.jsx)(n.code,{children:"errorMessages"})," property for two purposes:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Provide your own error messages."}),"\n",(0,s.jsx)(n.li,{children:"Overwrite the default error messages."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Both can be done on a global level or on a field level."}),"\n",(0,s.jsxs)(n.p,{children:["However, for when overwriting the default error messages on a global level, you can also use ",(0,s.jsx)(n.a,{href:"#localization-of-error-messages",children:"internationalization (i18n)"}),"."]}),"\n",(0,s.jsx)(n.h2,{children:"Error object"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"new Error"})," with a message to display a custom error message."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"render(<Field.PhoneNumber error={new Error('Show this message')} />)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or in case of a validator:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const myValidator = (value) => {\n  // Your validation logic\n  return new Error('Show this message')\n}\n\nrender(<Field.PhoneNumber onBlurValidator={myValidator} />)\n"})}),"\n",(0,s.jsx)(n.h2,{children:"Reuse existing error messages in a validator function"}),"\n",(0,s.jsx)(n.p,{children:"You can reuse existing error messages in a validator function. The types of error messages available depend on the field type."}),"\n",(0,s.jsxs)(n.p,{children:["For example, you can reuse the ",(0,s.jsx)(n.code,{children:"Field.errorRequired"})," error message in a validator function:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const myValidator = (value) => {\n  // Your validation logic\n  return new FormError('Field.errorRequired')\n}\n\n// Other options to reuse error messages, without using \"FormError\".\nconst myValidatorAlt = (value, { errorMessages }) => {\n  return new Error(errorMessages['Field.errorRequired'])\n\n  // Deprecated\n  return new Error(errorMessages.required)\n}\n\nrender(<Field.String onBlurValidator={myValidator} />)\n"})}),"\n",(0,s.jsx)(n.h3,{children:"FormError object"}),"\n",(0,s.jsxs)(n.p,{children:["You can use the JavaScript ",(0,s.jsx)(n.code,{children:"Error"})," object to display a custom error message:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { Field } from '@dnb/eufemia/extensions/forms'\n\nrender(<Field.PhoneNumber error={new Error('Custom message')} />)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["When it comes to re-using existing translations, you can also use the ",(0,s.jsx)(n.code,{children:"FormError"})," object to display error messages."]}),"\n",(0,s.jsx)(n.p,{children:"You can provide either an existing translation key, such as:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Field.errorRequired"})," - Displayed when the field is required and the user has not provided a value."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Field.errorPattern"})," - Displayed when the user has provided a value that does not match the pattern."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { FormError, Field } from '@dnb/eufemia/extensions/forms'\n\n// - Error property\nrender(<Field.PhoneNumber error={new FormError('Field.errorRequired')} />)\n\n// - Validator function\nrender(\n  <Field.PhoneNumber\n    onBlurValidator={() => {\n      return new FormError('Field.errorRequired')\n    }}\n  />,\n)\n"})}),"\n",(0,s.jsx)(n.h4,{children:"Overwrite existing keys"}),"\n",(0,s.jsx)(n.p,{children:"Per field, you can overwrite existing keys:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"render(\n  <Field.PhoneNumber\n    errorMessages={{\n      'Field.errorRequired': 'Display me, instead of the default message',\n    }}\n  />,\n)\n"})}),"\n",(0,s.jsx)(n.h4,{children:"Custom keys in a field"}),"\n",(0,s.jsx)(n.p,{children:"You can also provide your own keys:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"<Field.PhoneNumber\n  error={new FormError('MyCustom.message')}\n  errorMessages={{\n    'MyCustom.message': 'Your custom error message',\n  }}\n/>\n"})}),"\n",(0,s.jsx)(n.h4,{children:"Custom keys in Form.Handler"}),"\n",(0,s.jsxs)(n.p,{children:["Here is how you can provide your own keys or overwrite existing ones in a global ",(0,s.jsx)(n.code,{children:"errorMessages"})," object inside the ",(0,s.jsx)(n.a,{href:"/uilib/extensions/forms/Form/Handler/",children:"Form.Handler"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"render(\n  <Form.Handler\n    errorMessages={{\n      'MyCustom.message': 'Your custom error message',\n      'Field.errorRequired': 'Display me, instead of the default message',\n    }}\n  >\n    ...\n  </Form.Handler>,\n)\n"})}),"\n",(0,s.jsx)(n.h4,{children:"Localization of error messages"}),"\n",(0,s.jsx)(n.p,{children:"You can also provide localized error messages:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"render(\n  <Form.Handler\n    errorMessages={{\n      'en-GB': {\n        'Field.errorRequired':\n          'Display me, instead of the default message',\n      },\n      'nb-NO': {\n        'Field.errorRequired': 'Vis meg istedenfor for standardmeldingen',\n      },\n    }}\n  >\n    ...\n  </Form.Handler>,\n)\n"})}),"\n",(0,s.jsx)(n.h4,{children:"Use translations to localize error messages"}),"\n",(0,s.jsx)(n.p,{children:"You can customize error messages via translations for the entire form:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\n\nrender(\n  <Form.Handler\n    translations={{\n      'nb-NO': {\n        // - Overwrite existing keys\n        Field: { errorRequired: 'Display this error message instead' },\n        'Field.errorRequired': 'Display this error message instead',\n\n        // - Custom keys\n        MyCustom: { key: 'Your custom error message' },\n        'MyCustom.message': 'Your custom error message',\n      },\n    }}\n  >\n    <Field.String pattern=\"^([a-z]+)$\" value=\"123\" validateInitially />\n  </Form.Handler>,\n)\n"})}),"\n",(0,s.jsxs)(n.h4,{children:["Error message in a field ",(0,s.jsx)(n.code,{children:"schema"})]}),"\n",(0,s.jsxs)(n.p,{children:["You can define an error message in a ",(0,s.jsx)(n.code,{children:"schema"})," for one field:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Using Zod schemas"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { Form, Field, z } from '@dnb/eufemia/extensions/forms'\n\nconst schema = z\n  .string()\n  .regex(\n    /^([a-z]+)$/,\n    'You can provide a custom message in the schema itself',\n  )\n\nrender(\n  <Form.Handler>\n    <Field.String schema={schema} value=\"123\" validateInitially />\n  </Form.Handler>,\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Using JSON Schema (Ajv)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import {\n  Form,\n  Field,\n  makeAjvInstance,\n} from '@dnb/eufemia/extensions/forms'\n\nconst ajv = makeAjvInstance()\nconst schema = {\n  type: 'string',\n  pattern: '^([a-z]+)$',\n  errorMessage: 'You can provide a custom message in the schema itself',\n} as const\n\nrender(\n  <Form.Handler ajvInstance={ajv}>\n    <Field.String schema={schema} value=\"123\" validateInitially />\n  </Form.Handler>,\n)\n"})}),"\n",(0,s.jsxs)(n.h4,{children:["Error message in a global ",(0,s.jsx)(n.code,{children:"schema"})]}),"\n",(0,s.jsxs)(n.p,{children:["You can also define an error message in a ",(0,s.jsx)(n.code,{children:"schema"})," for the entire form:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Using Zod schemas"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { Form, Field, z } from '@dnb/eufemia/extensions/forms'\n\nconst schema = z.object({\n  myKey: z\n    .string()\n    .regex(\n      /^([a-z]+)$/,\n      'You can provide a custom message in the schema itself',\n    ),\n})\n\nrender(\n  <Form.Handler schema={schema}>\n    <Field.String path=\"/myKey\" value=\"123\" validateInitially />\n  </Form.Handler>,\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Using JSON Schema (Ajv)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const ajv = makeAjvInstance()\nconst schema = {\n  type: 'object',\n  properties: {\n    myKey: {\n      type: 'string',\n      pattern: '^([a-z]+)$',\n      errorMessage:\n        'You can provide a custom message in the schema itself',\n    },\n  },\n} as const\n\nrender(\n  <Form.Handler schema={schema} ajvInstance={ajv}>\n    <Field.String path=\"/myKey\" value=\"123\" validateInitially />\n  </Form.Handler>,\n)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Or in a Form.Handler ",(0,s.jsx)(n.code,{children:"schema"})," with several validation rules:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Using Zod schemas"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { Form, Field, z } from '@dnb/eufemia/extensions/forms'\n\nconst schema = z.object({\n  myKey: z\n    .string()\n    .min(2, 'minLength message in provider schema')\n    .max(3, 'maxLength message in provider schema'),\n})\n\nrender(\n  <Form.Handler schema={schema}>\n    <Field.String path=\"/myKey\" value=\"123\" validateInitially />\n  </Form.Handler>,\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Using JSON Schema (Ajv)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import {\n  Form,\n  Field,\n  makeAjvInstance,\n} from '@dnb/eufemia/extensions/forms'\n\nconst ajv = makeAjvInstance()\nconst schema = {\n  type: 'object',\n  properties: {\n    myKey: {\n      type: 'string',\n      minLength: 2,\n      maxLength: 3,\n      errorMessage: {\n        minLength: 'minLength message in provider schema',\n        maxLength: 'maxLength message in provider schema',\n      },\n    },\n  },\n} as const\n\nrender(\n  <Form.Handler schema={schema} ajvInstance={ajv}>\n    <Field.String path=\"/myKey\" value=\"123\" validateInitially />\n  </Form.Handler>,\n)\n"})}),"\n",(0,s.jsxs)(n.h2,{children:["Levels of ",(0,s.jsx)(n.code,{children:"errorMessages"})]}),"\n",(0,s.jsxs)(n.p,{children:["You can provide custom error message different levels with the ",(0,s.jsx)(n.code,{children:"errorMessages"})," property:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"On the Form.Handler (Provider) level."}),"\n",(0,s.jsx)(n.li,{children:"On the Form.Handler (Provider) level with a JSON Pointer path."}),"\n",(0,s.jsx)(n.li,{children:"On the field level."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The levels are prioritized in the order above, so the field level error message will overwrite all other levels."}),"\n",(0,s.jsxs)(n.p,{children:["Here is an example of how to do expose a custom error message for the ",(0,s.jsx)(n.code,{children:"Field.errorRequired"})," validation rule on all levels:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import {\n  Form,\n  Field,\n  makeAjvInstance,\n} from '@dnb/eufemia/extensions/forms'\n\nconst ajv = makeAjvInstance()\n\nrender(\n  <Form.Handler\n    ajvInstance={ajv}\n    errorMessages={{\n      // Level 1\n      'Field.errorRequired': 'Or on the provider',\n      '/myKey': {\n        // Level 2\n        'Field.errorRequired': 'Or on the provider for just one field',\n      },\n    }}\n  >\n    <Field.String\n      path=\"/myKey\"\n      errorMessages={{\n        // Level 3\n        'Field.errorRequired': 'Or on a single Field itself',\n      }}\n    />\n  </Form.Handler>,\n)\n"})})]})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,i.R)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(a,e)})):a(e)}}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-form-error-messages-info-mdx-9eda1523d5f2491a5126.js.map