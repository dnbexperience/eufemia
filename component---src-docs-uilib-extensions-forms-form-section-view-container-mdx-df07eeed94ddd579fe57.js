"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[52408,68434,25627],{66621:function(n,e,t){t.r(e);var i=t(52322),r=t(45392),o=t(36870),a=t(4713);function s(n){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.default,{}),"\n",(0,i.jsx)(a.default,{})]})}e.default=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,r.ah)(),n.components);return e?(0,i.jsx)(e,Object.assign({},n,{children:(0,i.jsx)(s,n)})):s()}},4713:function(n,e,t){t.r(e),t.d(e,{default:function(){return l}});var i={};t.r(i),t.d(i,{ViewAndEditContainer:function(){return a.ViewAndEditContainer}});var r=t(52322),o=t(45392),a=t(38254);function s(n){const e=Object.assign({h2:"h2"},(0,o.ah)(),n.components);return i||c("Examples",!1),a.ViewAndEditContainer||c("Examples.ViewAndEditContainer",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{children:"Demos"}),"\n",(0,r.jsx)(a.ViewAndEditContainer,{})]})}var l=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,o.ah)(),n.components);return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(s,n)})):s(n)};function c(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}},36870:function(n,e,t){t.r(e);var i=t(52322),r=t(45392);function o(n){const e=Object.assign({h2:"h2",p:"p",code:"code",a:"a",pre:"pre"},(0,r.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{children:"Description"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"ViewContainer"})," enables users to toggle (with animation) the content of each item between this view and the ",(0,i.jsx)(e.a,{href:"/uilib/extensions/forms/Form/Section/EditContainer/",children:"EditContainer"})," container."]}),"\n",(0,i.jsx)(e.p,{children:'By default, it features the toolbar containing a "Edit" button.'}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-tsx",children:'import { Form, Field, Value } from \'@dnb/eufemia/extensions/forms\'\n\nrender(\n  <Form.Section>\n    <Form.Section.EditContainer title="Edit account holder">\n      <Field.Name.Last path="/name" />\n    </Form.Section.EditContainer>\n\n    <Form.Section.ViewContainer title="Account holder">\n      <Value.Name.Last path="/name" />\n    </Form.Section.ViewContainer>\n  </Form.Section>,\n)\n'})}),"\n",(0,i.jsx)(e.h2,{children:"Customize the Toolbar"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-tsx",children:"import { Form, Value } from '@dnb/eufemia/extensions/forms'\n\nrender(\n  <Form.Section>\n    <Form.Section.ViewContainer>\n      <Value.Name.Last itemPath=\"/name\" />\n\n      <Form.Section.Toolbar>\n        <Form.Section.ViewContainer.EditButton />\n      </Form.Section.Toolbar>\n    </Form.Section.ViewContainer>\n  </Form.Section>,\n)\n"})}),"\n",(0,i.jsx)(e.h2,{children:"Accessibility"}),"\n",(0,i.jsxs)(e.p,{children:["The ",(0,i.jsx)(e.code,{children:"ViewContainer"})," component has an ",(0,i.jsx)(e.code,{children:"aria-label"})," attribute, which is set to the ",(0,i.jsx)(e.code,{children:"title"})," property value. It uses a section element to wrap the content, which helps users with screen readers to get the needed announcement."]}),"\n",(0,i.jsx)(e.p,{children:"When the item (view and edit) container gets removed, the active element focus will be set on the previous item."})]})}e.default=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,r.ah)(),n.components);return e?(0,i.jsx)(e,Object.assign({},n,{children:(0,i.jsx)(o,n)})):o(n)}},38254:function(n,e,t){t.r(e),t.d(e,{AllFieldsRequired:function(){return u},BasicViewAndEditContainer:function(){return d},NestedPathSection:function(){return s},NestedSections:function(){return S},OverwriteProps:function(){return m},SchemaSupport:function(){return p},ViewAndEditContainer:function(){return l},ViewAndEditContainerValidation:function(){return c},WithVisibility:function(){return h},WithoutDataContext:function(){return a}});var i=t(46832),r=t(4902),o=t(52322);const a=()=>(0,o.jsx)(i.Z,{children:"<Form.Section\n  data={{\n    myField: 'Value',\n  }}\n  onChange={console.log}\n>\n  <Field.String path=\"/myField\" />\n</Form.Section>\n"}),s=()=>(0,o.jsx)(i.Z,{noInline:!0,children:'const MyNameSection = (props: SectionProps) => {\n  return (\n    <Form.Section {...props}>\n      <Card stack>\n        <Field.Name.First path="/firstName" />\n        <Field.Name.Last path="/lastName" />\n      </Card>\n    </Form.Section>\n  )\n}\nrender(\n  <Form.Handler\n    onSubmit={async (data) => console.log(\'onSubmit\', data)}\n    defaultData={{\n      nestedPath: {\n        firstName: \'Nora\',\n        lastName: \'Mørk\',\n      },\n    }}\n  >\n    <MyNameSection path="/nestedPath" />\n    <Form.SubmitButton variant="send" />\n  </Form.Handler>,\n)\n'}),l=()=>(0,o.jsx)(i.Z,{"data-visual-test":"view-and-edit-container",hideCode:!0,noInline:!0,children:'const MyEditContainer = () => {\n  return (\n    <Form.Section.EditContainer>\n      <Field.Name.First path="/firstName" />\n      <Field.Name.Last path="/lastName" />\n    </Form.Section.EditContainer>\n  )\n}\nconst MyViewContainer = () => {\n  return (\n    <Form.Section.ViewContainer>\n      <Value.SummaryList>\n        <Value.Name.First path="/firstName" />\n        <Value.Name.Last path="/lastName" />\n      </Value.SummaryList>\n    </Form.Section.ViewContainer>\n  )\n}\nrender(\n  <Form.Handler\n    onSubmit={async (data) => console.log(\'onSubmit\', data)}\n    defaultData={{\n      nestedPath: {\n        firstName: \'Nora\',\n        lastName: \'Mørk\',\n      },\n    }}\n  >\n    <Card stack>\n      <Form.SubHeading>Your account</Form.SubHeading>\n      <Form.Section path="/nestedPath" required>\n        <MyEditContainer />\n        <MyViewContainer />\n      </Form.Section>\n    </Card>\n    <Form.SubmitButton />\n  </Form.Handler>,\n)\n'}),c=()=>(0,o.jsx)(i.Z,{hideCode:!0,noInline:!0,children:'const MyEditContainer = () => {\n  return (\n    <Form.Section.EditContainer>\n      <Field.Name.First path="/firstName" />\n      <Field.Name.Last path="/lastName" />\n    </Form.Section.EditContainer>\n  )\n}\nconst MyViewContainer = () => {\n  return (\n    <Form.Section.ViewContainer>\n      <Value.SummaryList>\n        <Value.Name.First path="/firstName" />\n        <Value.Name.Last path="/lastName" />\n      </Value.SummaryList>\n    </Form.Section.ViewContainer>\n  )\n}\nrender(\n  <Form.Handler\n    onSubmit={async (data) => console.log(\'onSubmit\', data)}\n    defaultData={{\n      nestedPath: {\n        firstName: \'Nora\',\n        lastName: undefined, // initiate error\n      },\n    }}\n  >\n    <Card stack>\n      <Form.SubHeading>Your account</Form.SubHeading>\n      <Form.Section path="/nestedPath" required validateInitially>\n        <MyEditContainer />\n        <MyViewContainer />\n      </Form.Section>\n    </Card>\n    <Form.SubmitButton />\n  </Form.Handler>,\n)\n'}),d=()=>(0,o.jsx)(i.Z,{"data-visual-test":"basic-view-and-edit-container",hideCode:!0,noInline:!0,children:'const MyEditContainer = () => {\n  return (\n    <Form.Section.EditContainer variant="basic">\n      <Field.Name.First path="/firstName" />\n      <Field.Name.Last path="/lastName" />\n    </Form.Section.EditContainer>\n  )\n}\nconst MyViewContainer = () => {\n  return (\n    <Form.Section.ViewContainer variant="basic">\n      <Value.SummaryList>\n        <Value.Name.First path="/firstName" />\n        <Value.Name.Last path="/lastName" />\n      </Value.SummaryList>\n    </Form.Section.ViewContainer>\n  )\n}\nrender(\n  <Form.Handler\n    onSubmit={async (data) => console.log(\'onSubmit\', data)}\n    defaultData={{\n      nestedPath: {\n        firstName: \'Nora\',\n        lastName: \'Mørk\',\n      },\n    }}\n  >\n    <Card stack>\n      <Form.SubHeading>Your account</Form.SubHeading>\n      <Form.Section path="/nestedPath" required>\n        <MyEditContainer />\n        <MyViewContainer />\n      </Form.Section>\n    </Card>\n    <Form.SubmitButton />\n  </Form.Handler>,\n)\n'}),m=()=>(0,o.jsx)(i.Z,{noInline:!0,children:'const MyNameSection = (props) => {\n  return (\n    <Form.Section {...props}>\n      <Card stack>\n        <Field.Composition width="large">\n          <Field.Name.First path="/firstName" />\n          <Field.Name.Last path="/lastName" required minLength={10} />\n        </Field.Composition>\n      </Card>\n    </Form.Section>\n  )\n}\nrender(\n  <Form.Handler\n    onSubmit={async (data) => console.log(\'onSubmit\', data)}\n    defaultData={{\n      nestedPath: {\n        firstName: \'\',\n        lastName: \'M\',\n      },\n    }}\n  >\n    <MyNameSection\n      path="/nestedPath"\n      overwriteProps={{\n        firstName: {\n          required: true,\n          label: \'Custom\',\n        },\n        lastName: {\n          required: false,\n          minLength: 2,\n        },\n      }}\n    />\n    <Form.SubmitButton variant="send" />\n  </Form.Handler>,\n)\n'}),u=()=>(0,o.jsx)(i.Z,{noInline:!0,children:'const MyNameSection = (props: SectionProps) => {\n  return (\n    <Form.Section {...props}>\n      <Card stack>\n        <Field.Composition width="large">\n          <Field.Name.First path="/firstName" />\n          <Field.Name.Last path="/lastName" />\n        </Field.Composition>\n      </Card>\n    </Form.Section>\n  )\n}\nconst schema: JSONSchema = {\n  type: \'object\',\n  required: [\'myRequiredSection\'],\n}\nrender(\n  <Flex.Stack>\n    <Form.Handler onSubmit={async (data) => console.log(\'onSubmit\', data)}>\n      <MyNameSection required />\n      <Form.SubmitButton variant="send" />\n    </Form.Handler>\n\n    <Form.Handler\n      onSubmit={async (data) => console.log(\'onSubmit\', data)}\n      schema={schema}\n    >\n      <MyNameSection path="/myRequiredSection" />\n      <Form.SubmitButton variant="send" />\n    </Form.Handler>\n  </Flex.Stack>,\n)\n'}),p=()=>(0,o.jsx)(i.Z,{noInline:!0,children:"const MyNameSection = (props: SectionProps) => {\n  return (\n    <Form.Section {...props}>\n      <Card stack>\n        <Field.Composition width=\"large\">\n          <Field.Name.First path=\"/firstName\" />\n          <Field.Name.Last path=\"/lastName\" required minLength={10} />\n        </Field.Composition>\n      </Card>\n    </Form.Section>\n  )\n}\nconst mySchema: JSONSchema = {\n  type: 'object',\n  properties: {\n    nestedPath: {\n      type: 'object',\n      properties: {\n        firstName: {\n          type: 'string',\n          minLength: 3,\n        },\n        lastName: {\n          type: 'string',\n          minLength: 2,\n        },\n      },\n      required: ['firstName', 'lastName'],\n    },\n  },\n}\nrender(\n  <Form.Handler\n    onSubmit={async (data) => console.log('onSubmit', data)}\n    schema={mySchema}\n    defaultData={{\n      nestedPath: {\n        firstName: '',\n        lastName: 'M',\n      },\n    }}\n  >\n    <MyNameSection path=\"/nestedPath\" />\n    <Form.SubmitButton variant=\"send\" />\n  </Form.Handler>,\n)\n"}),h=()=>(0,o.jsx)(i.Z,{scope:{Tools:r},noInline:!0,children:'const MySection = ({ children, ...props }) => {\n  return (\n    <Form.Section {...props}>\n      <Card stack>\n        <Field.Boolean\n          label="Are you sure?"\n          variant="buttons"\n          path="/iAmSure"\n        />\n        <Form.Visibility pathTrue="/iAmSure" animate>\n          <Field.Selection\n            label="Choose"\n            variant="radio"\n            path="/mySelection"\n          >\n            <Field.Option value="less" title="Less" />\n            <Field.Option value="more" title="More" />\n          </Field.Selection>\n\n          <Form.Visibility\n            visibleWhen={{\n              path: \'/mySelection\',\n              hasValue: \'more\',\n            }}\n            animate\n          >\n            <Field.String label="My String" path="/myString" />\n          </Form.Visibility>\n        </Form.Visibility>\n\n        {children}\n      </Card>\n\n      <Tools.Log />\n    </Form.Section>\n  )\n}\nrender(\n  <Form.Handler\n    onChange={console.log}\n    defaultData={{\n      nestedPath: {\n        iAmSure: false,\n        mySelection: \'less\',\n        myString: \'has a value\',\n      },\n    }}\n  >\n    <MySection path="/nestedPath">\n      <Form.Visibility\n        visibleWhen={{\n          path: \'/myString\',\n          hasValue: (value) => value !== \'has a value\',\n        }}\n        animate\n      >\n        <P>\n          Result: <Value.String path="/nestedPath/myString" inline />\n        </P>\n      </Form.Visibility>\n    </MySection>\n  </Form.Handler>,\n)\n'}),S=()=>(0,o.jsx)(i.Z,{noInline:!0,children:'render(\n  <Form.Handler\n    onSubmit={async (data) => console.log(\'onSubmit\', data)}\n    defaultData={{\n      nestedPath: {\n        name: {\n          first: \'Nora\',\n          last: \'Mørk\',\n        },\n        address: {\n          street: \'Strøget\',\n          nr: \'\',\n        },\n      },\n    }}\n  >\n    <MySection path="/nestedPath" required />\n    <Form.SubmitButton variant="send" />\n  </Form.Handler>,\n)\nfunction MySection(props: SectionProps) {\n  return (\n    <Form.Section {...props}>\n      <Card stack>\n        <MyNameSection path="/name" />\n        <MyAddressSection path="/address" />\n        <MyValueSection />\n      </Card>\n    </Form.Section>\n  )\n}\nfunction MyNameSection(props: SectionProps) {\n  return (\n    <Form.Section {...props}>\n      <Field.Composition width="large">\n        <Field.Name.First path="/first" />\n        <Field.Name.Last path="/last" />\n      </Field.Composition>\n    </Form.Section>\n  )\n}\nfunction MyAddressSection(props: SectionProps) {\n  return (\n    <Form.Section {...props}>\n      <Field.Composition width="large">\n        <Field.String label="Gateadresse" path="/street" width="stretch" />\n        <Field.String label="Nr." path="/nr" width="small" />\n      </Field.Composition>\n    </Form.Section>\n  )\n}\nfunction MyValueSection(props: SectionProps) {\n  return (\n    <Form.Section {...props}>\n      <Value.SummaryList>\n        <Form.Section path="/name">\n          <Value.Composition gap="small">\n            <Value.Name.First path="/first" />\n            <Value.Name.Last path="/last" />\n          </Value.Composition>\n        </Form.Section>\n\n        <Form.Section path="/address">\n          <Value.Composition gap="small">\n            <Value.String label="Gateadresse" path="/street" />\n            <Value.String label="Nr." path="/nr" placeholder="–" />\n          </Value.Composition>\n        </Form.Section>\n      </Value.SummaryList>\n    </Form.Section>\n  )\n}\n'})},38734:function(n,e,t){t.d(e,{Z:function(){return l}});var i=t(84616),r=t(2784),o=t(2394),a=t(21068);const s=["minLength","maxLength","pattern","description","min","max","multipleOf","exclusiveMinimum","exclusiveMaximum"];function l(n){const{generateRef:e,filterData:t,log:l,children:c}=n||{},{fieldPropsRef:d,valuePropsRef:m,data:u,hasContext:p}=(0,r.useContext)(a.Z),h=(0,r.useRef)({});h.current=u;const S=(0,r.useCallback)((()=>{const n=Object.entries((null==d?void 0:d.current)||{}).reduce(((n,e)=>{let[r,a]=e;if(r.startsWith("/")){const e=r.substring(1),l=e.split("/"),c=l.length,d={type:a.valueType||"string"};for(const n of s)a[n]&&(d[n]=a[n]);if(c>1){const e=[""];for(const r of l){e.push(r);const s=e.join("/properties/"),c=e.length-1===l.length,m=o.e$(n,s)?o.U2(n,s):null,u=c?d:m;if(c)!1!==(null==t?void 0:t[s])&&o.t8(n,s,u);else{const e={type:"object",...m},r=[];a.required&&r.push(l.at(-1)),null!=m&&m.required&&r.push.apply(r,(0,i.Z)(m.required)),r.length>0&&(e.required=r),!1!==(null==t?void 0:t[s])&&o.t8(n,s,e)}}}else!1!==(null==t?void 0:t[r])&&o.t8(n.properties,r,d),a.required&&n.required.push(e)}return n}),{type:"object",properties:{},required:[]}),e=Object.entries((null==d?void 0:d.current)||{}).reduce(((n,e)=>{let[t,i]=e;if(t.startsWith("/")){const e={};for(const n in i)void 0!==i[n]&&"function"!=typeof i[n]&&(e[n]=i[n]);o.t8(n,t,e)}return n}),{}),r=Object.entries((null==m?void 0:m.current)||{}).reduce(((n,e)=>{let[t,i]=e;if(t.startsWith("/")){const e={};for(const n in i)void 0!==i[n]&&"function"!=typeof i[n]&&(e[n]=i[n]);o.t8(n,t,e)}return n}),{});return 0===n.required.length&&delete n.required,{schema:n,data:h.current,propsOfFields:e,propsOfValues:r}}),[d,t,m]);return p&&(l&&console.log(S().schema),e&&(e.current=S)),c}},10454:function(n,e,t){t.d(e,{Z:function(){return a}});var i=t(2784),r=t(2394),o=t(21068);function a(n){const{log:e,generateRef:t,filterData:a,children:s}=n||{},{fieldPropsRef:l,valuePropsRef:c,data:d,hasContext:m}=(0,i.useContext)(o.Z);(0,i.useRef)({}).current=d;const u=(0,i.useCallback)((()=>{const n=Object.entries((null==l?void 0:l.current)||{}).reduce(((n,e)=>{let[t,o]=e;if(t.startsWith("/")){const e={};for(const n in o)void 0===o[n]||"function"==typeof o[n]||(0,i.isValidElement)(o[n])||(e[n]=o[n]);!1!==(null==a?void 0:a[t])&&r.t8(n,t,e)}return n}),{}),e=Object.entries((null==c?void 0:c.current)||{}).reduce(((n,e)=>{let[t,o]=e;if(t.startsWith("/")){const e={};for(const n in o)void 0===o[n]||"function"==typeof o[n]||(0,i.isValidElement)(o[n])||(e[n]=o[n]);!1!==(null==a?void 0:a[t])&&r.t8(n,t,e)}return n}),{});return{propsOfFields:n,propsOfValues:e}}),[l,a,c]);return m&&(e&&console.log(u()),t&&(t.current=u)),s}},92581:function(n,e,t){t.d(e,{Z:function(){return d}});var i=t(2784),r=t(21068),o=t(54109).Z,a=t(9149),s=t(52322);function l(n){let{placeholder:e,label:t,data:l,...d}=n;const{data:m}=(0,i.useContext)(r.Z);return(0,s.jsxs)(o,{element:"output",backgroundColor:"sand-yellow",style:{maxWidth:"80vw"},innerSpace:!0,...d,children:[t&&(0,s.jsx)(a.Z,{bottom:!0,children:(0,s.jsx)("b",{children:t})}),(0,s.jsxs)("pre",{children:[e&&0===Object.keys((null!=l?l:m)||{}).length?e:JSON.stringify(c(null!=l?l:m),null,2)," "]})]})}function c(n,e){return void 0===e&&(e="undefined"),void 0===n?e:n&&"object"==typeof n&&n!==e?{...n,...Object.fromEntries(Object.entries(n).map((n=>{let[e,t]=n;return[e,c(t)]})))}:n}l._supportsSpacingProps=!0;var d=l},4902:function(n,e,t){t.r(e),t.d(e,{GenerateSchema:function(){return i.Z},ListAllProps:function(){return r.Z},Log:function(){return o.Z}});var i=t(38734),r=t(10454),o=t(92581)}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-form-section-view-container-mdx-df07eeed94ddd579fe57.js.map