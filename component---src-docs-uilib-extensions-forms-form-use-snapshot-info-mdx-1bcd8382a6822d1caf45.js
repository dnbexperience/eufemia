"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[15239],{4359:function(e,n,o){o.r(n);var t=o(52322),r=o(45392);function s(e){const n=Object.assign({h2:"h2",p:"p",code:"code",pre:"pre",ul:"ul",li:"li",a:"a",h3:"h3"},(0,r.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"Form.useSnapshot"})," hook lets you store data snapshots of your form data, either inside or outside of the form context."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\n\nfunction MyComponent() {\n  const { createSnapshot, applySnapshot, revertSnapshot } =\n    Form.useSnapshot()\n\n  return <>MyComponent</>\n}\n\nrender(\n  <Form.Handler>\n    <MyComponent />\n  </Form.Handler>,\n)\n"})}),"\n",(0,t.jsx)(n.p,{children:"The hook returns an object with the following properties:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"createSnapshot"})," will store the current data as a new snapshot with the given id."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"applySnapshot"})," will revert the data to the snapshot with the given id (required)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"revertSnapshot"})," will revert the data to the snapshot with the given id (required). A reverted snapshot gets deleted from the memory."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{children:"Partial data snapshots"}),"\n",(0,t.jsxs)(n.p,{children:["In order to create and revert a snapshot for a specific part of the data context, you can use the ",(0,t.jsx)(n.code,{children:"Form.Snapshot"})," component:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { Form, Field } from \'@dnb/eufemia/extensions/forms\'\n\nfunction MyForm() {\n  return (\n    <Form.Handler>\n      <Form.Snapshot name="my-snapshot-slice-name">\n        <Field.String path="/foo" label="Will be reverted" />\n        <Field.String path="/bar" label="Me too" />\n      </Form.Snapshot>\n\n      <Field.String path="/baz" label="Will stay as before" />\n    </Form.Handler>\n  )\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["When calling the ",(0,t.jsx)(n.code,{children:"createSnapshot"})," or ",(0,t.jsx)(n.code,{children:"revertSnapshot"})," functions, you can pass in your snapshot ",(0,t.jsx)(n.code,{children:"name"})," (my-snapshot-slice-name) as the second parameter. This will make sure that the snapshot is only applied to the given part of the form data."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"createSnapshot('my-snapshot-1', 'my-snapshot-slice-name')\nrevertSnapshot('my-snapshot-1', 'my-snapshot-slice-name')\n"})}),"\n",(0,t.jsx)(n.p,{children:"You can check out examples in the demo section."}),"\n",(0,t.jsxs)(n.h2,{children:["Usage of the ",(0,t.jsx)(n.code,{children:"Form.useSnapshot"})," hook"]}),"\n",(0,t.jsxs)(n.p,{children:["You can use the ",(0,t.jsx)(n.code,{children:"Form.useSnapshot"})," hook with or without an ",(0,t.jsx)(n.code,{children:"id"})," (string, function, object or React Context as the reference) property, which is optional and can be used to link the data to a specific ",(0,t.jsx)(n.a,{href:"/uilib/extensions/forms/Form/Handler/",children:"Form.Handler"})," component."]}),"\n",(0,t.jsxs)(n.h3,{children:["Without an ",(0,t.jsx)(n.code,{children:"id"})," property"]}),"\n",(0,t.jsxs)(n.p,{children:['Here "Component" is rendered inside the ',(0,t.jsx)(n.code,{children:"Form.Handler"})," component and does not need an ",(0,t.jsx)(n.code,{children:"id"})," property to access the snapshot:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\n\nfunction MyForm() {\n  return (\n    <Form.Handler>\n      <Component />\n    </Form.Handler>\n  )\n}\n\nfunction Component() {\n  const { createSnapshot, revertSnapshot } = Form.useSnapshot()\n}\n"})}),"\n",(0,t.jsxs)(n.h3,{children:["With an ",(0,t.jsx)(n.code,{children:"id"})," property"]}),"\n",(0,t.jsxs)(n.p,{children:['While in this example, "Component" is outside the ',(0,t.jsx)(n.code,{children:"Form.Handler"})," context, but linked together via the ",(0,t.jsx)(n.code,{children:"id"})," (string, function, object or React Context as the reference) property:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\n\nconst myFormId = 'unique-id' // or a function, object or React Context reference\n\nfunction MyForm() {\n  return (\n    <>\n      <Form.Handler id={myFormId}>...</Form.Handler>\n      <Component />\n    </>\n  )\n}\n\nfunction Component() {\n  const { createSnapshot, revertSnapshot } = Form.useSnapshot(myFormId)\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"This is beneficial when you need to utilize the form data in other places within your application."})]})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(s,e)})):s(e)}}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-form-use-snapshot-info-mdx-1bcd8382a6822d1caf45.js.map