"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[77972],{53775:function(n,e,s){s.r(e);var r=s(31085),t=s(71184);function o(n){const e=Object.assign({h2:"h2",pre:"pre",code:"code",p:"p",ul:"ul",li:"li",h3:"h3",a:"a"},(0,t.R)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{children:"Import"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\n// Use Form.useTranslation\n"})}),"\n",(0,r.jsx)(e.h2,{children:"Description"}),"\n",(0,r.jsxs)(e.p,{children:["The ",(0,r.jsx)(e.code,{children:"Form.useTranslation"})," is a hook that returns the translations for the current locale."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\n\nfunction MyComponent() {\n  const { Field } = Form.useTranslation()\n  const { errorRequired } = Field\n\n  return <>MyComponent</>\n}\n\nrender(\n  <Form.Handler locale=\"en-GB\">\n    <MyComponent />\n  </Form.Handler>,\n)\n"})}),"\n",(0,r.jsx)(e.h2,{children:"Additional utilities"}),"\n",(0,r.jsx)(e.p,{children:"In addition to all internal translations, you also get;"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"formatMessage"})," - a function you can use to get a specific translation based on a key (flattened object with dot-notation)."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"renderMessage"})," - a function you can use to render a string with line-breaks. It converts ",(0,r.jsx)(e.code,{children:"{br}"})," to a JSX line-break."]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\n\nfunction MyComponent() {\n  const { formatMessage, renderMessage } = Form.useTranslation()\n  const errorRequired = formatMessage('Field.errorRequired')\n\n  return <>MyComponent</>\n}\n\nrender(\n  <Form.Handler locale=\"en-GB\">\n    <MyComponent />\n  </Form.Handler>,\n)\n"})}),"\n",(0,r.jsx)(e.h2,{children:"Custom translations"}),"\n",(0,r.jsx)(e.p,{children:"You can also extend the translations with your own custom translations."}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\n\nconst myTranslations = {\n  'nb-NO': { myString: 'Min egendefinerte streng' },\n  'en-GB': {\n    // Cascaded translations\n    Nested: {\n      stringWithArgs: 'My custom string with an argument: {myKey}',\n    },\n\n    // Flat translations\n    'Nested.stringWithLinebreaks':\n      'My custom string with a {br}line-break',\n  },\n}\n\nconst MyComponent = () => {\n  const t = Form.useTranslation<typeof myTranslations>()\n\n  // Internal translations\n  const existingString = t.Field.errorRequired\n\n  // Your translations\n  const myString = t.myString\n\n  // Use the \"formatMessage\" function to handle strings with arguments\n  const myStringWithArgsA = t.formatMessage(t.Nested.stringWithArgs, {\n    myKey: 'myValue',\n  })\n  // You can also get the string with a key (dot-notation)\n  const myStringWithArgsB = t.formatMessage('Nested.stringWithArgs', {\n    myKey: 'myValue',\n  })\n\n  // Render line-breaks\n  const jsxOutput = t.renderMessage(t.Nested.stringWithLinebreaks)\n\n  return <>MyComponent</>\n}\n\nrender(\n  <Form.Handler translations={myTranslations}>\n    <MyComponent />\n  </Form.Handler>,\n)\n"})}),"\n",(0,r.jsxs)(e.h2,{children:["Using the ",(0,r.jsx)(e.code,{children:"<Translation />"})]}),"\n",(0,r.jsxs)(e.p,{children:["Instead of using the hook, you can also, use the ",(0,r.jsx)(e.code,{children:"<Translation />"})," component to consume your translations:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\nimport { Translation, TranslationProps } from '@dnb/eufemia/shared'\n\nconst myTranslations = {\n  'nb-NO': { 'custom.string': 'Min egendefinerte streng' },\n  'en-GB': { 'custom.string': 'My custom string' },\n}\ntype TranslationType = (typeof myTranslations)[keyof typeof myTranslations]\n\nrender(\n  <Form.Handler translations={myTranslations}>\n    <Form.MainHeading>\n      <Translation<TranslationType> id=\"custom.string\" />\n    </Form.MainHeading>\n\n    <Form.SubHeading>\n      <Translation<TranslationType> id={(t) => t.custom.string} />\n    </Form.SubHeading>\n  </Form.Handler>,\n)\n"})}),"\n",(0,r.jsxs)(e.h3,{children:["Formatting markers inside ",(0,r.jsx)(e.code,{children:"<Translation />"})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"<Translation />"})," automatically applies simple formatting markers in strings (using the shared ",(0,r.jsx)(e.code,{children:"renderWithFormatting"}),"):"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"{br}"})," inserts a line break"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"**bold**"}),", ",(0,r.jsx)(e.code,{children:"_italic_"}),", ",(0,r.jsx)(e.code,{children:"`code`"})]}),"\n",(0,r.jsxs)(e.li,{children:["links ",(0,r.jsx)(e.code,{children:"[label](https://…)"})," and bare URLs ",(0,r.jsx)(e.code,{children:"https://…"})]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { Translation } from '@dnb/eufemia/shared'\n\nconst translations = {\n  'en-GB': {\n    info: 'Use **bold** and _italic_ with a {br}line-break.',\n  },\n}\n\nrender(\n  <Form.Handler translations={translations} locale=\"en-GB\">\n    <p>\n      <Translation id={(t: any) => t.info} />\n    </p>\n  </Form.Handler>,\n)\n"})}),"\n",(0,r.jsx)(e.h2,{children:"Use the shared Provider to customize translations"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { Form, Field } from '@dnb/eufemia/extensions/forms'\nimport { Provider, Translation } from '@dnb/eufemia/shared'\n\nconst myTranslations = {\n  'nb-NO': {\n    'PhoneNumber.label': 'Egendefinert',\n    'custom.string': 'Min egendefinerte streng',\n  },\n  'en-GB': {\n    'PhoneNumber.label': 'Custom',\n    'custom.string': 'My custom string',\n  },\n}\ntype TranslationType = (typeof myTranslations)[keyof typeof myTranslations]\n\nrender(\n  <Provider translations={myTranslations}>\n    <Heading>\n      <Translation<TranslationType> id={(t) => t.custom.string} />\n    </Heading>\n\n    <Form.Handler>\n      <Field.PhoneNumber />\n    </Form.Handler>\n  </Provider>,\n)\n"})}),"\n",(0,r.jsx)(e.h2,{children:"Fallback for missing or partial translations"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"Form.useTranslation"})," will output missing keys when:"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Empty explicit locale: returns pointer strings (e.g. ",(0,r.jsx)(e.code,{children:"MyNamespace.label"}),") derived from ",(0,r.jsx)(e.code,{children:'fallbackLocale="nb-NO"'}),"."]}),"\n",(0,r.jsx)(e.li,{children:"Partial explicit locale: merges missing keys as pointer strings, preserving existing ones."}),"\n",(0,r.jsx)(e.li,{children:"Non-existent current locale (no explicit entry in your translations): the hook preserves defaults (no pointers)."}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\n\nconst translations = {\n  'sv-SE': {}, // empty explicit current-locale\n  'en-GB': { MyNamespace: { label: 'English label' } },\n}\n\ntype T = (typeof translations)['en-GB']\n\nfunction MyField() {\n  const t = Form.useTranslation<T>({\n    fallbackLocale: 'en-GB', // default: 'nb-NO'\n  })\n  return <>{t.MyNamespace.label /* 'MyNamespace.label' */}</>\n}\n\nrender(\n  <Form.Handler locale=\"sv-SE\" translations={translations}>\n    <MyField />\n  </Form.Handler>,\n)\n"})}),"\n",(0,r.jsx)(e.h3,{children:"Formatted messages"}),"\n",(0,r.jsxs)(e.p,{children:["For richer inline formatting inside form translations, use the ",(0,r.jsx)(e.code,{children:"renderWithFormatting"})," helper from ",(0,r.jsx)(e.code,{children:"@dnb/eufemia/shared"}),"."]}),"\n",(0,r.jsxs)(e.p,{children:["More info about the supported formatting in the ",(0,r.jsx)(e.a,{href:"/uilib/usage/customisation/localization/#formatted-messages",children:"renderWithFormatting documentation"}),"."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { Form } from '@dnb/eufemia/extensions/forms'\nimport { renderWithFormatting } from '@dnb/eufemia/shared'\n\nconst translations = {\n  'en-GB': {\n    'Field.info': 'Fill out the **form** and _submit_ {br}when ready.',\n  },\n}\n\ntype T = (typeof translations)['en-GB']\n\nfunction MyComponent() {\n  const t = Form.useTranslation<T>()\n\n  return <>{renderWithFormatting(t.Field.info)}</>\n}\n\nfunction MyApp() {\n  return (\n    <Form.Handler translations={translations} locale=\"en-GB\">\n      <MyComponent />\n    </Form.Handler>\n  )\n}\n"})})]})}e.default=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,t.R)(),n.components);return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(o,n)})):o(n)}}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-form-use-translation-info-mdx-b238ef752a521b8f3ee3.js.map