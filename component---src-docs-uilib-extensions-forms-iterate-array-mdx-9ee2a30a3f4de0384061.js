"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[28246,47685,80310],{44697:function(e,n,t){t.r(n);var i=t(31085),r=t(71184),s=t(92874),a=t(92628);function o(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.default,{}),"\n",(0,i.jsx)(a.default,{})]})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.R)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(o,e)})):o()}},92628:function(e,n,t){t.r(n);var i=t(31085),r=t(71184),s=t(2897);function a(e){const n=Object.assign({h2:"h2",h3:"h3",p:"p",code:"code",a:"a",ul:"ul",li:"li",h4:"h4",pre:"pre"},(0,r.R)(),e.components);return s||o("Examples",!1),s.AnimatedContainer||o("Examples.AnimatedContainer",!0),s.ArrayFromFormHandler||o("Examples.ArrayFromFormHandler",!0),s.DynamicPathValue||o("Examples.DynamicPathValue",!0),s.FilledViewAndEditContainer||o("Examples.FilledViewAndEditContainer",!0),s.InitialOpenWithToolbarVariant||o("Examples.InitialOpenWithToolbarVariant",!0),s.InitiallyOpen||o("Examples.InitiallyOpen",!0),s.MinItems||o("Examples.MinItems",!0),s.NestedIterate||o("Examples.NestedIterate",!0),s.NestedIterateWithPushContainer||o("Examples.NestedIterateWithPushContainer",!0),s.ObjectItems||o("Examples.ObjectItems",!0),s.PrimitiveItemsFields||o("Examples.PrimitiveItemsFields",!0),s.PrimitiveItemsValues||o("Examples.PrimitiveItemsValues",!0),s.RenderPropsObjectItems||o("Examples.RenderPropsObjectItems",!0),s.RenderPropsPrimitiveItems||o("Examples.RenderPropsPrimitiveItems",!0),s.RequiredWithPushButton||o("Examples.RequiredWithPushButton",!0),s.RequiredWithPushContainer||o("Examples.RequiredWithPushContainer",!0),s.ValueComposition||o("Examples.ValueComposition",!0),s.ViewAndEditContainer||o("Examples.ViewAndEditContainer",!0),s.ViewAndEditContainerWithLineDivider||o("Examples.ViewAndEditContainerWithLineDivider",!0),s.WithArrayValidator||o("Examples.WithArrayValidator",!0),s.WithTable||o("Examples.WithTable",!0),s.WithVisibility||o("Examples.WithVisibility",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{children:"Demos"}),"\n",(0,i.jsx)(n.h3,{children:"Primitive items as fields"}),"\n",(0,i.jsx)(s.PrimitiveItemsFields,{}),"\n",(0,i.jsx)(n.h3,{children:"Primitive items as values"}),"\n",(0,i.jsx)(s.PrimitiveItemsValues,{}),"\n",(0,i.jsx)(n.h3,{children:"Object items"}),"\n",(0,i.jsx)(s.ObjectItems,{}),"\n",(0,i.jsx)(n.h3,{children:"Render properties with primitive items"}),"\n",(0,i.jsx)(n.p,{children:"You can provide the child as a function that receives the value of the item as the first argument, and the index of which item you are on as the second."}),"\n",(0,i.jsx)(s.RenderPropsPrimitiveItems,{}),"\n",(0,i.jsx)(n.h3,{children:"Render properties with object items"}),"\n",(0,i.jsx)(s.RenderPropsObjectItems,{}),"\n",(0,i.jsx)(n.h3,{children:"Conditions using Visibility"}),"\n",(0,i.jsx)(n.p,{children:"The second field will be visible when the first has a value."}),"\n",(0,i.jsx)(s.WithVisibility,{}),"\n",(0,i.jsx)(n.h3,{children:"Dynamic path value"}),"\n",(0,i.jsx)(s.DynamicPathValue,{}),"\n",(0,i.jsx)(n.h3,{children:"Animated container"}),"\n",(0,i.jsxs)(n.p,{children:["With an optional ",(0,i.jsx)(n.code,{children:"title"})," and ",(0,i.jsx)(n.a,{href:"/uilib/extensions/forms/Iterate/Toolbar/",children:"Iterate.Toolbar"}),"."]}),"\n",(0,i.jsx)(s.AnimatedContainer,{}),"\n",(0,i.jsx)(n.h3,{children:"Toggle between a view and edit container"}),"\n",(0,i.jsx)(s.ViewAndEditContainer,{}),"\n",(0,i.jsx)(n.h3,{children:"Customize the view and edit containers"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Using ",(0,i.jsx)(n.code,{children:'variant="filled"'})," will render the ",(0,i.jsx)(n.a,{href:"/uilib/extensions/forms/Iterate/ViewContainer",children:"Iterate.ViewContainer"})," and ",(0,i.jsx)(n.a,{href:"/uilib/extensions/forms/Iterate/EditContainer",children:"Iterate.EditContainer"})," with a background color."]}),"\n",(0,i.jsxs)(n.li,{children:["Using ",(0,i.jsx)(n.code,{children:'toolbarVariant="custom"'})," will render the ",(0,i.jsx)(n.a,{href:"/uilib/extensions/forms/Iterate/Toolbar/",children:"Iterate.Toolbar"})," without any spacing so you can customize it to your needs."]}),"\n"]}),"\n",(0,i.jsx)(s.FilledViewAndEditContainer,{}),"\n",(0,i.jsx)(n.h3,{children:"Using a line divider"}),"\n",(0,i.jsx)(s.ViewAndEditContainerWithLineDivider,{}),"\n",(0,i.jsx)(n.h3,{children:"Initially open"}),"\n",(0,i.jsx)(s.InitiallyOpen,{}),"\n",(0,i.jsx)(n.h3,{children:"Required"}),"\n",(0,i.jsxs)(n.p,{children:["With a ",(0,i.jsx)(n.a,{href:"/uilib/extensions/forms/Iterate/PushContainer/",children:"Iterate.PushContainer"})," to add a new item."]}),"\n",(0,i.jsxs)(n.p,{children:["The new item gets inserted at the beginning of the array by using the ",(0,i.jsx)(n.code,{children:"reverse"})," property."]}),"\n",(0,i.jsx)(s.RequiredWithPushContainer,{}),"\n",(0,i.jsxs)(n.p,{children:["With a ",(0,i.jsx)(n.a,{href:"/uilib/extensions/forms/Iterate/PushButton/",children:"Iterate.PushButton"})," to add a new item."]}),"\n",(0,i.jsx)(s.RequiredWithPushButton,{}),"\n",(0,i.jsx)(n.h3,{children:"Minium one item"}),"\n",(0,i.jsx)(n.p,{children:"There are several ways to achieve this:"}),"\n",(0,i.jsx)(n.h4,{children:"By using a schema"}),"\n",(0,i.jsxs)(n.p,{children:["This example uses the ",(0,i.jsx)(n.code,{children:"minItems"})," in a schema with a custom error message."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"const schema = {\n  type: 'object',\n  properties: {\n    myList: {\n      type: 'array',\n      minItems: 1,\n    },\n  },\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"It will show the error message when the array is empty."}),"\n",(0,i.jsx)(s.MinItems,{}),"\n",(0,i.jsxs)(n.h4,{children:["By using the ",(0,i.jsx)(n.code,{children:"toolbarVariant"})," property"]}),"\n",(0,i.jsxs)(n.p,{children:["This example uses the container's ",(0,i.jsx)(n.code,{children:"toolbarVariant"})," property with the value ",(0,i.jsx)(n.code,{children:"minimumOneItem"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["It hides the toolbar in the ",(0,i.jsx)(n.code,{children:"EditContainer"})," when there is only one item in the array. And it hides the remove button in the ",(0,i.jsx)(n.code,{children:"ViewContainer"})," when there is only one item in the array."]}),"\n",(0,i.jsx)(s.InitialOpenWithToolbarVariant,{}),"\n",(0,i.jsx)(n.h3,{children:"With DataContext and add/remove buttons"}),"\n",(0,i.jsx)(s.ArrayFromFormHandler,{}),"\n",(0,i.jsx)(n.h3,{children:"Static generated in a Table"}),"\n",(0,i.jsx)(s.WithTable,{}),"\n",(0,i.jsx)(n.h3,{children:"Value composition"}),"\n",(0,i.jsx)(s.ValueComposition,{}),"\n",(0,i.jsx)(n.h3,{children:"Array validator"}),"\n",(0,i.jsx)(n.p,{children:"You can also add a validator to ensure that the array contains at least one item:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"const validator = (arrayValue) => {\n  if (!(arrayValue?.length > 0)) {\n    return new Error('You need at least one item')\n  }\n}\n"})}),"\n",(0,i.jsx)(s.WithArrayValidator,{}),"\n",(0,i.jsx)(n.h3,{children:"Nested Iterate"}),"\n",(0,i.jsx)(s.NestedIterate,{}),"\n",(0,i.jsx)(n.h3,{children:"Nested Iterate with PushContainer"}),"\n",(0,i.jsxs)(n.p,{children:["This demo uses the ",(0,i.jsx)(n.a,{href:"/uilib/extensions/forms/Iterate/PushContainer/",children:"Iterate.PushContainer"})," component to add new items to an nested array by using the ",(0,i.jsx)(n.code,{children:"itemPath"})," property."]}),"\n",(0,i.jsx)(s.NestedIterateWithPushContainer,{})]})}function o(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.R)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(a,e)})):a(e)}},92874:function(e,n,t){t.r(n);var i=t(31085),r=t(71184);function s(e){const n=Object.assign({h2:"h2",pre:"pre",code:"code",p:"p",h3:"h3",a:"a",ul:"ul",li:"li"},(0,r.R)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{children:"Import"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { Iterate } from '@dnb/eufemia/extensions/forms'\nrender(<Iterate.Array />)\n"})}),"\n",(0,i.jsx)(n.h2,{children:"Description"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Iterate.Array"})," works in many ways similar to field components. It has a ",(0,i.jsx)(n.code,{children:"value"})," property that can receive an array, or you can give it a ",(0,i.jsx)(n.code,{children:"path"})," if you want it to retrieve an array from a surrounding ",(0,i.jsx)(n.code,{children:"DataContext"}),". All child components of ",(0,i.jsx)(n.code,{children:"Iterate.Array"})," are rendered once per item the array value consists of."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { Iterate, Field } from '@dnb/eufemia/extensions/forms'\n\nrender(\n  <Iterate.Array\n    label=\"Array label\"\n    value={['Iron Man', 'Captain America', 'The Hulk']}\n  >\n    <Field.String itemPath=\"/\" />\n  </Iterate.Array>,\n)\n"})}),"\n",(0,i.jsxs)(n.h2,{children:["About ",(0,i.jsx)(n.code,{children:"itemPath"})," and ",(0,i.jsx)(n.code,{children:"path"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"itemPath"})," points to the root of each iterated item, while ",(0,i.jsx)(n.code,{children:"path"})," points to the root of the data source:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { Iterate, Field, Form } from '@dnb/eufemia/extensions/forms'\n\nrender(\n  <Form.Handler\n    defaultData={{\n      listOfHeroes: [\n        { name: 'Iron Man' },\n        { name: 'Captain America' },\n        { name: 'The Hulk' },\n      ],\n    }}\n    onChange={console.log}\n  >\n    <Iterate.Array path=\"/listOfHeroes\">\n      <Field.Name.Last itemPath=\"/name\" />\n    </Iterate.Array>\n  </Form.Handler>,\n)\n"})}),"\n",(0,i.jsx)(n.h2,{children:"Individual values and dynamic paths"}),"\n",(0,i.jsxs)(n.p,{children:["Since ",(0,i.jsx)(n.code,{children:"Iterate.Array"})," renders its children once per item, the field components inside must receive values based on the different items in the array. This can be done in two ways:"]}),"\n",(0,i.jsx)(n.h3,{children:"1. itemPath"}),"\n",(0,i.jsxs)(n.p,{children:["If field components inside ",(0,i.jsx)(n.code,{children:"Iterate.Array"})," are given an ",(0,i.jsx)(n.code,{children:"itemPath"})," property, this will look for values based on the array item being the root of the structure, even if the array often comes from a surrounding data set. This means you do not need to think about which index the field should point to, because it is handled by ",(0,i.jsx)(n.code,{children:"Iterate.Array"})," internally. You can treat the individual item as its own structure."]}),"\n",(0,i.jsx)(n.h3,{children:"2. Function callback as children (render property)"}),"\n",(0,i.jsxs)(n.p,{children:["If you want to provide values to individual field components directly instead of pointing to them with paths, you can give ",(0,i.jsx)(n.code,{children:"Iterate.Array"})," a render property. It works a bit like an array map call. The render function provides the value of the item as the first argument, the index of which item you are on as the second, and the internal array as the third."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'render(\n  <Iterate.Array path="/listOfHeroes">\n    {(itemValue, itemIndex, internalArray) => {\n      return <Field.Name.Last itemPath="/name" />\n    }}\n  </Iterate.Array>,\n)\n'})}),"\n",(0,i.jsxs)(n.p,{children:["You can also get the index by using the ",(0,i.jsx)(n.code,{children:"useItem"})," hook:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'const MyItem = () => {\n  const { index } = Iterate.useItem()\n\n  return <Field.Name.Last itemPath="/name" />\n}\n\nrender(\n  <Iterate.Array path="/listOfHeroes">\n    <MyItem />\n  </Iterate.Array>,\n)\n'})}),"\n",(0,i.jsx)(n.h2,{children:"The item number in labels"}),"\n",(0,i.jsxs)(n.p,{children:["You can use the ",(0,i.jsx)(n.code,{children:"{itemNo}"})," variable in the label to display the current item number. This is useful when you have a list of items and you want to display the item number in the label."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { Iterate, Field } from '@dnb/eufemia/extensions/forms'\n\nrender(\n  <Iterate.Array value={['foo', 'bar']}>\n    <Field.String itemPath=\"/\" label=\"Item no. {itemNo}\" />\n  </Iterate.Array>,\n)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"/uilib/extensions/forms/Iterate/ViewContainer/",children:"Iterate.ViewContainer"})," and the ",(0,i.jsx)(n.a,{href:"/uilib/extensions/forms/Iterate/EditContainer/",children:"Iterate.EditContainer"})," also support ",(0,i.jsx)(n.code,{children:"{itemNo}"})," in the ",(0,i.jsx)(n.code,{children:"title"})," property to display the current item number."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { Iterate, Field } from '@dnb/eufemia/extensions/forms'\n\nrender(\n  <Iterate.Array value={['foo', 'bar']}>\n    <Iterate.ViewContainer title=\"Item no. {itemNo}\">\n      ...\n    </Iterate.ViewContainer>\n  </Iterate.Array>,\n)\n"})}),"\n",(0,i.jsx)(n.h3,{children:"Initial container mode"}),"\n",(0,i.jsxs)(n.p,{children:["This section describes the behavior of the ",(0,i.jsx)(n.code,{children:"EditContainer"})," and the ",(0,i.jsx)(n.code,{children:"ViewContainer"})," components."]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the container mode is set to ",(0,i.jsx)(n.code,{children:"auto"}),". This means that the container will open (switch to ",(0,i.jsx)(n.code,{children:"edit"})," mode) when there is an error in the container or the value is falsy (empty string, null, undefined, etc.)."]}),"\n",(0,i.jsxs)(n.p,{children:["When a new item is added via the ",(0,i.jsx)(n.a,{href:"/uilib/extensions/forms/Iterate/PushButton/",children:"Iterate.PushButton"})," component, the item before it will change to ",(0,i.jsx)(n.code,{children:"view"})," mode, if it had no validation errors."]}),"\n",(0,i.jsx)(n.h2,{children:"Filter data"}),"\n",(0,i.jsx)(n.p,{children:"You can filter data by paths specific or all paths."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/myList/0"})," will filter out the first item of the list, including ",(0,i.jsx)(n.code,{children:"foo"})," and ",(0,i.jsx)(n.code,{children:"bar"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/myList/1/foo"})," will filter out ",(0,i.jsx)(n.code,{children:"foo"})," inside the second item of the list."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/myList/*/foo"})," will filter out all ",(0,i.jsx)(n.code,{children:"foo"})," object keys from all items of the list."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/myList/*/subList/*/foo"})," does support multi wildcard paths."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In the example below, the data given in ",(0,i.jsx)(n.code,{children:"onSubmit"}),' will still have "foo2" and "bar2" of the list.']}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { Iterate, Form, Field } from '@dnb/eufemia/extensions/forms'\n\nconst myFilter = {\n  '/myList/0': false,\n}\n\nrender(\n  <Form.Handler\n    data={{\n      myList: [\n        { foo: 'foo1', bar: 'bar1' },\n        { foo: 'foo2', bar: 'bar2' },\n      ],\n    }}\n    onSubmit={(data, { filterData }) => {\n      console.log('onSubmit', filterData(myFilter))\n    }}\n  >\n    <Iterate.Array path=\"/myList\">\n      <Field.String itemPath=\"/foo\" label=\"Foo no. {itemNo}\" />\n      <Field.String itemPath=\"/bar\" label=\"Bar no. {itemNo}\" />\n    </Iterate.Array>\n  </Form.Handler>,\n)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Instead of ",(0,i.jsx)(n.code,{children:"false"})," you can provide a function that returns ",(0,i.jsx)(n.code,{children:"false"})," based on your logic."]})]})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.R)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(s,e)})):s(e)}}}]);
//# sourceMappingURL=component---src-docs-uilib-extensions-forms-iterate-array-mdx-9ee2a30a3f4de0384061.js.map