"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[42505],{20005:function(e,n,s){s.r(n);var i=s(31085),t=s(71184),a=s(24456);function o(e){const n=Object.assign({h1:"h1",p:"p",a:"a",em:"em",strong:"strong",pre:"pre",code:"code",h2:"h2",ul:"ul",li:"li",ol:"ol",h3:"h3"},(0,t.R)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{children:"Focus Management"}),"\n",(0,i.jsx)(n.p,{children:"Focus is an important part of keyboard-only and screen reader navigation."}),"\n",(0,i.jsxs)(n.p,{children:["Make sure you set the focus properly on page or context changes. Consider using Reach Router ",(0,i.jsx)(n.a,{href:"https://reach.tech/router/accessibility",children:"because of the built-in accessibility feature"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["From the technical side, we have to assign an ",(0,i.jsx)(n.em,{children:"invisible"})," focus, so the user can continue the navigation inside this new content."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example setup:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<body>\n  <nav>\x3c!-- focusable navigation --\x3e</nav>\n  <main>\n    \x3c!-- more markup with focusable HTMLElements --\x3e\n    <h1 class="dnb-h--xx-large dnb-no-focus" tabindex="-1">Main Title</h1>\n    <a href="/path">I\'m now focusable on next tab</a>\n  </main>\n</body>\n'})}),"\n",(0,i.jsx)(n.h2,{children:"Managing focus state"}),"\n",(0,i.jsx)(n.p,{children:"Make sure you ..."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["set the focus on the content (e.g. ",(0,i.jsx)(n.code,{children:'<h1 class="dnb-h--xx-large">'}),") after a navigation action, initiated by the user."]}),"\n",(0,i.jsxs)(n.li,{children:["set the focus into a ",(0,i.jsx)(n.em,{children:"menu or navigation"})," area, if it has an opening mechanism."]}),"\n",(0,i.jsx)(n.li,{children:"also set the focus back to the content, once the menu or navigation area gets closed."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["A more complex focus management is already built into the ",(0,i.jsx)(n.a,{href:"/uilib/components/modal",children:"Modal Component"}),". The Modal actually disables focus possibility of the content behind the Modal, so the user only can navigate inside the modal."]}),"\n",(0,i.jsx)(n.h2,{children:"Helper tool"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"@dnb/eufemia"})," has a built-in helper, to manage basic focus handling.\nThis helper also handles both the ",(0,i.jsx)(n.code,{children:'tabindex="-1"'})," and the ",(0,i.jsx)(n.code,{children:'class="dnb-no-focus"'})," situation. So what does it do?"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["You define on beforehand what should get focus with a css selector (",(0,i.jsx)(n.em,{children:"class or id"}),"). This (",(0,i.jsx)(n.strong,{children:"setPageFocusElement"}),") can be set on the very first application start."]}),"\n",(0,i.jsxs)(n.li,{children:["Later on, once the focus should be set, you call a second function ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"applyPageFocus"})}),". This function will use the beforehand defined selector and execute ",(0,i.jsx)(n.code,{children:"domNode.focus()"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{children:"Focus helper"}),"\n",(0,i.jsxs)(n.p,{children:["Set focus on a HTML Element, that exists inside the DOM. It can be any HTML Element, no matter if it's an interactive element or not. No interactive elements will be handled by changing the ",(0,i.jsx)(n.code,{children:"tabindex"})," to 0 alongside a CSS class ",(0,i.jsx)(n.code,{children:"dnb-no-focus"}),", so no blue focus border is visible."]}),"\n",(0,i.jsx)(n.p,{children:"Simple example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { applyPageFocus } from '@dnb/eufemia/shared/helpers'\n\napplyPageFocus('.my-selector')\napplyPageFocus('#my-id')\n"})}),"\n",(0,i.jsx)(n.p,{children:"Asynchronous example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import {\n  setPageFocusElement,\n  applyPageFocus,\n} from '@dnb/eufemia/shared/helpers'\n\n// 1. Somewhere in your app, set either an element, or a CSS Selector\nsetPageFocusElement('.css-selector', 'MyCustomName')\n\n// 2. Later you can call this action, once it's time to activate the new focus state\napplyPageFocus('MyCustomName', (element) => {\n  /* optional callback */\n})\n"})}),"\n",(0,i.jsx)(n.h3,{children:"Skip Link"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"@dnb/eufemia"})," also has a small setup for a ",(0,i.jsx)(n.a,{href:"https://www.w3.org/TR/WCAG20-TECHS/G1.html",children:"skip link"})]}),"\n",(0,i.jsx)(n.p,{children:"Our solution is CSS only and should work for all kinds of application setups. Demo example below:"}),"\n",(0,i.jsx)(a.A,{}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Place an Anchor with a HTML class ",(0,i.jsx)(n.code,{children:".dnb-skip-link"})," like below, as the very ",(0,i.jsx)(n.strong,{children:"first HTML element"})," tag:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<a class="dnb-skip-link" href="#content-id">Skip to content</a>\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["Define an unique element ",(0,i.jsx)(n.strong,{children:"id"}),", like ",(0,i.jsx)(n.code,{children:'id="content-id"'}),", on your content wrapper:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<body>\n  <a class="dnb-skip-link" href="#content-id">Skip to content</a>\n  <header>\n    <nav>\n      \x3c!-- Nav links or content to skip --\x3e\n    </nav>\n  </header>\n  <main id="content-id">\n    \x3c!-- Content goes here --\x3e\n  </main>\n</body>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["That's it. The styles are included in both the ",(0,i.jsx)(n.strong,{children:"dnb-ui-basis"})," and ",(0,i.jsx)(n.strong,{children:"dnb-ui-core"})," styling packages."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"NB:"})," If you link the anchor to only a ",(0,i.jsx)(n.code,{children:'<div id="content-id">'}),", then you have to make sure you also add a tabindex."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'...\n<div id="content-id" tabindex="-1" class="dnb-no-focus">\n  \x3c!-- Content goes here --\x3e\n</div>\n...\n'})})]})}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.R)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(o,e)})):o(e)}},24456:function(e,n,s){s.d(n,{A:function(){return o}});var i=s(42483),t=s(31085);const a=(0,i.A)("div",{target:"ejsbrbf0"})({name:"z3jrym",styles:"margin:3rem 0;a.dnb-skip-link--active{position:relative;top:0;left:0;z-index:1;&::after{content:none;}}"});function o(){return(0,t.jsx)(a,{children:(0,t.jsx)("a",{className:"dnb-skip-link--active",onClick:e=>{const n=document.querySelector("a.dnb-skip-link");try{n.focus(),e.preventDefault()}catch(e){console.log(e)}},href:"#dnb-app-content",children:"Show Skip-Link"})})}}}]);
//# sourceMappingURL=component---src-docs-uilib-usage-accessibility-focus-mdx-58f681eeee24b0a45d04.js.map