"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[7363],{59568:function(e,n,t){t.d(n,{A:function(){return L}});var i=t(14041),o=t(60906),d=t.n(o),r=t(43169),a=t(21669),c=t(78296),s=t(51177);var l=i.createContext({expandBehavior:"single"});const u={variant:"outlined",icon_size:"medium"};var p=t(31085);const _=e=>{const n=(0,i.useContext)(s.Ay),t=e.id||(0,r.vL)(),o={_id:t,props:e,context:n,onChangeHandler:_};function _(e){(0,r.OW)(o,"on_change",{id:e.id,expanded:e.expanded,event:e})}const h=(0,a.ym)(e,u,n.Accordion,n.getTranslation(e).Accordion),{expanded:f,expanded_id:x,prerender:v,prevent_rerender:g,single_container:m,contentRef:b,allow_close_all:y,remember_state:w,flush_remembered_state:C,disabled:A,group:j,onInit:S,className:I,id:N,children:k,collapseAllHandleRef:E,expandBehavior:O,...R}=h,z=(0,i.useRef)([]);(0,i.useEffect)((()=>{E&&(E.current=()=>{z.current.forEach((e=>e()))})}),[E]);const D=d()("dnb-accordion-group",(0,r.Hn)(m)&&"dnb-accordion-group--single-container",(0,c.CL)(h),I),H={...R};(0,r.CQ)(e,H),null!=h&&h.group||!(0,r.Hn)(e.single_container)||(h.group=(0,r.vL)());const L={...h,id:t,onChange:_,collapseAllHandleRef:E,collapseAccordionCallbacks:z,expandBehavior:O};return(0,p.jsx)(l.Provider,{value:L,children:(0,p.jsx)("div",{className:D,children:(0,p.jsx)("span",{id:t,className:"dnb-accordion-group__shell",role:"group",...H,children:(0,p.jsx)("span",{className:"dnb-accordion-group__children",children:k})})})})};_._supportsSpacingProps=!0;var h=_,f=t(41783);var x=i.createContext({}),v=t(3547);function g(e){let{children:n=null,...t}=e;return(0,p.jsx)("span",{className:d()("dnb-accordion__header__title",(0,c.CL)(t)),children:n})}function m(e){let{children:n=null,...t}=e;return n?(0,p.jsx)("span",{className:d()("dnb-accordion__header__description",(0,c.CL)(t)),children:n}):null}function b(e){let{children:n=null,...t}=e;return n?(0,p.jsx)("span",{className:d()("dnb-accordion__header__container",(0,c.CL)(t)),children:n}):null}function y(e){let{icon:n,expanded:t,size:i="medium",icon_position:o}=e;const r=n&&"object"==typeof n&&"expanded"in n&&void 0!==(null==n?void 0:n.expanded)?n[t?"expanded":"closed"]:n||"chevron-down";return(0,p.jsx)("span",{className:d()("dnb-accordion__header__icon",o&&`dnb-accordion__header__icon--${o}`),children:(0,p.jsx)(f.Ay,{size:i,icon:r,"aria-hidden":!0})})}const w={icon_size:"medium"},C=e=>{let{icon_size:n="medium",...t}=e;const o={icon_size:n,...t},{0:s,1:l}=(0,i.useState)(!1),{0:u,1:_}=(0,i.useState)(!1),h=(0,i.useContext)(x);function f(e){const{id:n,group:t}=h;if(C()){const i=!h.expanded;h.callOnChange({id:n,group:t,expanded:i,event:e}),_(!0)}}function C(){const{expanded:e,allow_close_all:n,group:t}=h;return!t||t&&!e||n}const A=(0,a.ym)(o,w,h),{id:j,left_component:S,expanded:I,title:N,description:k,element:E,heading:O,heading_level:R,icon:z,icon_size:D,disabled:H,skeleton:L,no_animation:$,variant:P}=A;let{icon_position:B}=A;const{children:Q,className:M,left_component:T,expanded:V,title:J,description:K,icon:W,icon_size:Y,disabled:F,...G}=o,U=[(0,p.jsx)(y,{icon:z,size:D,expanded:h.expanded,icon_position:B},"icon"),(0,p.jsx)(b,{children:S},"container"),(0,p.jsx)(g,{children:N||(Array.isArray(Q)?Q.filter((e=>!i.isValidElement(e))):Q)},"title"),(0,p.jsx)(m,{children:k},"description")];if(Array.isArray(Q)){const e=[];Q.forEach((n=>{if(i.isValidElement(n)){const t=U.find((e=>e.type===n.type));t&&e.push(t),U.push(n)}})),e.forEach((e=>{const n=U.findIndex((n=>n===e));n>-1&&U.splice(n,1)}))}const Z=[],q=[],X=(0,p.jsx)("span",{className:"dnb-accordion__header__wrapper",children:q},"wrapper");if(U.forEach((e=>{!i.isValidElement(e)||e.type!==g&&e.type!==m?Z.push(e):(q.push(e),-1===Z.findIndex((e=>e===X))&&Z.push(X))})),void 0===B){Z.findIndex((e=>e.type===y))>1&&(B="right"),S&&(B="right")}const ee={id:`${j}-header`,"aria-controls":`${j}-content`,"aria-expanded":h.expanded,role:"button",tabIndex:0,className:d()("dnb-accordion__header",P&&`dnb-accordion__header--${P}`,h.expanded&&"dnb-accordion__header--expanded",B&&`dnb-accordion__header--icon-${B}`,s&&u&&h.expanded&&"dnb-accordion__header--after-click",!C()&&"dnb-accordion__header--prevent-click",k&&"dnb-accordion__header--description",$&&"dnb-accordion__header--no-animation",(0,v.QK)("font",L,h),(0,c.CL)(G),M),disabled:H,...G};H||L?(ee.tabIndex=-1,ee.disabled=!0,ee["aria-disabled"]=!0):(ee.onClick=f,ee.onKeyDown=function(e){const n=e.key;"Enter"!==n&&" "!==n||(e.preventDefault(),f(e))},ee.onMouseOver=function(){l(!0)},ee.onMouseOut=function(){l(!1),_(!1)}),(0,v.Fn)(ee,L,h),(0,r.CQ)(o,ee);let ne="div";return!O||"true"!==String(O)&&"1"!==String(O)?O?(ee.role=null,ne=O):E&&(ee.role=null,ne=E):(ee.role="heading",ee["aria-level"]=R?Number(R):2),(0,p.jsx)(ne,{...ee,children:Z})};C.Container=b,C.Icon=y,C.Title=g,C.Description=m,C._supportsSpacingProps=!0;var A=C,j=t(24325),S=t(64034),I=t(79043),N=t(63109),k=t(94551);function E(e){const n=i.useContext(x),{id:t,expanded:o,prerender:a,prevent_rerender:s,single_container:l,disabled:u,no_animation:_,contentRef:h}=n,{className:f,children:v,instance:g,...m}=e;let b=i.useRef(null);const y=i.useRef(null);h&&(b=h);const w=()=>{const{single_container:e}=n;if(e){const e=b.current;if(e)try{e.style.height="";const n=(0,j.U)("dnb-accordion-group--single-container",e);_&&(n.style.transitionDuration="1ms");const t=(e.offsetHeight+e.offsetTop)/16;n.style.minHeight=`${t}rem`}catch(t){(0,S.R8)(t)}}};i.useEffect((()=>{o&&l&&w()}),[v,o,l]),i.useState((()=>{g&&Object.prototype.hasOwnProperty.call(g,"current")&&(g.current={setContainerHeight:w})}));const C=(0,N.A)({when:{max:"small"}}),A=(()=>{const t=(0,I.Zk)(e),{expanded:i,prerender:o,prevent_rerender:d,prevent_rerender_conditional:r}=n;let a=t;return"string"==typeof a&&(a=(0,p.jsx)("p",{className:"dnb-p",children:a})),d&&(i||o||(a=null),r&&y.current!==a&&(y.current=a),y.current?a=y.current:y.current=a),a})(),E={className:d()("dnb-accordion__content",f),...m},O=a||s,R={id:`${t}-content`,"aria-labelledby":`${t}-header`,className:d()("dnb-accordion__content__inner",(0,c.CL)(m))};o&&(R["aria-expanded"]=!0),o&&!u||(R.disabled=!0,R["aria-hidden"]=!0),(0,r.CQ)(e,E),(0,r.CQ)(null,R);const z=!_&&(!l||C);return(0,p.jsx)(k.A,{...E,open:o,animate:z,keepInDOM:O,innerRef:b,children:(0,p.jsx)("section",{...R,children:A})})}E._supportsSpacingProps=!0;let O=function(){function e(e){this._id=e,this._instances=[]}var n=e.prototype;return n.onChange=function(e){let{id:n}=e;this._instances.forEach((e=>{"single"===e.context.expandBehavior&&e._id!==n&&e.close()}))},n.addInstance=function(e){this._instances.push(e)},n.removeInstance=function(e){this._instances=this._instances.filter((n=>n!==e))},e}(),R=function(){function e(e){let{id:n,group:t}=e;return this.id=n,this.group=t,this}var n=e.prototype;return n.storeId=function(e){if(void 0===e&&(e=this.id),this.group){if("#"===this.group[0])return null;e=this.group}return`dnb-accordion-${e}`},n.saveState=function(e,n,t){if(void 0===n&&(n=this.id),void 0===t&&(t={}),n)try{const i=this.getData()||{};this.group?e?i.id=n:t&&t.force&&(i.id=null):i.expanded=e;const o=this.storeId(n);o&&window.localStorage.setItem(o,JSON.stringify(i))}catch(i){}else z()},n.getData=function(e){void 0===e&&(e=this.id);const n=this.storeId(e);if(n)try{if(Object.prototype.hasOwnProperty.call(window.localStorage,n))return JSON.parse(window.localStorage.getItem(n))}catch(t){}return null},n.getState=function(e){void 0===e&&(e=this.id);let n=null;const t=this.getData(e);return t&&(void 0!==t.id?n=e===t.id:void 0!==t.expanded&&(n=t.expanded)),n},n.flush=function(e){if(void 0===e&&(e=this.id),e)try{const n=this.storeId(e);n&&window.localStorage.setItem(n,null)}catch(n){}},e}();function z(e){void 0===e&&(e="accordion"),(0,S.R8)(`Missing "id" prop the ${e}! "remember_state" is enabled.`)}function D(e){let{variant:n="outlined",icon_size:t="medium",...o}=e;const _={variant:n,icon_size:t,...o},h=(0,i.useContext)(l),f=_.group||(null==h?void 0:h.group),v=(0,i.useRef)(_.id||(0,r.vL)()).current,g=new R({id:_.id,group:f}),{0:m,1:b}=(0,i.useState)(_.expanded),{0:y,1:w}=(0,i.useState)(function(){if(_.expanded_ssr||null!=h&&h.expanded_ssr)return"undefined"==typeof window;if(_.remember_state||h.remember_state){const e=g.getState();if(_.expanded&&!1===e)return!1;if(e)return!0}return void 0!==_.expanded?_.expanded:void 0!==(null==h?void 0:h.expanded)&&h.expanded}()),C=(0,i.useRef)(!1);_.expanded!==m&&(w(void 0!==_.expanded&&_.expanded),b(_.expanded));const j={_id:v,context:h,handleDisabledClick:k,callOnChange:D,callOnChangeHandler:z,close:I,setExpandedState:function(e){w(e)},state:{expanded:y,group:f},props:_,store:g};var S;((0,i.useEffect)((()=>(f&&"undefined"!=typeof window&&(window.__dnbAccordion=window.__dnbAccordion||{},window.__dnbAccordion[f]=window.__dnbAccordion[f]||new O(f),window.__dnbAccordion[f].addInstance(j)),h&&"function"==typeof(null==h?void 0:h.onInit)&&h.onInit(j),()=>{var e,n;f&&"undefined"!=typeof window&&(null===(e=window)||void 0===e||null===(n=e.__dnbAccordion[f])||void 0===n||n.removeInstance(j))})),[]),(0,i.useEffect)((()=>{h.flush_remembered_state&&(g.flush(),w(_.expanded)),null!=h&&h.expanded_id&&h.expanded_id===_.id&&w(!0)}),[h.flush_remembered_state,h.expanded_id,_.expanded,_.id,g]),null!=h&&h.collapseAllHandleRef&&!C.current)&&(null==h||null===(S=h.collapseAccordionCallbacks)||void 0===S||S.current.push(I),C.current=!0);function I(){N(!1)}function N(e){w(e),(_.remember_state||h.remember_state)&&g.saveState(e)}function k(e){return e.preventDefault(),!1}function z(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var i,o;(D.apply(void 0,n),null!=h&&h.onChange&&(null==h||h.onChange.apply(h,n)),f&&"undefined"!=typeof window)&&(null===(i=window)||void 0===i||null===(o=i.__dnbAccordion[f])||void 0===o||o.onChange.apply(o,n))}function D(){const{expanded:e,event:n}=arguments.length<=0?void 0:arguments[0];N(e),(0,r.OW)(j,"on_change",{expanded:e,event:n})}return(0,p.jsx)(s.Ay.Consumer,{children:e=>(0,p.jsx)(x.Consumer,{children:n=>{let t=y;const i=(0,a.ym)(_,u,h,n,{skeleton:null==e?void 0:e.skeleton},e.Accordion,e.translation.Accordion);void 0===t&&e.Accordion&&e.Accordion.expanded&&(t=i.expanded);const{variant:o,className:s,prerender:l,prevent_rerender:g,prevent_rerender_conditional:m,single_container:b,remember_state:w,disabled:C,skeleton:j,no_animation:S,expanded_ssr:I,children:N,id:O,group:R,title:D,description:H,left_component:L,icon:$,icon_position:P,icon_size:B,on_change:Q,on_state_update:M,contentRef:T,...V}=i,J={id:v,className:d()("dnb-accordion",t&&"dnb-accordion--expanded",o&&`dnb-accordion__variant--${o}`,l&&"dnb-accordion--prerender",(0,c.CL)(i),s)};C&&(J.onClick=k),(0,r.CQ)(_,V);const K={...(0,a.ym)(_,u,{expanded:y,group:f},h),id:v,expanded:t,prerender:l,prevent_rerender:g,prevent_rerender_conditional:m,single_container:b,remember_state:w,disabled:C,skeleton:j,no_animation:S,callOnChange:z};return(0,p.jsx)(x.Provider,{value:K,children:(0,p.jsxs)("div",{...J,children:[(0,r.Y6)(N,(e=>e.type===A))?null:(0,p.jsx)(A,{}),(0,r.Y6)(N,(e=>e.type===E))?N:(0,p.jsx)(E,{children:N})]})})}})})}const H=e=>{let{expandBehaviour:n,expandBehavior:t="single",...o}=e;o.remember_state&&!o.id&&z("accordion group");const{0:d,1:a}=(0,i.useState)(null),c=(0,i.useRef)([]),s=null!=o&&o.id?o.id:o.group?void 0:"#"+(0,r.vL)(),l=(0,i.useMemo)((()=>new R({group:s})),[s]);return(0,i.useEffect)((()=>{const e=l.getData(),n=null==c?void 0:c.current;if(null==e||!e.id)return;if(n.includes(null==e?void 0:e.id))return;const t=n[0];t&&a(t)}),[l]),(0,i.useEffect)((()=>{d&&(l.saveState(!0,d),a(null))}),[d,l]),(0,p.jsx)(h,{onInit:function(e){e.props.id&&!c.current.includes(e.props.id)&&c.current.push(e.props.id)},...o,group:s,expandBehavior:n||t,expanded_id:d||o.expanded_id})};D.Provider=h,D.Header=A,D.Content=E,D.Group=H,H.Store=function(e,n){return void 0===n&&(n=null),new R({group:e,id:n})},D.Store=e=>new R({id:e}),D._supportsSpacingProps=!0;var L=D}}]);
//# sourceMappingURL=e42f77d12a5d78b8b045c21b6fdc5eaeffa9e646-95f8e7a13b0f38be0d2b.js.map