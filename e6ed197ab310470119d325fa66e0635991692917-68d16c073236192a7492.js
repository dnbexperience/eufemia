"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[12121],{12834:function(e,n,o){o.d(n,{Z:function(){return $}});var t=o(2784),i=o(72779),d=o.n(i),r=o(37339),a=o(11507),c=o(2045),s=o(28952);var l=t.createContext({});const u={variant:"outlined",icon_size:"medium"};var p=o(52322);const _=e=>{const n=(0,t.useContext)(s.ZP),o=e.id||(0,r.Xo)(),i={_id:o,props:e,context:n,onChangeHandler:_};function _(e){(0,r.RW)(i,"on_change",{id:e.id,expanded:e.expanded,event:e})}const h=(0,a.Xw)(e,u,n.Accordion,n.getTranslation(e).Accordion),{expanded:f,expanded_id:x,prerender:v,prevent_rerender:g,single_container:m,contentRef:b,allow_close_all:w,remember_state:y,flush_remembered_state:j,disabled:C,group:S,onInit:A,className:I,id:N,children:k,collapseAllHandleRef:E,expandBehaviour:H,expandBehavior:R,...O}=h,P=(0,t.useRef)([]);(0,t.useEffect)((()=>{E&&(E.current=()=>{P.current.forEach((e=>e()))})}),[E]);const $=d()("dnb-accordion-group",(0,r.oA)(m)&&"dnb-accordion-group--single-container",(0,c.HU)(h),I),z={...O};(0,r.L_)(e,z),null!=h&&h.group||!(0,r.oA)(e.single_container)||(h.group=(0,r.Xo)());const D={...h,id:o,onChange:_,collapseAllHandleRef:E,collapseAccordionCallbacks:P,expandBehaviour:H,expandBehavior:R};return(0,p.jsx)(l.Provider,{value:D,children:(0,p.jsx)("div",{className:$,children:(0,p.jsx)("span",{id:o,className:"dnb-accordion-group__shell",role:"group",...z,children:(0,p.jsx)("span",{className:"dnb-accordion-group__children",children:k})})})})};_._supportsSpacingProps=!0;var h=_,f=o(66651);var x=t.createContext({}),v=o(59525);function g(e){let{children:n=null,...o}=e;return(0,p.jsx)("span",{className:d()("dnb-accordion__header__title",(0,c.HU)(o)),children:n})}function m(e){let{children:n=null,...o}=e;return n?(0,p.jsx)("span",{className:d()("dnb-accordion__header__description",(0,c.HU)(o)),children:n}):null}function b(e){let{children:n=null,...o}=e;return n?(0,p.jsx)("span",{className:d()("dnb-accordion__header__container",(0,c.HU)(o)),children:n}):null}function w(e){let{icon:n,expanded:o,size:t="medium",icon_position:i}=e;const r=n&&"object"==typeof n&&"expanded"in n&&void 0!==(null==n?void 0:n.expanded)?n[o?"expanded":"closed"]:n||"chevron-down";return(0,p.jsx)("span",{className:d()("dnb-accordion__header__icon",i&&`dnb-accordion__header__icon--${i}`),children:(0,p.jsx)(f.ZP,{size:t,icon:r,"aria-hidden":!0})})}const y={icon_size:"medium"},j=e=>{let{icon_size:n="medium",...o}=e;const i={icon_size:n,...o},{0:s,1:l}=(0,t.useState)(!1),{0:u,1:_}=(0,t.useState)(!1),h=(0,t.useContext)(x);function f(e){const{id:n,group:o}=h;if(j()){const t=!h.expanded;h.callOnChange({id:n,group:o,expanded:t,event:e}),_(!0)}}function j(){const{expanded:e,allow_close_all:n,group:o}=h;return!o||o&&!e||n}const C=(0,a.Xw)(i,y,h),{id:S,left_component:A,expanded:I,title:N,description:k,element:E,heading:H,heading_level:R,icon:O,icon_size:P,disabled:$,skeleton:z,no_animation:D,variant:B}=C;let{icon_position:Z}=C;const{children:U,className:X,left_component:L,expanded:M,title:K,description:T,icon:V,icon_size:J,disabled:W,...G}=i,q=[(0,p.jsx)(w,{icon:O,size:P,expanded:h.expanded,icon_position:Z},"icon"),(0,p.jsx)(b,{children:A},"container"),(0,p.jsx)(g,{children:N||(Array.isArray(U)?U.filter((e=>!t.isValidElement(e))):U)},"title"),(0,p.jsx)(m,{children:k},"description")];if(Array.isArray(U)){const e=[];U.forEach((n=>{if(t.isValidElement(n)){const o=q.find((e=>e.type===n.type));o&&e.push(o),q.push(n)}})),e.forEach((e=>{const n=q.findIndex((n=>n===e));n>-1&&q.splice(n,1)}))}const F=[],Q=[],Y=(0,p.jsx)("span",{className:"dnb-accordion__header__wrapper",children:Q},"wrapper");if(q.forEach((e=>{!t.isValidElement(e)||e.type!==g&&e.type!==m?F.push(e):(Q.push(e),-1===F.findIndex((e=>e===Y))&&F.push(Y))})),void 0===Z){F.findIndex((e=>e.type===w))>1&&(Z="right"),A&&(Z="right")}const ee={id:`${S}-header`,"aria-controls":`${S}-content`,"aria-expanded":h.expanded,role:"button",tabIndex:0,className:d()("dnb-accordion__header",B&&`dnb-accordion__header--${B}`,h.expanded&&"dnb-accordion__header--expanded",Z&&`dnb-accordion__header--icon-${Z}`,s&&u&&h.expanded&&"dnb-accordion__header--after-click",!j()&&"dnb-accordion__header--prevent-click",k&&"dnb-accordion__header--description",D&&"dnb-accordion__header--no-animation",(0,v.BD)("font",z,h),(0,c.HU)(G),X),disabled:$,...G};$||z?(ee.tabIndex=-1,ee.disabled=!0,ee["aria-disabled"]=!0):(ee.onClick=f,ee.onKeyDown=function(e){const n=e.key;"Enter"!==n&&" "!==n||(e.preventDefault(),f(e))},ee.onMouseOver=function(){l(!0)},ee.onMouseOut=function(){l(!1),_(!1)}),(0,v.rZ)(ee,z,h),(0,r.L_)(i,ee);let ne="div";return!H||"true"!==String(H)&&"1"!==String(H)?H?(ee.role=null,ne=H):E&&(ee.role=null,ne=E):(ee.role="heading",ee["aria-level"]=R?Number(R):2),(0,p.jsx)(ne,{...ee,children:F})};j.Container=b,j.Icon=w,j.Title=g,j.Description=m,j._supportsSpacingProps=!0;var C=j,S=o(47017),A=o(80945),I=o(81858),N=o(91974);function k(e){const n=t.useContext(x),{id:o,expanded:i,prerender:a,prevent_rerender:s,single_container:l,disabled:u,no_animation:_,contentRef:h}=n,{className:f,children:v,instance:g,...m}=e;let b=t.useRef(null);const w=t.useRef(null);h&&(b=h);const y=()=>{const{single_container:e}=n;if(e){const e=b.current;if(e)try{e.style.height="";const n=(0,S.U)("dnb-accordion-group--single-container",e);_&&(n.style.transitionDuration="1ms");const o=(e.offsetHeight+e.offsetTop)/16;n.style.minHeight=`${o}rem`}catch(o){(0,A.ZK)(o)}}};t.useEffect((()=>{i&&l&&y()}),[v,i,l]),t.useState((()=>{g&&Object.prototype.hasOwnProperty.call(g,"current")&&(g.current={setContainerHeight:y})}));const j=(0,I.Z)({when:{max:"small"}}),C=(()=>{const o=(0,r.Ob)(e),{expanded:t,prerender:i,prevent_rerender:d,prevent_rerender_conditional:a}=n;let c=o;return"string"==typeof c&&(c=(0,p.jsx)("p",{className:"dnb-p",children:c})),d&&(t||i||(c=null),a&&w.current!==c&&(w.current=c),w.current?c=w.current:w.current=c),c})(),k={className:d()("dnb-accordion__content",f),...m},E=a||s,H={id:`${o}-content`,"aria-labelledby":`${o}-header`,className:d()("dnb-accordion__content__inner",(0,c.HU)(m))};i&&(H["aria-expanded"]=!0),i&&!u||(H.disabled=!0,H["aria-hidden"]=!0),(0,r.L_)(e,k),(0,r.L_)(null,H);const R=!_&&(!l||j);return(0,p.jsx)(N.Z,{...k,open:i,animate:R,keepInDOM:E,innerRef:b,children:(0,p.jsx)("section",{...H,children:C})})}k._supportsSpacingProps=!0;let E=function(){function e(e){this._id=e,this._instances=[]}var n=e.prototype;return n.onChange=function(e){let{id:n}=e;this._instances.forEach((e=>{"single"===e.context.expandBehaviour&&"single"===e.context.expandBehavior&&e._id!==n&&e.close()}))},n.addInstance=function(e){this._instances.push(e)},n.removeInstance=function(e){this._instances=this._instances.filter((n=>n!==e))},e}(),H=function(){function e(e){let{id:n,group:o}=e;return this.id=n,this.group=o,this}var n=e.prototype;return n.storeId=function(e){if(void 0===e&&(e=this.id),this.group){if("#"===this.group[0])return null;e=this.group}return`dnb-accordion-${e}`},n.saveState=function(e,n,o){if(void 0===n&&(n=this.id),void 0===o&&(o={}),n)try{const t=this.getData()||{};this.group?e?t.id=n:o&&o.force&&(t.id=null):t.expanded=e;const i=this.storeId(n);i&&window.localStorage.setItem(i,JSON.stringify(t))}catch(t){}else R()},n.getData=function(e){void 0===e&&(e=this.id);const n=this.storeId(e);if(n)try{if(Object.prototype.hasOwnProperty.call(window.localStorage,n))return JSON.parse(window.localStorage.getItem(n))}catch(o){}return null},n.getState=function(e){void 0===e&&(e=this.id);let n=null;const o=this.getData(e);return o&&(void 0!==o.id?n=e===o.id:void 0!==o.expanded&&(n=o.expanded)),n},n.flush=function(e){if(void 0===e&&(e=this.id),e)try{const n=this.storeId(e);n&&window.localStorage.setItem(n,null)}catch(n){}},e}();function R(e){void 0===e&&(e="accordion"),(0,A.ZK)(`Missing "id" prop the ${e}! "remember_state" is enabled.`)}function O(e){let{variant:n="outlined",icon_size:o="medium",...i}=e;const _={variant:n,icon_size:o,...i},h=(0,t.useContext)(l),f=_.group||(null==h?void 0:h.group),v=(0,t.useRef)(_.id||(0,r.Xo)()).current,g=new H({id:_.id,group:f}),{0:m,1:b}=(0,t.useState)(_.expanded),{0:w,1:y}=(0,t.useState)(function(){if(_.expanded_ssr||null!=h&&h.expanded_ssr)return"undefined"==typeof window;if(_.remember_state||h.remember_state){const e=g.getState();if(_.expanded&&!1===e)return!1;if(e)return!0}return void 0!==_.expanded?_.expanded:void 0!==(null==h?void 0:h.expanded)&&h.expanded}()),j=(0,t.useRef)(!1);_.expanded!==m&&(y(void 0!==_.expanded&&_.expanded),b(_.expanded));const S={_id:v,context:h,handleDisabledClick:R,callOnChange:P,callOnChangeHandler:O,close:I,setExpandedState:function(e){y(e)},state:{expanded:w,group:f},props:_,store:g};var A;((0,t.useEffect)((()=>(f&&"undefined"!=typeof window&&(window.__dnbAccordion=window.__dnbAccordion||{},window.__dnbAccordion[f]=window.__dnbAccordion[f]||new E(f),window.__dnbAccordion[f].addInstance(S)),h&&"function"==typeof(null==h?void 0:h.onInit)&&h.onInit(S),()=>{var e,n;f&&"undefined"!=typeof window&&(null===(e=window)||void 0===e||null===(n=e.__dnbAccordion[f])||void 0===n||n.removeInstance(S))})),[]),(0,t.useEffect)((()=>{h.flush_remembered_state&&(g.flush(),y(_.expanded)),null!=h&&h.expanded_id&&h.expanded_id===_.id&&y(!0)}),[h.flush_remembered_state,h.expanded_id,_.expanded,_.id,g]),null!=h&&h.collapseAllHandleRef&&!j.current)&&(null==h||null===(A=h.collapseAccordionCallbacks)||void 0===A||A.current.push(I),j.current=!0);function I(){N(!1)}function N(e){y(e),(_.remember_state||h.remember_state)&&g.saveState(e)}function R(e){return e.preventDefault(),!1}function O(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var t,i;(P.apply(void 0,n),null!=h&&h.onChange&&(null==h||h.onChange.apply(h,n)),f&&"undefined"!=typeof window)&&(null===(t=window)||void 0===t||null===(i=t.__dnbAccordion[f])||void 0===i||i.onChange.apply(i,n))}function P(){const{expanded:e,event:n}=arguments.length<=0?void 0:arguments[0];N(e),(0,r.RW)(S,"on_change",{expanded:e,event:n})}return(0,p.jsx)(s.ZP.Consumer,{children:e=>(0,p.jsx)(x.Consumer,{children:n=>{let o=w;const t=(0,a.Xw)(_,u,h,n,{skeleton:null==e?void 0:e.skeleton},e.Accordion,e.translation.Accordion);void 0===o&&e.Accordion&&e.Accordion.expanded&&(o=t.expanded);const{variant:i,className:s,prerender:l,prevent_rerender:g,prevent_rerender_conditional:m,single_container:b,remember_state:y,disabled:j,skeleton:S,no_animation:A,expanded_ssr:I,children:N,id:E,group:H,title:P,description:$,left_component:z,icon:D,icon_position:B,icon_size:Z,on_change:U,on_state_update:X,contentRef:L,...M}=t,K={id:v,className:d()("dnb-accordion",o&&"dnb-accordion--expanded",i&&`dnb-accordion__variant--${i}`,l&&"dnb-accordion--prerender",(0,c.HU)(t),s)};j&&(K.onClick=R),(0,r.L_)(_,M);const T={...(0,a.Xw)(_,u,{expanded:w,group:f},h),id:v,expanded:o,prerender:l,prevent_rerender:g,prevent_rerender_conditional:m,single_container:b,remember_state:y,disabled:j,skeleton:S,no_animation:A,callOnChange:O};return(0,p.jsx)(x.Provider,{value:T,children:(0,p.jsxs)("div",{...K,children:[(0,r.$w)(N,(e=>e.type===C))?null:(0,p.jsx)(C,{}),(0,r.$w)(N,(e=>e.type===k))?N:(0,p.jsx)(k,{children:N})]})})}})})}O.defaultProps=u;const P=e=>{let{expandBehaviour:n="single",expandBehavior:o="single",...i}=e;i.remember_state&&!i.id&&R("accordion group");const{0:d,1:a}=(0,t.useState)(null),c=(0,t.useRef)([]),s=null!=i&&i.id?i.id:i.group?void 0:"#"+(0,r.Xo)(),l=(0,t.useMemo)((()=>new H({group:s})),[s]);return(0,t.useEffect)((()=>{const e=l.getData(),n=null==c?void 0:c.current;if(null==e||!e.id)return;if(n.includes(null==e?void 0:e.id))return;const o=n[0];o&&a(o)}),[l]),(0,t.useEffect)((()=>{d&&(l.saveState(!0,d),a(null))}),[d,l]),(0,p.jsx)(h,{onInit:function(e){e.props.id&&!c.current.includes(e.props.id)&&c.current.push(e.props.id)},...i,group:s,expandBehaviour:n,expandBehavior:o,expanded_id:d||i.expanded_id})};O.Provider=h,O.Header=C,O.Content=k,O.Group=P,P.Store=function(e,n){return void 0===n&&(n=null),new H({group:e,id:n})},O.Store=e=>new H({id:e}),O._supportsSpacingProps=!0;var $=O}}]);
//# sourceMappingURL=e6ed197ab310470119d325fa66e0635991692917-68d16c073236192a7492.js.map