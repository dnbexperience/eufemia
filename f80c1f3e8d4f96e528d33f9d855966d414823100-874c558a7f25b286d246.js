"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[37403],{45390:function(e,n,i){i.r(n),i.d(n,{default:function(){return U}});var t={};i.r(t),i.d(t,{ChildrenWithAge:function(){return B}});var r={};i.r(r),i.d(r,{ChildrenWithAge:function(){return E},ChildrenWithAgePrefilledYes:function(){return H},ChildrenWithAgeSummaryMultipleChildren:function(){return Y},ChildrenWithAgeSummaryMultipleNoAnswers:function(){return _},ChildrenWithAgeSummaryNoChildren:function(){return I},ChildrenWithAgeWizard:function(){return N},WithToolbar:function(){return K}});var l=i(52322),s=i(45392),a=i(2784),o=i(64368),d=i(61890),h=i(54109),u=i(89751),c=i(76412),p=i(58984),f=i(33658),m=i(4902),b=i(10454),g=i(38734),x=i(71370),j=i(37735),y=i(70470),C=i(64627),A=i(92581),W=i(25326),Z=i(67863),v=i(52480),S=i(36325),R=i(11850),T=i(80843),D=i(49118),F=i(40996),k=i(11523),O=i(76222),L=i(48975),q=i(1062),w=i(58376),P=i(80890),V=i(26);function B(e){let{mode:n,enableAdditionalQuestions:i,toWizardStep:t,...r}=e;const s=(0,V.SR)(r),a=(0,V.dp)(r);return(0,l.jsx)(W.Z,{translations:P.I,required:!0,...a,children:"summary"===n?(0,l.jsx)(J,{toWizardStep:t,spacingProps:s}):(0,l.jsx)(z,{enableAdditionalQuestions:i,spacingProps:s})})}function z(e){let{spacingProps:n,enableAdditionalQuestions:i}=e;const t=Z.Z();return(0,l.jsxs)(w.Z,{stack:!0,...n,children:[(0,l.jsx)(p.Z,{children:t.ChildrenWithAge.hasChildren.title}),(0,l.jsx)(v.Z,{path:"/hasChildren",label:t.ChildrenWithAge.hasChildren.fieldLabel,variant:"buttons",defaultValue:!1,errorMessages:{required:t.ChildrenWithAge.hasChildren.required}}),(0,l.jsxs)(C.Z,{pathTrue:"/hasChildren",animate:!0,children:[(null==i?void 0:i.includes("joint-responsibility"))&&(0,l.jsx)(v.Z,{path:"/hasJointResponsibility",label:t.ChildrenWithAge.hasJointResponsibility.fieldLabel,variant:"buttons",defaultValue:!1,errorMessages:{required:t.ChildrenWithAge.hasChildren.required}}),(null==i?void 0:i.includes("daycare"))&&(0,l.jsx)(v.Z,{path:"/usesDaycare",label:t.ChildrenWithAge.usesDaycare.fieldLabel,variant:"buttons",defaultValue:!1,errorMessages:{required:t.ChildrenWithAge.usesDaycare.required}}),(0,l.jsx)(S.Z,{path:"/countChildren",label:t.ChildrenWithAge.countChildren.fieldLabel,errorMessages:{minimum:t.ChildrenWithAge.countChildren.required},width:"small",defaultValue:1,minimum:1,maximum:20,showStepControls:!0,decimalLimit:0}),(0,l.jsx)(R.Z,{path:"/children",countPath:"/countChildren",countPathTransform:M,countPathLimit:20,children:(0,l.jsxs)(T.Z,{label:t.ChildrenWithAge.childrenAge.fieldLabel,align:"center",children:[(0,l.jsx)(S.Z,{itemPath:"/age",errorMessages:{required:t.ChildrenWithAge.childrenAge.required},placeholder:"0",width:"small",minimum:0,maximum:17,decimalLimit:0}),(0,l.jsx)(C.Z,{pathTrue:"/hasJointResponsibility",children:(0,l.jsx)(v.Z,{itemPath:"/jointResponsibility",label:t.ChildrenWithAge.confirmJointResponsibility.fieldLabel})}),(0,l.jsx)(C.Z,{pathTrue:"/usesDaycare",children:(0,l.jsx)(v.Z,{itemPath:"/hasDaycare",label:t.ChildrenWithAge.hasDaycare.fieldLabel})})]})})]})]})}function J(e){let{spacingProps:n,toWizardStep:i}=e;const t=Z.Z(),{getValue:r}=D.Z(),s=!1===r("/hasChildren");return(0,l.jsxs)(w.Z,{stack:!0,...n,children:[(0,l.jsx)(p.Z,{children:t.ChildrenWithAge.hasChildren.title}),(0,l.jsxs)(F.Z,{children:[(0,l.jsx)(k.Z,{path:"/hasChildren",label:t.ChildrenWithAge.hasChildren.fieldLabel}),(0,l.jsx)(C.Z,{pathTrue:"/hasChildren",children:(0,l.jsx)(O.Z,{path:"/countChildren",label:t.ChildrenWithAge.countChildren.fieldLabel,defaultValue:0,suffix:t.ChildrenWithAge.countChildren.suffix,maximum:20,transformIn:e=>s?0:e})}),(0,l.jsx)(R.Z,{path:"/children",limit:s?0:void 0,children:(0,l.jsxs)(L.Z,{label:t.ChildrenWithAge.childrenAge.fieldLabel,gap:!1,children:[(0,l.jsx)(O.Z,{itemPath:"/age",suffix:t.ChildrenWithAge.childrenAge.suffix,defaultValue:"–"}),(0,l.jsxs)(C.Z,{pathTrue:"/hasJointResponsibility",children:[", ",(0,l.jsx)(k.Z,{inline:!0,itemPath:"/jointResponsibility",trueText:t.ChildrenWithAge.jointResponsibilityTrue,falseText:t.ChildrenWithAge.jointResponsibilityFalse,defaultValue:!1})]}),(0,l.jsxs)(C.Z,{pathTrue:"/usesDaycare",children:[", ",(0,l.jsx)(k.Z,{inline:!0,itemPath:"/hasDaycare",trueText:t.ChildrenWithAge.daycareTrue,falseText:t.ChildrenWithAge.daycareFalse,defaultValue:!1})]})]})})]}),"number"==typeof i?(0,l.jsx)(q.Z,{toStep:i}):null]})}const M=e=>{let{value:n}=e;return Object.prototype.hasOwnProperty.call(n||{},"age")?n:{age:void 0}};B._supportsSpacingProps=!0;const E=e=>(0,l.jsx)(f.Z,{onSubmit:(e,n)=>{let{reduceToVisibleFields:i}=n;console.log(i(e))},children:(0,l.jsx)(K,{children:(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(B,{enableAdditionalQuestions:["joint-responsibility","daycare"],...e}),(0,l.jsx)(B,{mode:"summary",enableAdditionalQuestions:["joint-responsibility","daycare"],...e})]})})}),N=e=>(0,l.jsx)(o.Z,{scope:{Tools:m,Blocks:t,props:e},noInline:!0,children:'const MyForm = () => {\n  const { summaryTitle } = Form.useLocale().Step\n  return (\n    <Form.Handler\n      onSubmit={(data, { reduceToVisibleFields }) => {\n        console.log(reduceToVisibleFields(data))\n      }}\n    >\n      <Wizard.Container>\n        <Wizard.Step title="Step 1">\n          <Blocks.ChildrenWithAge {...props} />\n          <Wizard.Buttons />\n        </Wizard.Step>\n\n        <Wizard.Step title={summaryTitle}>\n          <Blocks.ChildrenWithAge\n            mode="summary"\n            toWizardStep={0}\n            {...props}\n          />\n\n          <Form.ButtonRow>\n            <Wizard.Buttons />\n            <Form.SubmitButton variant="send" />\n          </Form.ButtonRow>\n        </Wizard.Step>\n      </Wizard.Container>\n    </Form.Handler>\n  )\n}\nrender(<MyForm />)\n'});function K(e){let{children:n}=e;const{filterData:i}=(0,D.Z)(),t=(0,a.useMemo)((()=>({"/toggleToolOf":!1})),[]),r=(0,a.useMemo)((()=>({current:()=>i(t)})),[i,t]),s=(0,a.useRef)(),o=(0,a.useRef)();return(0,l.jsxs)(d.Z,{top:"large",children:[(0,l.jsx)(b.Z,{generateRef:s,filterData:t,children:(0,l.jsx)(g.Z,{generateRef:o,filterData:t,children:n})}),(0,l.jsx)(h.Z,{backgroundColor:"sand-yellow",innerSpace:!0,children:(0,l.jsxs)(u.Z,{align:"center",children:[(0,l.jsx)(x.Z,{text:"Submit"}),(0,l.jsxs)(j.ZP,{path:"/toggleToolOf",variant:"button",optionsLayout:"horizontal",children:[(0,l.jsx)(y.Z,{value:"off",title:"Off"}),(0,l.jsx)(y.Z,{value:"data",title:"Data"}),(0,l.jsx)(y.Z,{value:"props",title:"Props"}),(0,l.jsx)(y.Z,{value:"schema",title:"Schema"})]}),(0,l.jsx)(c.Z,{title:"About Data, Props and Schema",children:"Data, Props and Schema will show block relevant information. Schema is an automatically generated Ajv schema, while props shows all used props to define the block functionality."})]})}),(0,l.jsx)(C.Z,{visibleWhen:{path:"/toggleToolOf",hasValue:"data"},children:(0,l.jsx)(Q,{title:"Data",generateRef:r})}),(0,l.jsx)(C.Z,{visibleWhen:{path:"/toggleToolOf",hasValue:"props"},children:(0,l.jsx)(Q,{title:"Props",generateRef:s})}),(0,l.jsx)(C.Z,{visibleWhen:{path:"/toggleToolOf",hasValue:"schema"},children:(0,l.jsx)(Q,{title:"Schema",generateRef:o,transform:e=>e.schema})})]})}function Q(e){let{title:n,generateRef:i,transform:t=(e=>e)}=e;const r=t(i.current());return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.Z,{children:n}),(0,l.jsx)(A.Z,{data:r})]})}const H=()=>(0,l.jsx)(o.Z,{"data-visual-test":"children-with-age-prefilled",scope:{Tools:m,Blocks:t},children:"<Form.Handler\n  data={{\n    hasChildren: true,\n    hasJointResponsibility: true,\n    usesDaycare: true,\n    countChildren: 2,\n    children: [{}, {}],\n  }}\n  onSubmit={(data, { reduceToVisibleFields }) => {\n    console.log(reduceToVisibleFields(data))\n  }}\n>\n  <Flex.Stack>\n    <Blocks.ChildrenWithAge\n      enableAdditionalQuestions={['joint-responsibility', 'daycare']}\n    />\n  </Flex.Stack>\n</Form.Handler>\n"}),_=()=>(0,l.jsx)(o.Z,{"data-visual-test":"children-with-age-summary-multiple-no-answers",scope:{Tools:m,Blocks:t,multipleChildrenNoJointAndDaycare:{hasChildren:!0,hasJointResponsibility:!1,usesDaycare:!1,countChildren:2,children:[{age:0},{age:0}]}},children:"\n<Blocks.ChildrenWithAge\n  data={multipleChildrenNoJointAndDaycare}\n  enableAdditionalQuestions={['joint-responsibility', 'daycare']}\n/>\n<Blocks.ChildrenWithAge\n  mode=\"summary\"\n  data={multipleChildrenNoJointAndDaycare}\n/>\n\n"}),Y=()=>(0,l.jsx)(o.Z,{"data-visual-test":"children-with-age-summary-multiple-children",scope:{Tools:m,Blocks:t,multipleChildren:{hasChildren:!0,usesDaycare:!0,countChildren:2,children:[{age:1},{age:2,hasDaycare:!0}]}},children:'\n<Blocks.ChildrenWithAge data={multipleChildren} />\n<Blocks.ChildrenWithAge mode="summary" data={multipleChildren} />\n\n'}),I=()=>(0,l.jsx)(o.Z,{"data-visual-test":"children-with-age-summary-no-children",scope:{Tools:m,Blocks:t,noChildren:{hasChildren:!1}},children:'\n<Blocks.ChildrenWithAge data={noChildren} />\n<Blocks.ChildrenWithAge mode="summary" data={noChildren} />\n\n'});function G(e){const n=Object.assign({h2:"h2",h3:"h3",p:"p",code:"code"},(0,s.ah)(),e.components),{VisibleWhenVisualTest:i}=n;return r||$("Examples",!1),E||$("Examples.ChildrenWithAge",!0),H||$("Examples.ChildrenWithAgePrefilledYes",!0),Y||$("Examples.ChildrenWithAgeSummaryMultipleChildren",!0),_||$("Examples.ChildrenWithAgeSummaryMultipleNoAnswers",!0),I||$("Examples.ChildrenWithAgeSummaryNoChildren",!0),N||$("Examples.ChildrenWithAgeWizard",!0),i||$("VisibleWhenVisualTest",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{children:"Demos"}),"\n",(0,l.jsx)(n.h3,{children:"In Wizard"}),"\n",(0,l.jsx)(n.p,{children:"All features are enabled in this example."}),"\n",(0,l.jsx)(N,{}),"\n",(0,l.jsx)(n.h3,{children:"Basic"}),"\n",(0,l.jsx)(E,{}),"\n",(0,l.jsxs)(n.h3,{children:["With ",(0,l.jsx)(n.code,{children:"joint-responsibility"})," question"]}),"\n",(0,l.jsx)(E,{enableAdditionalQuestions:["joint-responsibility"]}),"\n",(0,l.jsxs)(n.h3,{children:["With ",(0,l.jsx)(n.code,{children:"daycare"})," question"]}),"\n",(0,l.jsx)(E,{enableAdditionalQuestions:["daycare"]}),"\n",(0,l.jsxs)(i,{children:[(0,l.jsx)(H,{}),(0,l.jsx)(I,{}),(0,l.jsx)(Y,{}),(0,l.jsx)(_,{})]})]})}var U=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,l.jsx)(n,Object.assign({},e,{children:(0,l.jsx)(G,e)})):G(e)};function $(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},38734:function(e,n,i){i.d(n,{Z:function(){return o}});var t=i(84616),r=i(2784),l=i(2394),s=i(21068);const a=["minLength","maxLength","pattern","description","min","max","multipleOf","exclusiveMinimum","exclusiveMaximum"];function o(e){const{generateRef:n,filterData:i,log:o,children:d}=e||{},{fieldPropsRef:h,valuePropsRef:u,data:c,hasContext:p}=(0,r.useContext)(s.Z),f=(0,r.useRef)({});f.current=c;const m=(0,r.useCallback)((()=>{const e=Object.entries((null==h?void 0:h.current)||{}).reduce(((e,n)=>{let[r,s]=n;if(r.startsWith("/")){const n=r.substring(1),o=n.split("/"),d=o.length,h={type:s.valueType||"string"};for(const e of a)s[e]&&(h[e]=s[e]);if(d>1){const n=[""];for(const r of o){n.push(r);const a=n.join("/properties/"),d=n.length-1===o.length,u=l.e$(e,a)?l.U2(e,a):null,c=d?h:u;if(d)!1!==(null==i?void 0:i[a])&&l.t8(e,a,c);else{const n={type:"object",...u},r=[];s.required&&r.push(o.at(-1)),null!=u&&u.required&&r.push.apply(r,(0,t.Z)(u.required)),r.length>0&&(n.required=r),!1!==(null==i?void 0:i[a])&&l.t8(e,a,n)}}}else!1!==(null==i?void 0:i[r])&&l.t8(e.properties,r,h),s.required&&e.required.push(n)}return e}),{type:"object",properties:{},required:[]}),n=Object.entries((null==h?void 0:h.current)||{}).reduce(((e,n)=>{let[i,t]=n;if(i.startsWith("/")){const n={};for(const e in t)void 0!==t[e]&&"function"!=typeof t[e]&&(n[e]=t[e]);l.t8(e,i,n)}return e}),{}),r=Object.entries((null==u?void 0:u.current)||{}).reduce(((e,n)=>{let[i,t]=n;if(i.startsWith("/")){const n={};for(const e in t)void 0!==t[e]&&"function"!=typeof t[e]&&(n[e]=t[e]);l.t8(e,i,n)}return e}),{});return 0===e.required.length&&delete e.required,{schema:e,data:f.current,propsOfFields:n,propsOfValues:r}}),[h,i,u]);return p&&(o&&console.log(m().schema),n&&(n.current=m)),d}},10454:function(e,n,i){i.d(n,{Z:function(){return s}});var t=i(2784),r=i(2394),l=i(21068);function s(e){const{log:n,generateRef:i,filterData:s,children:a}=e||{},{fieldPropsRef:o,valuePropsRef:d,data:h,hasContext:u}=(0,t.useContext)(l.Z);(0,t.useRef)({}).current=h;const c=(0,t.useCallback)((()=>{const e=Object.entries((null==o?void 0:o.current)||{}).reduce(((e,n)=>{let[i,l]=n;if(i.startsWith("/")){const n={};for(const e in l)void 0===l[e]||"function"==typeof l[e]||(0,t.isValidElement)(l[e])||(n[e]=l[e]);!1!==(null==s?void 0:s[i])&&r.t8(e,i,n)}return e}),{}),n=Object.entries((null==d?void 0:d.current)||{}).reduce(((e,n)=>{let[i,l]=n;if(i.startsWith("/")){const n={};for(const e in l)void 0===l[e]||"function"==typeof l[e]||(0,t.isValidElement)(l[e])||(n[e]=l[e]);!1!==(null==s?void 0:s[i])&&r.t8(e,i,n)}return e}),{});return{propsOfFields:e,propsOfValues:n}}),[o,s,d]);return u&&(n&&console.log(c()),i&&(i.current=c)),a}},92581:function(e,n,i){i.d(n,{Z:function(){return h}});var t=i(2784),r=i(21068),l=i(54109).Z,s=i(9149),a=i(52322);function o(e){let{placeholder:n,label:i,data:o,...h}=e;const{data:u}=(0,t.useContext)(r.Z);return(0,a.jsxs)(l,{element:"output",backgroundColor:"sand-yellow",style:{maxWidth:"80vw"},innerSpace:!0,...h,children:[i&&(0,a.jsx)(s.Z,{bottom:!0,children:i}),(0,a.jsxs)("pre",{children:[n&&0===Object.keys((null!=o?o:u)||{}).length?n:JSON.stringify(d(null!=o?o:u),null,2)," "]})]})}function d(e,n){return void 0===n&&(n="undefined"),void 0===e?n:"object"==typeof e&&e!==n?{...e,...Object.fromEntries(Object.entries(e).map((e=>{let[n,i]=e;return[n,d(i)]})))}:e}o._supportsSpacingProps=!0;var h=o},4902:function(e,n,i){i.r(n),i.d(n,{GenerateSchema:function(){return t.Z},ListAllProps:function(){return r.Z},Log:function(){return l.Z}});var t=i(38734),r=i(10454),l=i(92581)},80890:function(e,n,i){i.d(n,{I:function(){return t}});const t={"nb-NO":{ChildrenWithAge:{hasChildren:{title:"Antall barn",fieldLabel:"Har du/dere barn under 18 år?",required:"Du må angi om du har barn under 18 år eller ikke."},countChildren:{fieldLabel:"Antall barn under 18 år",required:"Du må skrive inn antall barn.",suffix:"barn"},childrenAge:{fieldLabel:"Alder på barn nr. {itemNo}",required:"Du må skrive inn alder på barnet.",suffix:"år"},hasJointResponsibility:{fieldLabel:"Har du delt omsorg for noen av barna?"},confirmJointResponsibility:{fieldLabel:"Delt omsorg"},usesDaycare:{fieldLabel:"Har du/dere SFO/AKS for noen av barna?",required:"Du må angi om du har SFO/AKS for noen av barna."},hasDaycare:{fieldLabel:"Er på SFO/AKS"},jointResponsibilityTrue:"delt omsorg",jointResponsibilityFalse:"ikke delt omsorg",daycareTrue:"SFO/AKS",daycareFalse:"uten SFO/AKS"}},"en-GB":{ChildrenWithAge:{hasChildren:{title:"Number of children",fieldLabel:"Do you have children under the age of 18?",required:"You must state whether you have children under 18 or not."},countChildren:{fieldLabel:"Number of children under the age of 18",required:"You must enter the number of children.",suffix:"children"},childrenAge:{fieldLabel:"Age of child no. {itemNo}",required:"You must enter the age of the child.",suffix:"years old"},hasJointResponsibility:{fieldLabel:"Do you have joint parental responsibility for any of the children?"},confirmJointResponsibility:{fieldLabel:"Joint parental responsibility"},usesDaycare:{fieldLabel:"Do you have SFO/AKS for any of the children?",required:"You must state whether you have SFO/AKS for any of the children."},hasDaycare:{fieldLabel:"Has SFO/AKS"},jointResponsibilityTrue:"joint parental responsibility",jointResponsibilityFalse:"not joint parental responsibility",daycareTrue:"SFO/AKS",daycareFalse:"without SFO/AKS"}}}}}]);
//# sourceMappingURL=f80c1f3e8d4f96e528d33f9d855966d414823100-874c558a7f25b286d246.js.map