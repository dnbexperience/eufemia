# v10

- [v10](#v10)
  - [Migration](#migration)
  - [Features](#features)
  - [Web Components](#web-components)
    - [Breakpoints](#breakpoints)
    - [StepIndicator](#stepindicator)
    - [Table](#table)
    - [Slider](#slider)
    - [Timeline](#timeline)
    - [Anchor](#anchor)
    - [Button](#button)
    - [Tooltip](#tooltip)
    - [Icon](#icon)
    - [Modal, Dialog and Drawer](#modal-dialog-and-drawer)
    - [Lists](#lists)
    - [InputMasked](#inputmasked)
    - [FormRow](#formrow)
    - [Removal of `data-testid` in components](#removal-of-data-testid-in-components)
    - [Stopped supporting Internet Explorer (IE)](#stopped-supporting-internet-explorer-ie)
    - [Deprecations](#deprecations)
  - [TypeScript](#typescript)
  - [Install](#install)

## Migration

v10 of @dnb/eufemia contains _breaking changes_. As a migration process, you can simply search and replace:

## Features

1. [Browser support](/uilib/usage/#supported-browsers-and-platforms) has been updated to support modern browsers only (es6).

## Web Components

1. The support for Web Components, Vue and Angular was removed.

### Breakpoints

Some [breakpoints](https://eufemia.dnb.no/uilib/usage/layout/media-queries) sizes have changed:

- **xx-large:** `1280` is now `1440` – and `80em` is now `90em`
- **x-large:** `1152` is now `1280` – and `72em` is now `80em`
- **large:** `960` is now `1152` – and `60em` is now `72em`
- **medium:** `800` is now `960` – and `50em` is now `60em`

1. Find `$layout-x-large` and replace with `$layout-large`
1. Find `$layout-xx-large` and replace with `$layout-x-large`
1. Find `--layout-x-large` and replace with `--layout-large`
1. Find `--layout-xx-large` and replace with `--layout-x-large`

**NB:** Import and use the Eufemia breakpoints directly in your code:

```scss
// breakpoints.scss
@import '@dnb/eufemia/style/core/utilities';
$layout-small: map-get($breakpoints, 'small');
$layout-medium: map-get($breakpoints, 'medium');
$layout-large: map-get($breakpoints, 'large');
```

## Breaking changes to CSS packages and imports

Example imports of the new style structure:

```js
import '@dnb/eufemia/style/core'
import '@dnb/eufemia/style/themes/ui'
```

Or as CSS imports:

```js
import '@dnb/eufemia/style/dnb-ui-core.min.css'
import '@dnb/eufemia/style/themes/theme-ui/dnb-theme-components.min.css'
import '@dnb/eufemia/style/themes/theme-ui/dnb-theme-basis.min.css'
```

In detail:

- The package `dnb-theme-ui` was renamed to `dnb-theme-basis`.
- The package `dnb-ui-components` was renamed and moved inside a theme `/style/themes/theme-ui/dnb-theme-components.*`.
- `dnb-ui-tags` was renamed and moved form `/style/dnb-ui-tags.*` to `/style/themes/theme-ui/dnb-theme-tags.*`.

### Font

The DNB font is moved inside a subfolder in `/assets/fonts/dnb/...`.

The CSS package `dnb-ui-fonts` is moved inside a theme folder `/themes/theme-ui`.

CSS Packages such as:

- `dnb-ui-basis`
- `dnb-ui-core`

do not contain the fonts anymore. Fonts are now only a part of a theme file, such as: `/style/themes/theme-ui/dnb-theme-basis.*`.

As long as you don't import them manually, you don't need to make any changes in your codebase.

### Properties

The DNB `properties.scss` and `properties.js` files were moved inside a theme folder `/style/themes/theme-ui/properties.*`.

Packages such as:

- `dnb-ui-basis`
- `dnb-ui-core`

do not contain the properties anymore. Properties are only a part of a theme file, such as: `/style/themes/theme-ui/dnb-theme-basis.*`.

As long as you don't import them in your application, you don't need to make any changes in your codebase.

### StepIndicator

1. Find the `active_item` property and replace it with `current_step`.
1. Find `use_navigation` and remove it or replace it with `mode="strict"` or `mode="loose"`.
1. URL support has been removed – so props like `active_url`, `url`, `url_future`, and `url_passed` are not supported anymore. You have to handle it by yourself from inside your application. Here is [an example](/uilib/components/step-indicator/#stepindicator-with-a-router).

### Table

1. Ensure all table sub elements have a CSS Class:
   1. `tr` => `.dnb-table__tr`
   1. `th` => `.dnb-table__th`
   1. `td` => `.dnb-table__td`
1. Find the `sticky_offset` property and replace it with `stickyOffset`.
1. Find the `/elements/Table` property and replace it with `/components/Table`.
1. Alignment classes are removed (`.dnb-table--left`, `.dnb-table--right` and `.dnb-table--center`). Use the `align` attribute instead.
1. Font-sizing classes are removed (`.dnb-table--small` and `.dnb-table--x-small`). Use the `size` property instead.
1. Find and remove `Table.StickyHelper`.

### [Slider](/uilib/components/slider)

1. Find the `thump_title` property and replace it with `thumbTitle`.
1. Find the snake_case `add_title` property and replace it with `addTitle`.
1. Find the snake_case `subtract_title` property and replace it with `subtractTitle`.
1. Remove `@dnb/eufemia/components/slider/style/dnb-range.min.css` and use the Eufemia Slider component instead.
1. `use_scrollwheel` and `on_init` properties, as well as the `raw_value` event value from Slider was removed in order to support multiple buttons.

### [Timeline](/uilib/components/timeline)

1. Find the `name` property in your Timeline JSX syntax and replace it with `title`.
1. Find the `date` property in your Timeline JSX syntax and replace it with `subtitle`.

### [Anchor](/uilib/elements/anchor)

1. Find the `target_blank_title` property and replace it with `targetBlankTitle`.

### [Button](/uilib/components/button)

1. The padding of the `teriary` button is removed. Please, check your application and add back the padding of `0.5rem` if needed.

### [Pagination](/uilib/components/pagination) and [InfinityScroller](/uilib/components/pagination/infinity-scroller)

1. Replace the deprecated event return parameter `page` with `pageNumber`.

### [Tooltip](/uilib/components/tooltip)

1. Find the `target_element` property and replace it with `targetElement`.
1. Find the `target_selector` property and replace it with `targetSelector`.
1. Find the `animate_position` property and replace it with `animatePosition`.
1. Find the `fixed_position` property and replace it with `fixedPosition`.
1. Find the `skip_portal` property and replace it with `skipPortal`.
1. Find the `no_animation` property and replace it with `noAnimation`.
1. Find the `show_delay` property and replace it with `showDelay`.
1. Find the `hide_delay` property and replace it with `hideDelay`.

### [Icon](/uilib/components/icon)

1. Find the `data-test-id` property and replace it with `data-testid`.
   The usage of `data-test-id` will most likely be found in your tests.

### [Modal](/uilib/components/modal), [Dialog](/uilib/components/dialog) and [Drawer](/uilib/components/drawer)

Modal's `mode` property is now deprecated and removed.
`<Modal />` now behaves as `<Modal mode="custom" />` did previously.

When you convert from `<Modal mode="custom" />` simply change to `<Modal />`.

When you convert from `<Modal mode="drawer" />` to `<Drawer />` – follow these steps:

- All `trigger_*` props are not supported for Drawer, use `triggerAttributes` instead to pass in props for the trigger button.
  - Change prop `trigger_hidden` to `omitTriggerButton` to omit the default trigger button from Modal.
- Only camelCase props are supported for Drawer, so you will need to update the prop names.
- `Modal.Inner` or `Modal.Content` converts to `Drawer.Body`.
- `Modal.Bar` converts to `Drawer.Navigaton`.
- `Modal` was a class component and `Drawer` is a functional component.

When you convert from `<Modal />` or `<Modal mode="dialog" />` to `<Dialog />` – follow these steps:

- All `trigger_*` props are not supported for Dialog, use `triggerAttributes` instead to pass in props for the trigger button.
  - Change prop `trigger_hidden` to `omitTriggerButton` to omit the default trigger button from Modal.
- Only camelCase props are supported for Dialog, so you will need to update the prop names.
- `Modal.Inner` or `Modal.Content` converts to `Dialog.Body`.
- `Modal.Bar` converts to `Dialog.Navigaton`.
- `Modal` was a class component and `Dialog` is a functional component.

### [Lists](/uilib/elements/lists)

1. New **Definition List** layout direction: `direction="horizontal"` including `Dl.Item` [demo](https://eufemia.dnb.no/uilib/elements/lists/#definition-list-in-horizontal-direction).

### [InputMasked](/uilib/components/input-masked)

1. In v10, InputMasked **allows leading zeros**. To prevent that behavior, the property `allowLeadingZeroes` has changed to `disallowLeadingZeroes`.

### [FormRow](/uilib/components/form-row)

1. The FormRow properties `indent` and `indent_offset` were removed.

### Removal of `data-testid` in components

- [Avatar](/uilib/components/avatar).
- [Badge](/uilib/components/badge).
- [Breadcrumb](/uilib/components/breadcrumb).
- [InfoCard](/uilib/components/info-card).
- [Tag](/uilib/components/tag).
- [Upload](/uilib/components/upload).
- [Timeline](/uilib/components/timeline).

### [Stopped supporting Internet Explorer (IE)](/uilib/usage/#supported-browsers-and-platforms)

Stopped supporting Internet Explorer (IE), as Microsoft formally ended support for IE in June, 2022.

### TypeScript

- Updated multiple types from `string | boolean` to `boolean`, as there was a lot of properties who should only support boolean values and not strings.
  Examples of changes to do would be to find Eufemia components using `"false"` or `"true"`, and replace it with boolean values. i.e., `vertical="false"` to `vertical={false}` or `selectall="true"` to `selectall={true}`.

### SCSS

Find the SCSS @mixin `fakeFocus` and replace it with `focusRing`.
Find the SCSS @mixin `removeFakeFocus` and replace it with `removeFocusRing`.

### Deprecations

- Helper class `.dnb-sr-only--inline` and SCSS mixin `srOnlyInline` was removed.
- Helper class `.dnb-not-sr-only` and SCSS mixin `notSrOnly` was removed.
- `import { SpacingHelper } from '@dnb/eufemia/shared'` was removed due to low usage. Use one of the [other exported helpers](/uilib/usage/layout/spacing).
- `import { LocaleProps, DataAttributeTypes, DynamicElement } from '@dnb/eufemia/shared/interfaces'` was removed, and moved to `@dnb/eufemia/shared/types`.
- `isIE11` and `IS_IE11` is deprecated as we have stopped supporting Internet Explorer (IE).

## Install

To upgrade to @dnb/eufemia v10 with NPM, use:

```bash
$ npm i @dnb/eufemia@10
# or
$ yarn add @dnb/eufemia@10
```

_February, 24. 2023_
