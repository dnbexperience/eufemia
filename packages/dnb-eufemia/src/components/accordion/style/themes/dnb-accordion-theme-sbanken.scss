/*
* Accordion theme
*
*/

@import '../../../../style/core/utilities.scss';
@import '../../../button/style/themes/button-mixins.scss';

.dnb-accordion {
  --accordion-border-width: 0;
  --accordion-border-radius: 0;
  --accordion-expanded-border-width: 0.1875rem;
  --accordion-content-padding-left: calc(
    3.5rem - var(--accordion-expanded-border-width)
  );

  color: var(--sb-color-text);

  &__header,
  &__content {
    border-left: 0.1875rem solid transparent;
  }

  &__header {
    @include focus-visible() {
      @include focusRing('always');
      z-index: 1;
      border-radius: 0.125rem;
      background-color: var(--sb-color-blue-light-3);
      color: var(--border-color);

      .dnb-accordion__header__icon {
        color: var(--border-color);
      }
    }
    @include hover() {
      background-color: var(--sb-color-violet-light-2);
    }

    @include active() {
      background-color: var(--sb-color-white);
      @include fakeBorder(var(--sb-color-violet), null, inset);
      border-left-width: 0;
      padding-left: var(--accordion-expanded-border-width);
    }

    &__wrapper {
      margin: 1rem 1.5rem;
    }

    &__icon {
      color: var(--sb-color-violet);
      margin: 1rem 0.5rem 1rem
        calc(1.5rem - var(--accordion-expanded-border-width));
    }

    &--icon-right {
      .dnb-accordion__header__icon {
        margin-right: calc(
          1.5rem - var(--accordion-expanded-border-width)
        );
        margin-left: 0.5rem;
      }

      .dnb-accordion__header__wrapper {
        margin-left: calc(1.5rem - var(--accordion-expanded-border-width));
      }

      + .dnb-accordion__content {
        --accordion-content-padding-left: calc(
          1.5rem - var(--accordion-expanded-border-width)
        );
      }
    }

    // disabled
    &[disabled] {
      * {
        color: var(--sb-color-gray-dark-2);
      }
    }
  }

  &__content__inner {
    margin-top: 0;
    padding-left: var(--accordion-content-padding-left);
    padding-bottom: 1rem;
  }

  &--expanded {
    > .dnb-accordion__header {
      font-weight: var(--sb-font-weight-bold);
    }

    > .dnb-accordion__header,
    > .dnb-accordion__content {
      background-color: var(--sb-color-violet-light-4);
      border-left-color: var(--sb-color-violet);
    }

    // disabled
    > .dnb-accordion__header[disabled],
    > .dnb-accordion__header[disabled] + .dnb-accordion__content {
      background-color: var(--sb-color-gray-light-2);
      border-left-color: var(--sb-color-gray-dark-2);
    }
  }
}
