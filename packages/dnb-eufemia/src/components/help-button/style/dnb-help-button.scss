/*
 * HelpButton component
 *
 */

@import '../../button/style/themes/button-mixins.scss';

.dnb-help-button {
  & .dnb-button__bounding {
    transform: scale(1.5);
  }

  &.dnb-help-button__inline {
    &--open {
      @include buttonHoverStyle(null, null, var(--color-emerald-green));
    }

    &--was-open .dnb-button__icon {
      animation: rotate-icon-out 400ms var(--easing-default);
    }
    &--open .dnb-button__icon {
      animation: rotate-icon-in 400ms var(--easing-default) forwards;
    }
    html[data-visual-test] & {
      .dnb-button__icon {
        animation: none;
      }
    }
  }
}

.dnb-help-button__content {
  .dnb-section {
    --background-color: var(--help-button-content-background);

    // Because we don't use/need an outline, we need to add to get a wider corner radius.
    --rounded-corner--value: calc(var(--card-outline-width) + 0.5rem);

    // Also, because no outline, we need to stretch the content to the left and right.
    margin-left: calc(var(--card-outline-width) * -1);
    margin-right: calc(var(--card-outline-width) * -1);

    .dnb-p {
      max-width: 60ch; // to enhance readability;

      transition: transform 400ms var(--easing-default) 40ms;
      transform: translate3d(0, -0.5rem, 0);
    }
  }

  &.dnb-height-animation--parallax .dnb-section .dnb-p {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes rotate-icon-in {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(90deg);
  }
}

@keyframes rotate-icon-out {
  from {
    opacity: 0.2;
    transform: scale(1.1) translateY(-2px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}
