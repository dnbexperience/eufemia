/*
 * Typography
 *
 */

@mixin headingDefaults() {
  padding: 0;
  &:not([class*='dnb-space']) {
    margin: 0;
  }

  font-family: var(--font-family-default);
  font-weight: var(--font-weight-medium);

  // make icons inside heading responsive to the heading size
  .dnb-icon--default {
    font-size: 1em;
  }
  .dnb-icon--medium {
    font-size: 1.5em;
  }

  // to ensure we don't make the heading higher than it is supposed to be
  a,
  .dnb-anchor {
    padding-top: 0;
    padding-bottom: 0.03125rem;
  }
}
@mixin headingStyle_xx-large() {
  font-size: var(--font-size-xx-large);
  line-height: var(--line-height-x-large);

  // &--small,/* deprecated */
  & > small {
    display: block;
    font-size: var(--font-size-x-large);
    line-height: var(--line-height-large);
  }
}
@mixin headingStyle_x-large() {
  font-size: var(--font-size-x-large);
  line-height: var(--line-height-large);

  // &--small,/* deprecated */
  & > small {
    display: block;
    font-size: var(--font-size-x-large);
    line-height: var(--line-height-large);
  }
}
@mixin headingStyle_large() {
  font-size: var(--font-size-large);
  line-height: var(--line-height-medium);

  // &--small,/* deprecated */
  & > small {
    font-size: var(--font-size-medium);
    line-height: calc(var(--line-height-medium) - 0.125rem);
  }
}
// Like Lead / --lead
@mixin headingStyle_medium() {
  font-size: var(--font-size-medium);
  line-height: calc(var(--line-height-medium) - 0.25rem);

  // &--small,/* deprecated */
  & > small {
    font-size: var(--font-size-basis);
    line-height: var(--line-height-basis);
  }
}
@mixin headingStyle_basis() {
  font-size: var(--font-size-basis);
  line-height: var(--line-height-basis);

  & > small {
    font-size: var(--font-size-small);
    line-height: var(--line-height-small);
  }
}
@mixin headingStyle_small() {
  font-size: var(--font-size-small);
  line-height: var(--line-height-small);

  & > small {
    font-size: var(--font-size-x-small);
    line-height: var(--line-height-small);
  }
}
@mixin headingStyle_x-small() {
  font-size: var(--font-size-x-small);
  line-height: var(--line-height-x-small);

  // font-weight: var(--font-weight-regular);
}
@mixin paragraphStyle() {
  font-size: var(--font-size-basis);

  // if we not reset margin, the browser is using: margin-block-end: 1rem;
  &:not([class*='space__top']) {
    margin-top: 0;
  }
  &:not([class*='space__bottom']) {
    margin-bottom: 0;
  }
  padding: 0;

  &--lead {
    @include headingStyle_medium();
  }

  &--ingress,
  &--medium {
    font-weight: var(--font-weight-medium);
  }

  b,
  strong,
  &--bold {
    font-weight: var(--font-weight-bold);
  }

  &--small,
  & > small {
    font-size: var(--font-size-small);
    line-height: var(--line-height-small);
  }
  &--x-small {
    font-size: var(--font-size-x-small);
    line-height: var(--line-height-x-small);
  }

  & > cite {
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-basis);
    font-style: italic;
  }
}
@mixin headingSpacing_xx-large() {
  &:not([class*='space__top']) {
    margin-top: 3rem;
  }
  &:not([class*='space__bottom']) {
    margin-bottom: 2.5rem;
  }
}
@mixin headingSpacing_x-large() {
  &:not([class*='space__top']) {
    margin-top: 3rem;
  }
  &:not([class*='space__bottom']) {
    margin-bottom: 1rem;
  }
}
@mixin headingSpacing_large() {
  &:not([class*='space__top']) {
    margin-top: 3rem;
  }
  &:not([class*='space__bottom']) {
    margin-bottom: 1rem;
  }
}
@mixin headingSpacing() {
  &:not([class*='space__top']) {
    margin-top: 2rem;
  }
  &:not([class*='space__bottom']) {
    margin-bottom: 1rem;
  }
}
@mixin typographyTags() {
  p {
    @include paragraphStyle();
  }
  b,
  strong {
    font-weight: var(--font-weight-bold);
  }
  small {
    font-size: var(--font-size-small);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @include headingDefaults();
  }
  h1 {
    @include headingStyle_xx-large();
  }
  h2 {
    @include headingStyle_large();
  }
  h3 {
    @include headingStyle_medium();
  }
  h4 {
    @include headingStyle_basis();
  }
  h5 {
    @include headingStyle_small();
  }
  h6 {
    @include headingStyle_x-small();
  }

  h2 > small,
  h3 > small,
  h4 > small,
  h5 > small,
  h6 > small {
    line-height: var(
      --line-height-xx-small--em
    ); // for vertical alignment, we have to have no line-height
  }

  .dnb-spacing {
    h1,
    .dnb-core-style & h1 {
      @include headingSpacing_xx-large();
    }
    h2,
    .dnb-core-style & h2 {
      @include headingSpacing_large();
    }
    h3,
    h4,
    h5,
    h6,
    .dnb-core-style & h3,
    .dnb-core-style & h4,
    .dnb-core-style & h5,
    .dnb-core-style & h6 {
      @include headingSpacing();
    }
    p,
    .dnb-core-style & p {
      @include defaultSpacing();
    }
  }
}

.dnb-small {
  font-size: var(--font-size-small);
}

// // Small: do not set this for h1, like ".dnb-h--xx-large > .dnb-small"
// .dnb-p > small,
// .dnb-p > .dnb-small {
//   line-height: var(--line-height-xx-small--em); // for vertical alignment, we have to have no line-height
// }

// Paragraphs
.dnb-p {
  @include paragraphStyle();
}

// .dnb-h1,/* deprecated */
.dnb-h--xx-large {
  @include headingStyle_xx-large();
}

.dnb-h--x-large {
  @include headingStyle_x-large();
}

// .dnb-h2,/* deprecated */
.dnb-h--large {
  @include headingStyle_large();
}

/* dnb-h--medium looks the same as .dnb-lead */
// .dnb-h3,/* deprecated */
.dnb-lead,
.dnb-h--medium {
  @include headingStyle_medium();
}

// The rest of the Headings are nod defned by the Eufemia Typography
// .dnb-h4,/* deprecated */
.dnb-h--basis {
  @include headingStyle_basis();
}
// .dnb-h5,/* deprecated */
.dnb-h--small {
  @include headingStyle_small();
}
// .dnb-h6,/* deprecated */
.dnb-h--x-small {
  @include headingStyle_x-small();
}

// Headings
// .dnb-h1,/* deprecated */
// .dnb-h2,/* deprecated */
// .dnb-h3,/* deprecated */
// .dnb-h4,/* deprecated */
// .dnb-h5,/* deprecated */
// .dnb-h6,/* deprecated */
// make exception on headings wtich are inside of dnb-core-style
// .dnb-core-style .dnb-h1,/* deprecated */
// .dnb-core-style .dnb-h2,/* deprecated */
// .dnb-core-style .dnb-h3,/* deprecated */
// .dnb-core-style .dnb-h4,/* deprecated */
// .dnb-core-style .dnb-h5,/* deprecated */
// .dnb-core-style .dnb-h6,/* deprecated */

// Headings
.dnb-lead,
.dnb-h--xx-large,
.dnb-h--x-large,
.dnb-h--large,
.dnb-h--medium,
.dnb-h--basis,
.dnb-h--small,
.dnb-h--x-small,
// make exception on headings wtich are inside of dnb-core-style
.dnb-core-style .dnb-lead,
.dnb-core-style .dnb-h--xx-large,
.dnb-core-style .dnb-h--x-large,
.dnb-core-style .dnb-h--large,
.dnb-core-style .dnb-h--medium,
.dnb-core-style .dnb-h--basis,
.dnb-core-style .dnb-h--small,
.dnb-core-style .dnb-h--x-small {
  @include headingDefaults();
}

// Spacing
.dnb-spacing {
  // .dnb-h1,/* deprecated */
  .dnb-h--xx-large,
  // .dnb-core-style & .dnb-h1,/* deprecated */
  .dnb-core-style & .dnb-h--xx-large {
    @include headingSpacing_xx-large();
  }
  .dnb-h--x-large,
  .dnb-core-style & .dnb-h--x-large {
    @include headingSpacing_x-large();
  }
  // .dnb-h2,/* deprecated */
  // .dnb-core-style & .dnb-h2,/* deprecated */
  .dnb-h--large,
  .dnb-core-style & .dnb-h--large {
    @include headingSpacing_large();
  }

  // .dnb-h3,/* deprecated */
  // .dnb-h4,/* deprecated */
  // .dnb-h5,/* deprecated */
  // .dnb-h6,/* deprecated */
  // .dnb-core-style & .dnb-h3,/* deprecated */
  // .dnb-core-style & .dnb-h4,/* deprecated */
  // .dnb-core-style & .dnb-h5,/* deprecated */
  // .dnb-core-style & .dnb-h6,/* deprecated */
  .dnb-lead,
  .dnb-h--medium,
  .dnb-h--basis,
  .dnb-h--small,
  .dnb-h--x-small,
  .dnb-core-style & .dnb-lead,
  .dnb-core-style & .dnb-h--medium,
  .dnb-core-style & .dnb-h--basis,
  .dnb-core-style & .dnb-h--small,
  .dnb-core-style & .dnb-h--x-small {
    @include headingSpacing();
  }

  .dnb-p,
  .dnb-core-style & .dnb-p {
    @include defaultSpacing();
  }
}
